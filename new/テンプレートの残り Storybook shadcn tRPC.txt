






## Storybook ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

npx storybook@latest init

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒå®Œäº†ã™ã‚‹ã¨ è‡ªå‹•ã§ Storybook ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ãŒå§‹ã¾ã‚‹ã®ã§ä½“é¨“ã—ã¦ã¿ã¦ãã ã•ã„ã€‚è‹±èªã§ã™ãŒå§‹ã‚ã¦Storybookã‚’è§¦ã‚‹äººã«ã¨ã£ã¦æœ€åˆã«çŸ¥ã£ã¦ãŠãã¹ãé‡è¦ãªã“ã¨ãŒç´„3åˆ†ã§çŸ¥ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

TailwindCSS ã‚’ Storybook ã§ã‚‚é©ç”¨ã•ã‚Œã‚‹ã‚ˆã†ã«è¨­å®šã—ã¾ã™ã€‚

```.storybook/preview.ts (è¿½è¨˜)
import "../src/styles/globals.css"

```


# Storybook ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ç›´å¾Œ

'aria-query' ã®å‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚
ã¨ã„ã†ã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸã®ã§å¯¾å‡¦ã—ã¾ã™ã€‚

npm install aria-query

tsconfig.jsonãƒ•ã‚¡ã‚¤ãƒ«ã«ã€
"types": ["aria-query"] ã‚’è¿½è¨˜ã—ã¾ã™ã€‚

```tsconfig.json
    "plugins": [
      {
        "name": "next"
      }
    ],
    "paths": {
      "@/*": ["./src/*"]
    },
    "types": ["aria-query"]
  },

```




â€»Storybookã¯å®Ÿéš›ã«ã©ã‚“ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œã‚‹ã‹æ±ºã‚ã¦ã‹ã‚‰
ãã‚Œã§è¿·ã£ãŸã‚‰å°å…¥ã—ãŸã»ã†ãŒè‰¯ã‹ã£ãŸ
å…¨ä½“åƒã‚’ã©ã†ã™ã‚‹ã‹ã‚‚ã¾ã ä½•ã‚‚æ±ºã¾ã£ã¦ãªã„æ®µéšã§ã¯å¿…è¦ãªã‹ã£ãŸã€‚
æœ€åˆã«ï¼‘ã¤ç›®ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œã‚‹ã¾ã§ã¯å°å…¥ã—ãªã„ã§ã„ã„ã¨æ€ã†ã€‚









# shadcn/ui

Next.js - shadcn/ui

https://ui.shadcn.com/docs/installation/next

React ã® UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãªã‚‰@shadcn/ui ãŒã¡ã‚‡ã†ã©ã„ã„

https://zenn.dev/mottox2/articles/react-shadcn-ui

ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ CLI ã‹ã‚‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹æ–¹æ³•ã¨
ã‚µã‚¤ãƒˆã‹ã‚‰ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼ã™ã‚‹ã‚„ã‚Šæ–¹ãŒã‚ã‚Šã¾ã™ã€‚

shadcn/ui å…¬å¼ã®æ¨å¥¨ Next.js ã‚¢ãƒ—ãƒªã®æ§‹æˆ

```tree
src
â”œâ”€â”€ app
â”‚   â”œâ”€â”€ layout.tsx
â”‚   â””â”€â”€ page.tsx
â”œâ”€â”€ components
â”‚   â”œâ”€â”€ ui
â”‚   â”‚   â”œâ”€â”€ alert-dialog.tsx
â”‚   â”‚   â”œâ”€â”€ button.tsx
â”‚   â”‚   â”œâ”€â”€ dropdown-menu.tsx
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ main-nav.tsx
â”‚   â”œâ”€â”€ page-header.tsx
â”‚   â””â”€â”€ ...
â”œâ”€â”€ lib
â”‚   â””â”€â”€ utils.ts
â”œâ”€â”€ styles
â”‚   â””â”€â”€ globals.css
â”œâ”€â”€ next.config.js
â”œâ”€â”€ package.json
â”œâ”€â”€ postcss.config.js
â”œâ”€â”€ tailwind.config.js
â””â”€â”€ tsconfig.json

```








ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— åˆæœŸåŒ–

ui ã‚„ utils ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä¿å­˜ãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œã£ã¦ãŠãã¾ã™ã€‚

mkdir src\components\ui

mkdir src\lib

npx shadcn-ui@latest init

globals.cssã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å ´æ‰€ã¯æŒ‡å®šã—ã¾ã™ã€‚

src/styles/globals.css

ãã®ä»–ã¯å…¨ã¦ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’é¸æŠã—ã¾ã™ã€‚

```
npx shadcn-ui@latest init
âˆš Would you like to use TypeScript (recommended)? ... no / yes
âˆš Which style would you like to use? Â» Default
âˆš Which color would you like to use as base color? Â» Slate
âˆš Where is your global CSS file? ... src/styles/globals.css
âˆš Would you like to use CSS variables
for colors? ... no / yes
âˆš Where is your tailwind.config.js located? ... tailwind.config.js
âˆš Configure the import alias for components: ... @/components
âˆš Configure the import alias for utils: ... @/lib/utils
âˆš Are you using React Server Components? ... no / yes
âˆš Write configuration to components.json. Proceed? ... yes

âœ” Writing components.json...
âœ” Initializing project...
âœ” Installing dependencies...

Success! Project initialization completed.

```

â€»VSCodeã‚’å†èµ·å‹•ã—ã¾ã™ã€‚




```shadcn-u ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã®ã¾ã¨ã‚
åˆæœŸåŒ–
npx shadcn-ui@latest init

â€»åˆæœŸåŒ–ã‚³ãƒãƒ³ãƒ‰ã¯æ—¢å­˜è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚‹å ´åˆä¸Šæ›¸ãã•ã‚Œã¾ã™ã€‚
â€»ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚³ãƒãƒ³ãƒ‰ã¨ä¸€ç·’ã§ã™ã€‚

CLI ã‹ã‚‰ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ–¹æ³•
npx @shadcn/ui add

npx @shadcn-ui add [options] [components...]

â€»addã‚³ãƒãƒ³ãƒ‰ã¯æ—¢å­˜ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã£ã¦ã‚‚ä¸Šæ›¸ãã•ã‚Œã¾ã™ã€‚(ç¢ºèª)


options:
  -y, --yes          skip confirmation prompt. (default: false)
  -o, --overwrite    overwrite existing files. (default: false)
  -c, --cwd <cwd>    the working directory. defaults to the current directory.
  -p, --path <path>  the path to add the component to.
  -h, --help         display help for command

```



ä¸Šä¸‹ã‚­ãƒ¼ã§ã‚«ãƒ¼ã‚½ãƒ«ãŒä¸Šä¸‹ã—ã¾ã™ã€‚
ã‚¹ãƒšãƒ¼ã‚¹ã§é¸æŠã—ã¾ã™ã€‚
ãƒªã‚¿ãƒ¼ãƒ³ã‚­ãƒ¼ã§æ±ºå®šã—ã¾ã™ã€‚

```shadcn/uiã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒªã‚¹ãƒˆ
components:
( )   accordion
( )   alert
( )   alert-dialog
( )   aspect-ratio
( )   avatar
( )   badge
( )   button
( )   calendar
( )   card
( )   checkbox
( )   collapsible
( )   command
( )   context-menu
( )   dialog
( )   dropdown-menu
( )   hover-card
( )   input
( )   label
( )   menubar
( )   navigation-menu
( )   popover
( )   progress
( )   radio-group
( )   scroll-area
( )   select
( )   separator
( )   sheet
( )   skeleton
( )   slider
( )   switch
( )   table
( )   tabs
( )   textarea
( )   toast
( )   toggle
( )   tooltip

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’é¸æŠã—ã¾ã™ã€‚
A ã§ã™ã¹ã¦ã‚’é¸æŠã—ã¾ã™ã€‚

â€»ã—ã‹ã—ã€ã™ã¹ã¦é¸æŠã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã¨ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã—ãŸã€‚

```

ã“ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’é¸æŠã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

2023å¹´7æœˆ26æ—¥ç¾åœ¨ é¸æŠã§ãã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â€»é–‹ç™ºãŒæ´»ç™ºãªã®ã§ã“ã®ãƒªã‚¹ãƒˆä»¥å¤–ã«ã‚‚å¢—ãˆã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚


ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å…ˆã‚’æŒ‡å®šã—ã¾ã™ã€‚
src/components/ui
src/components/ui
src/components/ui



â€»ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ ã™ã§ã«ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚‹ã¨ä¸Šæ›¸ãã•ã‚Œã¾ã›ã‚“ã€‚
ä¸Šæ›¸ãã—ãŸã„å ´åˆã¯ -o ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ã¤ã‘ã¾ã™ã€‚





## ãŠè©¦ã—

button ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã¿ã¾ã™ã€‚

npx shadcn-ui@latest add button

or

npx shadcn-ui@latest add
button ã‚’é¸æŠã—ã¾ã™ã€‚

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å…ˆã‚’æŒ‡å®šã—ã¾ã™ã€‚
src/components/ui
src/components/ui



å‹•ä½œç¢ºèªç”¨

ãªã«ã‹é©å½“ãªãƒšãƒ¼ã‚¸ã‚’ä½œæˆã—ã¾ã™ã€‚

mkdir src\app\about

touch src\app\about\page.tsx

```src\app\about\page.tsx
"use client";

// importæ–‡ã®é †ç•ªã‚‚è‡ªå‹•æ•´å½¢ã•ã‚Œã¾ã™ã€‚
import { type NextPage } from "next";
import Link from "next/link";

import { Button } from "@/components/ui/button";

const Home: NextPage = () => {
  return (
    <main>
      {/* TailwindCSSã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£å€¤ã‚‚è‡ªå‹•æ•´åˆ—ã•ã‚Œã¾ã™ã€‚ */}
      <h1 className="p-4 pt-2">VNS.BLUE</h1>
      Next.js app router é–‹ç™ºç”¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ (Storybook Supabase shadcn/ui)
      <br />
      {/* â†“ã“ã®è¡Œã‚’æ¶ˆã™ã¨importæ–‡ãŒè‡ªå‹•å‰Šé™¤ã•ã‚Œã¾ã™ã€‚ */}
      <Link href="/">Home</Link>
      <div>
        <Button>shadcn/ui ã® Button</Button>
      </div>
    </main>
  );
};

export default Home;

```

ãƒœã‚¿ãƒ³ã¯ RSCã§ã¯ ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã§
ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–
"use client"
ã‚’å…ˆé ­è¡Œã«ã¤ã‘ã¾ã™ã€‚

ãã—ã¦
npm run dev
ã‚’å®Ÿè¡Œã—ã¦

http://localhost:3000/about
ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ãƒœã‚¿ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚





















































































----------------------------------------












# ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰

shadcn/ui å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

Dark Mode - shadcn/ui

https://ui.shadcn.com/docs/dark-mode



# Next.js ï¼‹ shadcn/ui ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰

## ã¯ã˜ã‚ã« - shadcn/ui

https://ui.shadcn.com/docs


## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« - shadcn/ui

https://ui.shadcn.com/docs/installation



globals.css ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚“ã§ã„ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã® path ã‚’ä¿®æ­£ã—ã¾ã™ã€‚

```src\app\layout.tsx
import '@/styles/globals.css'

...

<html lang='ja'>

```

ja ã¨æ—¥æœ¬èªã«ã‚‚è¨­å®šã—ã¦ãŠãã¾ã™ã€‚

## shadcn ã®åˆæœŸåŒ–

npx shadcn-ui@latest init

global CSS ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®å ´æ‰€ã‚’æŒ‡å®šã—ã¾ã™ã€‚

src/styles/globals.css

åˆæœŸåŒ–ãŒçµ‚äº†ã™ã‚‹ã¨ã€components.json ã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ãŒä½œæˆã•ã‚Œã¾ã™ã€‚

```components.json
{
  "$schema": "https://ui.shadcn.com/schema.json",
  "style": "default",
  "rsc": true,
  "tsx": true,
  "tailwind": {
    "config": "tailwind.config.js",
    "css": "src/styles/globals.css",
    "baseColor": "slate",
    "cssVariables": true
  },
  "aliases": {
    "components": "@/components",
    "utils": "@/lib/utils"
  }
}

```

## ã‚½ãƒ¼ã‚¹æ§‹é€ ï¼ˆå‚è€ƒï¼‰

```tree
src
â”œâ”€â”€ app
â”‚   â”œâ”€â”€ layout.tsx
â”‚   â””â”€â”€ page.tsx
â”œâ”€â”€ components
â”‚   â”œâ”€â”€ ui
â”‚   â”‚   â”œâ”€â”€ alert-dialog.tsx
â”‚   â”‚   â”œâ”€â”€ button.tsx
â”‚   â”‚   â”œâ”€â”€ dropdown-menu.tsx
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ main-nav.tsx
â”‚   â”œâ”€â”€ page-header.tsx
â”‚   â””â”€â”€ ...
â”œâ”€â”€ lib
â”‚   â””â”€â”€ utils.ts
â”œâ”€â”€ styles
â”‚   â””â”€â”€ globals.css
â”œâ”€â”€ next.config.js
â”œâ”€â”€ package.json
â”œâ”€â”€ postcss.config.js
â”œâ”€â”€ tailwind.config.js
â””â”€â”€ tsconfig.json

```

- UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ components/ui ãƒ•ã‚©ãƒ«ãƒ€ã«é…ç½®ã—ã¦ã„ã¾ã™ã€‚

- <PageHeader />ã‚„<MainNav />ãªã©ã®æ®‹ã‚Šã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ã€components ãƒ•ã‚©ãƒ«ãƒ€ã«é…ç½®ã—ã¾ã™ã€‚

- lib ãƒ•ã‚©ãƒ«ãƒ€ã«ã¯ã™ã¹ã¦ã®ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°ãŒå…¥ã£ã¦ã„ã¾ã™ã€‚utils.ts ã«ã¯ cn ãƒ˜ãƒ«ãƒ‘ãƒ¼ã‚’å®šç¾©ã—ã¦ã„ã¾ã™ã€‚

- styles ãƒ•ã‚©ãƒ«ãƒ€ã«ã¯ã‚°ãƒ­ãƒ¼ãƒãƒ« CSS ãŒå…¥ã£ã¦ã„ã¾ã™ã€‚



## ãƒœã‚¿ãƒ³ã‚’è¿½åŠ ã—ã¦ã¿ã‚‹

ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

npx shadcn-ui@latest add

button ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’é¸æŠã—ã¾ã™ã€‚

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å ´æ‰€

src\components\ui

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«

src\components\ui\button.tsx

ãƒœã‚¿ãƒ³ã‚’è¡¨ç¤ºã™ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚

â€»é©å½“ãªãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆå¾Œâ†“page.tsxã‚’ä½œæˆã—ã¾ã™ã€‚

```.....\page.tsx
// importæ–‡ã®é †ç•ªã‚‚è‡ªå‹•æ•´å½¢ã•ã‚Œã¾ã™ã€‚
import { type NextPage } from "next";
import Link from "next/link";

import { Button } from "@/components/ui/button";

const Home: NextPage = () => {
  return (
    <main>
      {/* TailwindCSSã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£å€¤ã‚‚è‡ªå‹•æ•´åˆ—ã•ã‚Œã¾ã™ã€‚ */}
      <h1 className="p-4 pt-2">VNS.BLUE</h1>
      Next.js app router é–‹ç™ºç”¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ (Storybook Supabase shadcn/ui)
      <br />
      {/* â†“ã“ã®è¡Œã‚’æ¶ˆã™ã¨importæ–‡ãŒè‡ªå‹•å‰Šé™¤ã•ã‚Œã¾ã™ã€‚ */}
      <Link href="/">Home</Link>
      <div>
        <Button>shadcn/ui ã® Button</Button>
      </div>
      <br />
      <Link href="./ModeTogglePage">ModeTogglePage</Link>
    </main>
  );
};

export default Home;

```

ãƒœã‚¿ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ†ã‚¹ãƒˆãƒšãƒ¼ã‚¸

```src\app\ButtonTestPage\page.tsx
import { Button } from "@/components/ui/button"

export default function Home() {
  return (
    <div>
      <Button>Click me</Button>
    </div>
  )
}

```

```components.json
{
  "$schema": "https://ui.shadcn.com/schema.json",
  "style": "default",
  "rsc": true,
  "tsx": true,          ï¼œï¼œï¼œ TypeScriptã‚’ä½¿ã†å ´åˆã¯true
  "tailwind": {
    "config": "tailwind.config.js",
    "css": "src/styles/globals.css",
    "baseColor": "slate",
    "cssVariables": true
  },
  "aliases": {
    "components": "@/components",
    "utils": "@/lib/utils"
  }
}

```



## Theming ãƒ†ãƒ¼ãƒè¨­å®š

Theming - shadcn/ui

https://ui.shadcn.com/docs/theming

ãƒ†ãƒ¼ãƒè¨­å®šã« CSS å¤‰æ•° ã¾ãŸã¯ TailwindCSS ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

CSS å¤‰æ•°ã‚’ä½¿ç”¨ã—ã¾ã™ã€
ã‚‚ã—ãã¯
Tailwind CSS ã® ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚¯ãƒ©ã‚¹ ã‚’ä½¿ç”¨ã™ã‚‹ã‹ã‚’é¸æŠã§ãã¾ã™ã€‚

â†“ ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚¯ãƒ©ã‚¹ ã®ä¾‹

<div className="bg-zinc-950 dark:bg-white" />

ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚¯ãƒ©ã‚¹ ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã®è¨­å®š



```components.json
{
  "style": "default",
  "rsc": true,
  "tailwind": {
    "config": "tailwind.config.js",
    "css": "app/globals.css",
    "baseColor": "slate",
    "cssVariables": false    ï¼œï¼œï¼œ false ã«è¨­å®šã—ã¾ã™ã€‚
  },
  "aliases": {
    "components": "@/components",
    "utils": "@/lib/utils"
  }
}

```

CSS å¤‰æ•° ã®ä¾‹

<div className="bg-background text-foreground" />

CSS å¤‰æ•° ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã®è¨­å®š

```components.json
{
  "style": "default",
  "rsc": true,
  "tailwind": {
    "config": "tailwind.config.js",
    "css": "app/globals.css",
    "baseColor": "slate",
    "cssVariables": true    ï¼œï¼œï¼œ true ã«è¨­å®šã—ã¾ã™ã€‚
  },
  "aliases": {
    "components": "@/components",
    "utils": "@/lib/utils"
  }
}

```



### Convention è¦ç´„

è‰²ã«é–¢ã—ã¦ã¯ã€ã‚·ãƒ³ãƒ—ãƒ«ãªèƒŒæ™¯ã¨å‰æ™¯ã®ã‚³ãƒ³ãƒ™ãƒ³ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚
å‰æ™¯å¤‰æ•°ã¯ãƒ†ã‚­ã‚¹ãƒˆè‰²ã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚
èƒŒæ™¯å¤‰æ•°ã¯ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®èƒŒæ™¯è‰²ã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚

å¤‰æ•°ãŒã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®èƒŒæ™¯è‰²ã«ä½¿ç”¨ã•ã‚Œã‚‹å ´åˆã€èƒŒæ™¯æ¥å°¾è¾ã¯çœç•¥ã•ã‚Œã¾ã™ã€‚

ä¾‹ãˆã°ã€--primary-background ã¨ã„ã†å¤‰æ•°ã¯ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®èƒŒæ™¯è‰²ã«ä½¿ç”¨ã™ã‚‹å ´åˆã¯ã€--primary ã¨ã—ã¦çœç•¥ã—ã¦ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

ä¾‹ãˆã°ã€æ¬¡ã®ã‚ˆã†ãª CSS å¤‰æ•°ãŒä¸ãˆã‚‰ã‚Œã¾ã™ã€‚

--primary: 222.2 47.4% 11.2%;
--primary-foreground: 210 40% 98%;

â€» --primary-background ã¯çœç•¥ã•ã‚Œ--primary ã«ãªã£ã¦ã„ã¾ã™ã€‚

--primary ã¨ã¯ï¼Ÿ
ã€Œ--primaryã€ã¯ã€ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ãª CSS å¤‰æ•°ã®ä¸€ã¤ã§ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ä½¿ç”¨ã•ã‚Œã‚‹ä¸»è¦ãªè‰²ã‚’è¡¨ã—ã¾ã™ã€‚
ã“ã®å¤‰æ•°ã¯ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®èƒŒæ™¯è‰²ã‚„ãƒ†ã‚­ã‚¹ãƒˆè‰²ãªã©ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã®æ§˜ã€…ãªè¦ç´ ã®è‰²ã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚
ä¾‹ãˆã°ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ã—ã¦ã€Œ--primaryã€å¤‰æ•°ã‚’ä½¿ç”¨ã—ã¦ã€èƒŒæ™¯è‰²ãŒå¤‰æ›´ã•ã‚ŒãŸ div è¦ç´ ã‚’ä½œæˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```
div {
  background-color: var(--primary);
}
```

ã€ŒThe background suffixã€ã¨ã¯ã€å‰è¿°ã®é€šã‚Šã€èƒŒæ™¯è‰²ã«ä½¿ç”¨ã•ã‚Œã‚‹ CSS å¤‰æ•°åã«ãŠã„ã¦ã€æ¥å°¾è¾ã¨ã—ã¦ä½¿ç”¨ã•ã‚Œã‚‹æ–‡å­—åˆ—ã®ã“ã¨ã‚’æŒ‡ã—ã¾ã™ã€‚ä¾‹ãˆã°ã€å¤‰æ•°åãŒã€Œ--primaryã€ã§ã‚ã‚‹å ´åˆã€èƒŒæ™¯è‰²ã«ä½¿ç”¨ã™ã‚‹å ´åˆã¯ã€Œ--primaryã€ã¨ã ã‘æŒ‡å®šã—ã€æ¥å°¾è¾ã¯çœç•¥ã•ã‚Œã¾ã™ã€‚ä¸€æ–¹ã€ãƒ†ã‚­ã‚¹ãƒˆè‰²ã«ä½¿ç”¨ã™ã‚‹å ´åˆã¯ã€å¤‰æ•°åã«ã€Œ-foregroundã€ãªã©ã®æ¥å°¾è¾ã‚’ä»˜ã‘ã‚‹ã“ã¨ãŒä¸€èˆ¬çš„ã§ã™ã€‚ã“ã®ã‚ˆã†ã«ã€æ¥å°¾è¾ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€å¤‰æ•°åã‹ã‚‰ã©ã®ã‚ˆã†ãªè‰²ãŒä½¿ç”¨ã•ã‚Œã‚‹ã‹ã‚’å®¹æ˜“ã«ç†è§£ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

â†‘â†‘ å…ˆç¨‹ã® â†“ ã“ã®æ•°å€¤ã¯

--primary: 222.2 47.4% 11.2%;
--primary-foreground: 210 40% 98%;

ã“ã®ã‚ˆã†ã«ä½¿ã‚ã‚Œã¾ã™ã€‚

<div className="bg-primary text-primary-foreground">Hello</div>

ã“ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®èƒŒæ™¯è‰²ã¯ hsl(var(--primary))ã€
å‰æ™¯è‰²ã¯ hsl(var(--primary-foreground))ã¨ãªã‚Šã¾ã™ã€‚

CSS å¤‰æ•°ã®å€¤ã¯ã€HSL è‰²ç©ºé–“ã§å®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã€‚HSL è‰²ç©ºé–“ã¯ã€è‰²ç›¸ï¼ˆHueï¼‰ã€å½©åº¦ï¼ˆSaturationï¼‰ã€æ˜åº¦ï¼ˆLightnessï¼‰ã® 3 ã¤ã®å€¤ã‚’ä½¿ç”¨ã—ã¦è‰²ã‚’è¡¨ç¾ã—ã¾ã™ã€‚HSL è‰²ç©ºé–“ã¯ã€RGB è‰²ç©ºé–“ã‚ˆã‚Šã‚‚ç›´æ„Ÿçš„ã«ç†è§£ã—ã‚„ã™ã„ãŸã‚ã€CSS å¤‰æ•°ã®å€¤ã‚’ HSL è‰²ç©ºé–“ã§å®šç¾©ã—ã¦ã„ã¾ã™ã€‚

HSL ã¨ã¯
HSL ã¯ã€è‰²ç›¸ï¼ˆHueï¼‰ã€å½©åº¦ï¼ˆSaturationï¼‰ã€æ˜åº¦ï¼ˆLightnessï¼‰ã® 3 ã¤ã®å€¤ã‚’ä½¿ç”¨ã—ã¦è‰²ã‚’è¡¨ç¾ã™ã‚‹è‰²ç©ºé–“ã®ä¸€ã¤ã§ã™ã€‚

è‰²ç›¸ã¯ã€è‰²ã®ç¨®é¡ã‚’è¡¨ã—ã€0 åº¦ã‹ã‚‰ 360 åº¦ã¾ã§ã®å€¤ã§è¡¨ã•ã‚Œã¾ã™ã€‚
å½©åº¦ã¯ã€è‰²ã®é®®ã‚„ã‹ã•ã‚’è¡¨ã—ã€0%ã‹ã‚‰ 100%ã¾ã§ã®å€¤ã§è¡¨ã•ã‚Œã¾ã™ã€‚
æ˜åº¦ã¯ã€è‰²ã®æ˜ã‚‹ã•ã‚’è¡¨ã—ã€0%ã‹ã‚‰ 100%ã¾ã§ã®å€¤ã§è¡¨ã•ã‚Œã¾ã™ã€‚

ä¾‹ãˆã°ã€èµ¤è‰²ã¯è‰²ç›¸ãŒ 0 åº¦ã€å½©åº¦ãŒ 100%ã€æ˜åº¦ãŒ 50%ã¨ãªã‚Šã¾ã™ã€‚

CSS å¤‰æ•°ã®å€¤ã‚’ HSL è‰²ç©ºé–“ã§å®šç¾©ã™ã‚‹ã“ã¨ã§ã€è‰²ç›¸ã€å½©åº¦ã€æ˜åº¦ã®å€¤ã‚’ç›´æ¥æŒ‡å®šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚



### List of variables

ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ãª CSS å¤‰æ•°ã®ä¸€è¦§

```
èƒŒæ™¯è‰²
Default background color of <body />...ãã®ä»–
--background: 0 0% 100%;
--foreground: 222.2 47.4% 11.2%;

è–„ã„è‰²èª¿ã®èƒŒæ™¯è‰²
Muted backgrounds such as <TabsList />, <Skeleton /> and <Switch />
--muted: 210 40% 96.1%;
--muted-foreground: 215.4 16.3% 46.9%;

ã‚«ãƒ¼ãƒ‰ã®èƒŒæ™¯è‰²
Background color for <Card />
--card: 0 0% 100%;
--card-foreground: 222.2 47.4% 11.2%;

ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒã‚¦ã‚¹ã‚ªãƒ¼ãƒãƒ¼ã—ãŸã¨ãã«è¡¨ç¤ºã•ã‚Œã‚‹èƒŒæ™¯è‰²
Background color for popovers such as <DropdownMenu />, <HoverCard />, <Popover />
--popover: 0 0% 100%;
--popover-foreground: 222.2 47.4% 11.2%;

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒœãƒ¼ãƒ€ãƒ¼è‰²
Default border color
--border: 214.3 31.8% 91.4%;

å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«ä½¿ç”¨ã•ã‚Œã‚‹ãƒœãƒ¼ãƒ€ãƒ¼è‰²
Border color for inputs such as <Input />, <Select />, <Textarea />
--input: 214.3 31.8% 91.4%;

ãƒ—ãƒ©ã‚¤ãƒãƒªã‚«ãƒ©ãƒ¼
Primary colors for <Button />
--primary: 222.2 47.4% 11.2%;
--primary-foreground: 210 40% 98%;

ã‚»ã‚«ãƒ³ãƒ€ãƒªã‚«ãƒ©ãƒ¼
Secondary colors for <Button />
--secondary: 210 40% 96.1%;
--secondary-foreground: 222.2 47.4% 11.2%;

ãƒ›ãƒãƒ¼ã‚¨ãƒ•ã‚§ã‚¯ãƒˆãªã©ã®ã‚¢ã‚¯ã‚»ãƒ³ãƒˆã«ä½¿ç”¨ã•ã‚Œã‚‹ã‚«ãƒ©ãƒ¼
Used for accents such as hover effects on <DropdownMenuItem>, <SelectItem>...etc
--accent: 210 40% 96.1%;
--accent-foreground: 222.2 47.4% 11.2%;

ã€Œã‚¢ã‚¯ã‚»ãƒ³ãƒˆã‚«ãƒ©ãƒ¼ã€ã¨ã¯ã€UIã®ä¸­ã§ç‰¹å®šã®è¦ç´ ã«å¯¾ã—ã¦å¼·èª¿ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã‚‹ã‚«ãƒ©ãƒ¼ã‚’æŒ‡ã—ã¾ã™ã€‚ä¾‹ãˆã°ã€ãƒœã‚¿ãƒ³ã‚„ãƒªãƒ³ã‚¯ãªã©ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³è¦ç´ ã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚ã‚¢ã‚¯ã‚»ãƒ³ãƒˆã‚«ãƒ©ãƒ¼ã¯ã€Primary colorsã‚„Secondary colorsã¨ã¯ç•°ãªã‚Šã€UIã®ä¸­ã§ç‰¹å®šã®è¦ç´ ã«å¯¾ã—ã¦å¼·èª¿ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã‚‹ãŸã‚ã€è¦–è¦šçš„ã«ç›®ç«‹ã¤è‰²ãŒä½¿ç”¨ã•ã‚Œã‚‹ã“ã¨ãŒå¤šã„ã§ã™ã€‚ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã‚ˆã£ã¦ã¯ã€Primary colorsã¨Secondary colorsã«åŠ ãˆã¦ã€ã‚¢ã‚¯ã‚»ãƒ³ãƒˆã‚«ãƒ©ãƒ¼ã¨ã—ã¦ã€ŒThird colorsã€ã‚’å®šç¾©ã™ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚

å‰Šé™¤ã‚„ã‚­ãƒ£ãƒ³ã‚»ãƒ«ãªã©ã®ç ´å£Šçš„ãªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã«ä½¿ç”¨ã•ã‚Œã‚‹ã‚«ãƒ©ãƒ¼
Used for destructive actions such as <Button variant="destructive">
--destructive: 0 100% 50%;
--destructive-foreground: 210 40% 98%;

ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãƒªãƒ³ã‚°ã«ä½¿ç”¨ã•ã‚Œã‚‹ã‚«ãƒ©ãƒ¼
Used for focus ring
--ring: 215 20.2% 65.1%;

ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãƒªãƒ³ã‚°ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã§ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã‚’ç§»å‹•ã—ãŸã¨ãã«è¡¨ç¤ºã•ã‚Œã‚‹ã€è¦ç´ ã®å‘¨ã‚Šã«è¡¨ç¤ºã•ã‚Œã‚‹ãƒªãƒ³ã‚°çŠ¶ã®ã‚¨ãƒ•ã‚§ã‚¯ãƒˆã§ã™ã€‚

è¦ç´ ã®è§’ã‚’ä¸¸ã‚ã‚‹ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã‚‹CSSãƒ—ãƒ­ãƒ‘ãƒ†ã‚£
Border radius for card, input and buttons
--radius: 0.5rem;

ã‚«ãƒ¼ãƒ‰ã€å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã€ãƒœã‚¿ãƒ³ãªã©ã®è¦ç´ ã«é©ç”¨ã•ã‚Œã‚‹è§’ä¸¸ã®åŠå¾„

```



### æ–°ã—ã„è‰²ã®è¿½åŠ 

æ–°ã—ã„è‰²ã‚’è¿½åŠ ã™ã‚‹ã«ã¯ã€CSS ãƒ•ã‚¡ã‚¤ãƒ« ã¨ tailwind.config.js ãƒ•ã‚¡ã‚¤ãƒ« ã«è¿½åŠ ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚



```
app/globals.css
:root {
  --warning: 38 92% 50%;
  --warning-foreground: 48 96% 89%;
}

.dark {
  --warning: 48 96% 89%;
  --warning-foreground: 38 92% 50%;
}

tailwind.config.js
module.exports = {
  theme: {
    extend: {
      colors: {
        warning: "hsl(var(--warning))",
        "warning-foreground": "hsl(var(--warning-foreground))",
      },
    },
  },
}
```

ã“ã‚Œã§ã€â†“ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§è­¦å‘Šãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ»ã‚¯ãƒ©ã‚¹ã‚’ä½¿ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

<div className="bg-warning text-warning-foreground" />

ãã®ä»–ã®ã‚«ãƒ©ãƒ¼ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
ãƒ†ãƒ¼ãƒè¨­å®šã«ã¯ HSL ã‚«ãƒ©ãƒ¼ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ãŒã€ãŠå¥½ã¿ã«ã‚ˆã‚Šä»–ã®ã‚«ãƒ©ãƒ¼ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚

rgbã€rgbaã€ã¾ãŸã¯ hsl ã‚«ãƒ©ãƒ¼ã®ä½¿ç”¨ã«é–¢ã™ã‚‹è©³ç´°ã¯ã€Tailwind CSS ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚



## ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰

Dark Mode - shadcn/ui

https://ui.shadcn.com/docs/dark-mode

### Create a theme provider ãƒ†ãƒ¼ãƒãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®ä½œæˆ

#### next-themes

next-themes - npm

https://www.npmjs.com/package/next-themes

ãƒ‡ãƒ¢ç”»é¢

https://next-themes-example.vercel.app/

Next.js ã‚¢ãƒ—ãƒªã®ãƒ†ãƒ¼ãƒã‚’æŠ½è±¡åŒ–ã€‚

- 2 è¡Œã®ã‚³ãƒ¼ãƒ‰ã§å®Œç’§ãªãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ã‚’å®Ÿç¾
- prefers-color-scheme ã«ã‚ˆã‚‹ã‚·ã‚¹ãƒ†ãƒ è¨­å®š
- ã‚«ãƒ©ãƒ¼ã‚¹ã‚­ãƒ¼ãƒ ã‚’ä½¿ã£ãŸãƒ†ãƒ¼ãƒãƒ–ãƒ©ã‚¦ã‚¶ UI
- èª­ã¿è¾¼ã¿æ™‚ã«ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ãªã—(SSR ã¨ SSG ã®ä¸¡æ–¹)
- ã‚¿ãƒ–ã¨ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦é–“ã§ãƒ†ãƒ¼ãƒã‚’åŒæœŸ
- ãƒ†ãƒ¼ãƒå¤‰æ›´æ™‚ã®ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚’ç„¡åŠ¹åŒ–
- ç‰¹å®šã®ãƒ†ãƒ¼ãƒã«ãƒšãƒ¼ã‚¸ã‚’å¼·åˆ¶çš„ã«åˆã‚ã›ã‚‹
- ã‚¯ãƒ©ã‚¹ã¾ãŸã¯ãƒ‡ãƒ¼ã‚¿å±æ€§ã‚»ãƒ¬ã‚¯ã‚¿
- useTheme ãƒ•ãƒƒã‚¯



### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

npm install next-themes




#### ãƒ†ãƒ¼ãƒãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®ä½œæˆ

touch src\components\theme-provider.tsx

```src\components\theme-provider.tsx
"use client"

import { ThemeProvider as NextThemesProvider } from "next-themes";
import { type ThemeProviderProps } from "next-themes/dist/types";
import * as React from "react";

export function ThemeProvider({ children, ...props }: ThemeProviderProps) {
  return <NextThemesProvider {...props}>{children}</NextThemesProvider>;
}

```



#### ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã«ãƒ©ãƒƒãƒ—ã™ã‚‹

src\app\layout.tsx

```src\app\layout.tsx
import "@/styles/globals.css";
import { ThemeProvider } from "next-themes";
import React from "react";

import type { Metadata } from "next";

export const metadata: Metadata = {
  title: "Create Next App",
  description: "Generated by create next app",
};

/**
 * RootLayoutã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ã€HTMLã®ãƒ«ãƒ¼ãƒˆè¦ç´ ã‚’å«ã‚€ãƒšãƒ¼ã‚¸ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’å®šç¾©ã—ã¾ã™ã€‚
 * @param {object} props - ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
 * @param {React.ReactNode} props.children - å­è¦ç´ 
 * @return {JSX.Element} HTMLã®ãƒ«ãƒ¼ãƒˆè¦ç´ ã‚’å«ã‚€Reactè¦ç´ 
 */
export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <html lang="ja" suppressHydrationWarning>
      <body>
        <ThemeProvider attribute="class" defaultTheme="system" enableSystem>
          {children}
        </ThemeProvider>
      </body>
    </html>
  );
}


```

â€» suppressHydrationWarning ã¯ã€React ãŒã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã§ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚ŒãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ãƒã‚¤ãƒ‰ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã™ã‚‹ã“ã¨ã‚’æŠ‘åˆ¶ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚

ã“ã‚Œã§ Next.js 13 App Router ä½¿ç”¨æ™‚ã«ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã—ã¦ã‚‚ãƒã‚¤ãƒ‰ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ãŒå›é¿ã§ãã‚‹ã¨å ±å‘Šã•ã‚Œã¦ã„ã¾ã™ã€‚

ã€Next.js 13ã€‘ next-themes ã§ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ã‚’å®Ÿè£…ã™ã‚‹æ–¹æ³• | logsuke

https://logsuke.com/web/programming/react/next-themes



#### ãƒ†ãƒ¼ãƒã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ ãƒ¢ãƒ¼ãƒ‰ãƒˆã‚°ãƒ«ã‚’ä½œæˆã™ã‚‹

npx shadcn-ui@latest add dropdown-menu

src\app\ModeTogglePage\page.tsx ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã‚Šã¾ã™ã€‚


mkdir src\app\ModeTogglePage

touch src\app\ModeTogglePage\page.tsx

```src\app\ModeTogglePage\page.tsx
"use client";

import { Moon, Sun } from "lucide-react";
import { useTheme } from "next-themes";
import * as React from "react";

import { Button } from "@/components/ui/button";
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuTrigger,
} from "@/components/ui/dropdown-menu";

export default function ModeToggle() {
  const { setTheme } = useTheme();

  return (
    <DropdownMenu>
      <DropdownMenuTrigger asChild>
        <Button variant="outline" size="default">
          <Sun className="h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0" />
          <Moon className="absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100" />
          <span className="sr-only">Toggle theme</span>
        </Button>
      </DropdownMenuTrigger>
      <DropdownMenuContent align="end">
        <DropdownMenuItem onClick={() => setTheme("light")}>
          Light
        </DropdownMenuItem>
        <DropdownMenuItem onClick={() => setTheme("dark")}>
          Dark
        </DropdownMenuItem>
        <DropdownMenuItem onClick={() => setTheme("system")}>
          System
        </DropdownMenuItem>
      </DropdownMenuContent>
    </DropdownMenu>
  );
}

```

â†“ãƒˆã‚°ãƒ«ãƒœã‚¿ãƒ³ã‚’ã¤ã‘ã¦ã¿ã‚‹

```src\app\page.tsx


      <Link href="./ModeTogglePage">ButtonTestPage</Link>

```

npm run dev

ã§ãƒ­ãƒ¼ã‚«ãƒ«ã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ã—ã¦å‹•ä½œç¢ºèªã‚’ã—ã¾ã™ã€‚

http://localhost:3000/ModeTogglePage

åˆ‡ã‚Šæ›¿ãˆãŒç¢ºèªã§ãã‚Œã°ä½œæ¥­ã¯å®Œäº†ã§ã™ã€‚















# ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ã®èª¿æŸ»

Tailwind CSS ã‚’ä½¿ã£ãŸ ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰å®Ÿè£…ã®åŠ¹ç‡çš„ãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒ

https://zenn.dev/deer/articles/d3b104ac97711d

Tailwind CSS ã®ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œã‚¬ã‚¤ãƒ‰ - snappify.com

https://snappify.com/view/8d426d44-f485-4c62-9bc8-8efe23f558ea

> ã¾ã¨ã‚
> ä»¥ä¸Šã‚’è¸ã¾ãˆã€å†’é ­ã§ç´¹ä»‹ã—ãŸ CSS å¤‰æ•°ã¨ã€€ã‚«ã‚¹ã‚¿ãƒ ã‚«ãƒ©ãƒ¼ã‚’ä½¿ã†ã‚¢ãƒ—ãƒ­ãƒ¼ãƒãŒæœ€é©è§£ã ã¨ã„ã†çµè«–ã«è‡³ã‚Šã¾ã—ãŸã€‚ã“ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã¯æœ€è¿‘æµ·å¤–ã§æ³¨ç›®ã‚’é›†ã‚ã¦ã„ã‚‹ shadcn/ui ã§çŸ¥ã‚Šã¾ã—ãŸã€‚ shadcn/ui ã‚’ã¤ã‹ã†ã¨ã‚ˆãã‚ã‚‹å¤‰æ•°ã®å®šç¾©ã¨ã‚«ã‚¹ã‚¿ãƒ ã‚«ãƒ©ãƒ¼ã®ç´ä»˜ã‘ã‚’ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«åæ˜ ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã®ã§èˆˆå‘³ã®ã‚ã‚‹æ–¹ã¯è©¦ã—ã¦ã¿ã¦ãã ã•ã„ã€‚

## ãƒ©ã‚¤ãƒ–ãƒ©ãƒª next-themes ã«ã¤ã„ã¦

next-themes - npm

https://www.npmjs.com/package/next-themes

## ç°¡å˜ãªè§£èª¬

<html class="dark">

â†‘ ã“ã®ã‚ˆã†ã« HTML ã« dark ã‚¯ãƒ©ã‚¹ã‚’è¿½åŠ ã™ã‚‹ã¨ã€
â†“ ã“ã®ã‚ˆã†ã« TailwindCSS ã® dark ãƒ¢ãƒ¼ãƒ‰ãŒæœ‰åŠ¹ã«ãªã‚Šã¾ã™ã€‚

<div className="dark:bg-darkgrey dark:text-white">



## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

npm install next-themes

## App Router ã§ã®åˆ©ç”¨æ™‚ã®å•é¡Œç‚¹

Next.js 13 appDir support Â· Issue #152 Â· pacocoursey/next-themes

https://github.com/pacocoursey/next-themes/issues/152



## shadcn/ui ãã®ä»–

### CLI

CLI - shadcn/ui

https://ui.shadcn.com/docs/cli

(å®Ÿé¨“çš„ã‚³ãƒãƒ³ãƒ‰)

â†“ æ›´æ–°ãŒåˆ©ç”¨å¯èƒ½ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒªã‚¹ãƒˆã‚’å–å¾—ã—ã¾ã™ã€‚

npx shadcn-ui diff

â†“ diff [component] ã‚³ãƒãƒ³ãƒ‰ã§å¤‰æ›´ã®ç¢ºèªã—ã¾ã™ã€‚

npx shadcn-ui diff alert

### ã‚¿ã‚¤ãƒã‚°ãƒ©ãƒ•ã‚£ è£…é£¾ã®ä½¿ã„æ–¹

ã‚¿ã‚¤ãƒã‚°ãƒ©ãƒ•ã‚£ - shadcn/ui

https://ui.shadcn.com/docs/components/typography

### Figma

@shadcn/ui - Design System â€“ Figma

https://www.figma.com/community/file/1203061493325953101

### å¤‰æ›´å±¥æ­´

Changelog - shadcn/ui

https://ui.shadcn.com/docs/changelog

ä¾‹
ãƒ™ãƒ¼ã‚¹ã‚«ãƒ©ãƒ¼
gray
neutral
slate
stone
zinc

# shadcn/ui ã®èª­ã¿æ–¹ã¯ï¼Ÿ

ä½œè€…æœ¬äººã®ãƒ„ã‚£ãƒ¼ãƒˆ

https://twitter.com/shadcn/status/1647397488742080512

> @shadcn how do i properly pronounce your handle when i'm introducing your projects to others ğŸ˜… been saying "shad-see-enn" but idk if that's correct

@shadcn ä»–ã®äººã«ã‚ãªãŸã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ç´¹ä»‹ã™ã‚‹ã¨ãã€ã‚ãªãŸã®ãƒãƒ³ãƒ‰ãƒ«ãƒãƒ¼ãƒ ã‚’ã©ã†ç™ºéŸ³ã™ã‚Œã°ã„ã„ã®ã§ã—ã‚‡ã†ã‹ï¼Ÿ

> shad as in shadow

ã‚·ãƒ£ãƒ‰ã‚¦

ã‚·ãƒ£ãƒ‰ã‚¦ ãƒ¦ãƒ¼ã‚¢ã‚¤
ã‚·ãƒ£ãƒ‰ã‚¦ ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹

# å‚è€ƒ

ã€Next.js 13ã€‘ next-themes ã§ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ã‚’å®Ÿè£…ã™ã‚‹æ–¹æ³• | logsuke

https://logsuke.com/web/programming/react/next-themes

â€»ã“ã®è¨˜äº‹ã«ã¯ã€ãƒã‚¤ãƒ‰ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼å¯¾ç­–ãŒã‚ã‚Šã¾ã™ã€‚

Next Ã— Stitches Ã— next-themes ã‚’ä½¿ç”¨ã—ã¦ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰å®Ÿè£…

https://zenn.dev/hiro4hiro4/articles/e90778a816df84

Tailwind CSS ã‚’ä½¿ã£ãŸ ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰å®Ÿè£…ã®åŠ¹ç‡çš„ãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒ

https://zenn.dev/deer/articles/d3b104ac97711d




































































# tRPC

## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

Set up with Next.js | tRPC

https://trpc.io/docs/client/nextjs/setup

npm install @trpc/server @trpc/client @trpc/react-query @tanstack/react-query zod

â€» @trpc/next ã¯ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚’ã—ãªã„ã€‚


## tRPCãŒå‹•ãã‚ˆã†ã«ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã

```src\app\api\trpc\[trpc]\route.ts
import {
  FetchCreateContextFnOptions,
  fetchRequestHandler,
} from "@trpc/server/adapters/fetch";

import { appRouter } from "@/trpc-server";

const handler = (request: Request) => {
  console.log(`incoming request ${request.url}`);
  return fetchRequestHandler({
    endpoint: "/api/trpc",
    req: request,
    router: appRouter,
    createContext: function (
      opts: FetchCreateContextFnOptions,
    ): object | Promise<object> {
      // empty context
      return {};
    },
  });
};

export const GET = handler;
export const POST = handler;

```



```src\app\clientcomponent\page.tsx
import MyRpcClientComponent from "@/app/MyRpcClientComponent";

export default async function Home() {
  return (
    <>
      <MyRpcClientComponent arg={1} />
      <MyRpcClientComponent arg={2} />
      <MyRpcClientComponent arg={3} />
      <MyRpcClientComponent arg={4} />
      <MyRpcClientComponent arg={5} />
    </>
  );
}

```



```src\app\servercomponent\page.tsx
import { appRouter } from "@/trpc-server"

export default async function rscPage() {
  const caller = appRouter.createCaller({})
  const result = await caller.userById(3)
  if (!result) {
    return <p>Not found</p>
  }

  return <p>Hi, {result.name}, greetings from RSC land!</p>
}

```


```src\app\layout.tsx
import "@/styles/globals.css";
import { Metadata } from "next";
import React from "react";

import { TrpcProvider } from "@/app/TrpcProvider";
import { ThemeProvider } from "@/components/theme-provider";

export const metadata: Metadata = {
  title: "Create Next App",
  description: "Generated by create next app",
};

export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <TrpcProvider>
      <html lang="ja" suppressHydrationWarning>
        <body>
          <ThemeProvider attribute="class" defaultTheme="system" enableSystem>
            {children}
          </ThemeProvider>
        </body>
      </html>
    </TrpcProvider>
  );
}

```



```src\app\MyRpcClientComponent.tsx
"use client"
import { JSX } from "react";

import { trpc } from "@/trpc"

type MyRpcClientComponentProps = {
  arg: number
}

export default function MyRpcClientComponent(props: MyRpcClientComponentProps): JSX.Element {

  const name = trpc.userById.useQuery(props.arg)

  if (name.data == undefined) {
    console.log("name.data undefined")
    return <p>did not work</p>
  }
  console.log(`result.data is ${JSON.stringify(name.data)}`)

  return <p>Hello, {name.data!.name}, greetings from client component land!</p>
}

```



```src\app\page.tsx
import { type NextPage } from "next";
import Link from "next/link";

import { Button } from "@/components/ui/button";

declare global {
  namespace JSX {
    interface IntrinsicElements {
      [elemName: string]: any;
    }
  }
}

const Home: NextPage = () => {
  return (
    <main>
      <h1 className="p-4 pt-2 text-blue-300">VNS.BLUE</h1>
      <div className="text-green-400">
        Next.js app router é–‹ç™ºç”¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ (Storybook Supabase shadcn/ui)
      </div>
      <br />
      {/* â†“<Button>ã‚¿ã‚°ã‚’æ¶ˆã™ã¨<Button>ã®importæ–‡ãŒè‡ªå‹•å‰Šé™¤ã•ã‚Œã¾ã™ã€‚ */}
      <div>
        <Button>shadcn/ui ã® Button</Button>
      </div>
      <br />
      <Link href="./ModeTogglePage">ModeTogglePage</Link>
      <br />
      <Link href="/servercomponent">ãƒªãƒ³ã‚¯ãƒœã‚¿ãƒ³:ã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ</Link>
      <br />
      <Link href="/clientcomponent">
        ãƒªãƒ³ã‚¯ãƒœã‚¿ãƒ³:ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
      </Link>
    </main>
  );
};

export default Home;

```


```src\app\TrpcProvider.tsx
"use client"

import { QueryClient, QueryClientProvider } from "@tanstack/react-query"
import { httpBatchLink } from "@trpc/client"
import React from "react";
import { useState } from "react"

import { trpc } from "@/trpc"

export const TrpcProvider: React.FC<{ children: React.ReactNode }> = (p) => {
  const [queryClient] = useState(() => new QueryClient())
  const [trpcClient] = useState(() =>
    trpc.createClient({
      links: [
        httpBatchLink({
          url: "http://localhost:3000/api/trpc",
        }),
      ],
    }),
  )
  return (
    <trpc.Provider client={trpcClient} queryClient={queryClient}>
      <QueryClientProvider client={queryClient}>{p.children}</QueryClientProvider>
    </trpc.Provider>
  )
}

```



```src\trpc-server.ts
import { initTRPC } from "@trpc/server"
import { z } from "zod"

const t = initTRPC.create()

interface User {
  id: string
  name: string
}

const userList: User[] = [
  {
    id: "1",
    name: "VNS.BLUE:1",
  },
  {
    id: "2",
    name: "Masakinihirota:2",
  },
  {
    id: "3",
    name: "ã‚·ãƒ¥ãƒ¬ãƒ‡ã‚£ãƒ³ã‚¬ãƒ¼ã®çŒ«ä¸»ç¾©:3",
  },
  {
    id: "4",
    name: "ã‚¢ãƒŠã‚¶ãƒ¼ãƒ‡ã‚£ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³:4",
  },
  {
    id: "5",
    name: "ç‹‚ä¹±ç´¢é¤Œ:5",
  },
]

export const appRouter = t.router({
  userById: t.procedure.input(z.number()).query((req) => {
    const { input } = req
    return userList.find((u) => parseInt(u.id) === input)
  }),
})

export type AppRouter = typeof appRouter

```

```src\trpc.ts
import { createTRPCReact } from "@trpc/react-query"
import type { AppRouter } from "./trpc-server"
export const trpc = createTRPCReact<AppRouter>()

```





# i18n



































èª¿æŸ»ä¸­...


[WIP]
ã“ã‚Œã‚ˆã‚Šä¸‹ã¯èª¿æŸ»ä¸­ã§ã™ã€‚

# Storybook ã®å‹•ä½œç¢ºèª

npm run storybook

Storybook
http://localhost:6006/

ã‚³ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã§é–‹ç™ºã™ã‚‹ã®ã§ã€
ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã¨
ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«(SF3)ã¨
ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’åŒä¸€ãƒ•ã‚©ãƒ«ãƒ€å†…ã«å…¥ã‚Œã¾ã™ã€‚

ç¾åœ¨ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒ stories ãƒ•ã‚©ãƒ«ãƒ€ã«å…¥ã£ã¦ã„ã¾ã™ã€‚

## Storybook ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆã®çµ„ã¿è¾¼ã¿

Play function

https://storybook.js.org/docs/react/writing-stories/play-function

npm install @storybook/testing-library @storybook/jest @storybook/addon-interactions --save-dev

Storybook ã®ã€Œã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆã€ã§ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ãƒ†ã‚¹ãƒˆã‚’ã‚·ãƒ³ãƒ—ãƒ«ã«ç®¡ç†ã™ã‚‹ï¼ï½œ SHIFT Group æŠ€è¡“ãƒ–ãƒ­ã‚°

https://note.com/shift_tech/n/n5646b52b3092

ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆã«å¯¾å¿œã—ãŸ
ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨
ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã‚’ä½œæˆã—ã¾ã™ã€‚

```Button.tsx
import React, { useState } from "react";
import { useRouter } from "next/router";
import "./button.css";

interface ButtonProps {
  testId: string;
  label: string;
  text?: string;
  href?: string;
  primary?: boolean;
  "data-testid"?: string;
}

export const Button = ({
  testId,
  label,
  text,
  href,
  primary = false,
  ...props
}: ButtonProps) => {
  const [textToggle, setTextToggle] = useState(false);
  const router = useRouter();
  const mode = primary ? "primary" : "";

  const onClick = () => {
    if (href) {
      router.push(href);
    } else {
      setTextToggle(!textToggle);
    }
  };

  return (
    <div>
      <button
        data-test-id={testId}
        type="button"
        className={["button", mode].join(" ")}
        onClick={onClick}
        {...props}
      >
        {ã€€labelã€€}
      </button>
      {textToggle && <div>{text}</div>}
    </div>
  );
};

```

```button.css
.button {
  font-family: "Nunito Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
  font-size: 20px;
  font-weight: 700;
  border: 0;
  border-radius: 3em;
  cursor: pointer;
  display: inline-block;
  line-height: 1;
  padding: 10px 20px;
  color: #333;
  background-color: transparent;
  box-shadow: rgba(0, 0, 0, 0.15) 0px 0px 0px 1px inset;
}
.primary {
  color: white;
  background-color: #1ea7fd;
}

```

```Button.stories.ts
import type { Meta, StoryObj } from "@storybook/react";
import { within, userEvent } from "@storybook/testing-library";
import { jest, expect } from "@storybook/jest";

import { Button } from "./Button";

const fn = jest.fn();

const meta: Meta<typeof Button> = {
  title: "Atoms/Button",
  component: Button,
  tags: ["autodocs"],
  parameters: {
    nextjs: {
      router: {
        push: fn,
      },
    },
  },
};

export default meta;
type Story = StoryObj<typeof Button>;

export const Default: Story = {
  args: {
    label: "Default",
    "data-testid": "button",
  },
  play: async ({ canvasElement, step }) => {
    const canvas = within(canvasElement);

    await step("ãƒœã‚¿ãƒ³ã«Labelã®æ–‡å­—åˆ—ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹", async () => {
      await expect(canvas.getByText("Default")).toBeInTheDocument();
    });
  },
};

export const Primary: Story = {
  args: {
    primary: true,
    label: "Primary",
    "data-testid": "button",
  },
  play: async ({ canvasElement, step }) => {
    const canvas = within(canvasElement);

    await step("ãƒœã‚¿ãƒ³ã®classNameå±æ€§ã«primaryãŒé©ç”¨ã•ã‚Œã¦ã„ã‚‹", async () => {
      const button = canvas.getByTestId("button");
      await expect(button.classList.contains("primary")).toBe(true);
    });
  },
};

export const Toggle: Story = {
  args: {
    label: "Toggle",
    text: "Success",
    "data-testid": "button",
  },
  play: async ({ canvasElement, step }) => {
    const canvas = within(canvasElement);

    await step("ãƒœã‚¿ãƒ³æŠ¼ä¸‹ã§textã‚’è¡¨ç¤ºã™ã‚‹", async () => {
      await userEvent.click(canvas.getByTestId("button"));
      await expect(canvas.getByText("Success")).toBeInTheDocument();
    });

    await step("å†åº¦ãƒœã‚¿ãƒ³æŠ¼ä¸‹ã§textã‚’éè¡¨ç¤ºã«ã™ã‚‹", async () => {
      await userEvent.click(canvas.getByTestId("button"));
      await expect(canvas.queryByText("Success")).toBeNull();
    });
  },
};

export const Link: Story = {
  args: {
    label: "Link",
    href: "/auth/login",
    "data-testid": "button",
  },
  play: async ({ canvasElement, step }) => {
    const canvas = within(canvasElement);

    await step("ãƒœã‚¿ãƒ³æŠ¼ä¸‹ã§hrefã§æŒ‡å®šã—ãŸç”»é¢ã«é·ç§»ã™ã‚‹", async () => {
      await userEvent.click(canvas.getByTestId("button"));
      await expect(fn.mock.lastCall).toContainEqual("/auth/login");
    });
  },
};

```

Storybook ã®ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’ç«‹ã¡ä¸Šã’ã‚‹ã¨
Atoms
Button
Default
Primary
Toggle
Link

ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

Interactions ã‚¿ãƒ–ã«ç§»å‹•ã™ã‚‹ã¨
ãƒ†ã‚¹ãƒˆãŒ PASS ã—ã¦ã„ã¾ã™ã€‚

## ã‚«ãƒãƒ¬ãƒƒã‚¸ã®è¨ˆæ¸¬

npm install -D @storybook/test-runner @storybook/addon-coverage

â€»ã‚«ãƒãƒ¬ãƒƒã‚¸ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¾Œã€storybook ã‚’å†èµ·å‹•ã•ã›ã¦ãŠã‹ãªã„ã¨ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ã€‚

scripts ã‚’è¿½åŠ ã—ã¾ã™ã€‚

```package.json
{
 "scripts": {
 ...
 "test-storybook": "test-storybook --coverage",
 }
}

```

```.storybook/main.ts

const config: StorybookConfig = {
 addons: [
 ...
 '@storybook/addon-coverage',
 ],
};

```

ã‚«ãƒãƒ¬ãƒƒã‚¸ã®è¨ˆæ¸¬ã«ã¯ storybook ã‚’èµ·å‹•ã•ã›ã¦ãŠãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
npm run storybook

ã‚«ãƒãƒ¬ãƒƒã‚¸ã®è¨ˆæ¸¬(æ–°ã—ã„ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§å®Ÿè¡Œã—ã¾ã™ã€‚)
npm run test-storybook

ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆã®å‹•ä½œç¢ºèª
ã‚«ãƒãƒ¬ãƒƒã‚¸ã®è¨ˆæ¸¬ã‚’ç¢ºèª

---

# Supabase

ã“ã® Supabase é …ç›®ã¯

Supabase ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒ ï¼‹ ã‚µãƒ¼ãƒãƒ¼é‹ç”¨ã‚’æƒ³å®š 2023 - Qiita

https://qiita.com/masakinihirota/items/be94b4c74a7850a4b79c

ã‚’å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚

ãƒ­ãƒ¼ã‚«ãƒ«ã« Supabase ã® CLI (command line interface)ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

scoop bucket add supabase https://github.com/supabase/scoop-bucket.git
scoop install supabase

ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ
scoop update supabase

Supabase CLI ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³
supabase --version

Supabase æœ¬ä½“ã¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ Supabase Auth ãƒ˜ãƒ«ãƒ‘ãƒ¼ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install supabase @supabase/supabase-js @supabase/auth-helpers-nextjs

Supabase ã®åˆæœŸåŒ–
supabase init

## ã‚µãƒ¼ãƒãƒ¼å´ã¨ã®æ¥ç¶šï¼ˆå¿…è¦ãªå ´åˆï¼‰

Supabase ã¸ã®ãƒ­ã‚°ã‚¤ãƒ³
supabase login

Supabase ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¸ã®ãƒªãƒ³ã‚¯
supabase link

## Docker ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

Supabase ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒ ï¼‹ ã‚µãƒ¼ãƒãƒ¼é‹ç”¨ã‚’æƒ³å®š 2023 - Qiita

https://qiita.com/masakinihirota/items/be94b4c74a7850a4b79c

ã‚’å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚

## ãƒ­ãƒ¼ã‚«ãƒ«ã® Supabase ã‚’å§‹ã‚ã‚‹

supabase start

```
06-18 15:49:49> supabase start
Seeding data supabase\seed.sql...me...
                                 Started supabase local development setup.

         API URL: http://localhost:54321
     GraphQL URL: http://localhost:54321/graphql/v1
          DB URL: postgresql://postgres:postgres@localhost:54322/postgres
      Studio URL: http://localhost:54323
    Inbucket URL: http://localhost:54324
      JWT secret: super-secret-jwt-token-with-at-least-32-characters-long
        anon key: eyJhb**********************************n_I0
service_role key: eyJhbGci*******************************pN81IU

```

ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
supabase status

ãƒ­ãƒ¼ã‚«ãƒ«ã® Supabase(Docker)ã‚’æ­¢ã‚ã‚‹
supabase stop

## Supabase ã‚’åˆ©ç”¨ã—ãŸãƒ­ãƒ¼ã‚«ãƒ«ã§ã®é–‹ç™º

Supabase ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒ ï¼‹ ã‚µãƒ¼ãƒãƒ¼é‹ç”¨ã‚’æƒ³å®š 2023 - Qiita

https://qiita.com/masakinihirota/items/be94b4c74a7850a4b79c

ã‚’å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚

## Supabase ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®åŸºç¤

src\utils\supabase.ts ã¨ã„ã†æ–°ã—ã„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã€ä»¥ä¸‹ã®å†…å®¹ã‚’è¿½åŠ ã—ã¾ã™ã€‚

```src\utils\supabase.ts

import { createClient } from '@supabase/supabase-js'

export default createClient(
 process.env.NEXT_PUBLIC_SUPABASE_URL!,
 process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!
)

```

ã“ã‚Œã‚’å‘¼ã³å‡ºã™ã“ã¨ã§ Supabase ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒä½œæˆã§ãã¾ã™ã€‚

---

# ã‚µãƒ¼ãƒ“ã‚¹ã¨ã®é€£æºã‚³ãƒãƒ³ãƒ‰

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ GitHub ã§å…¬é–‹ã—ã¦ã€ãã‚Œã‚’ Vercel ã‹ã‚‰é€£æºã•ã›ã¾ã™ã€‚

å–å¾—ã—ãŸç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ãŒã‚ã‚‹ã®ãªã‚‰ãƒ‰ãƒ¡ã‚¤ãƒ³ç™»éŒ²ã‚‚ã§ãã¾ã™ã€‚

vercel é–¢é€£
Next.jsÃ—SupabaseÃ—Vercel é€£æºã«ã¤ã„ã¦ - Qiita

https://qiita.com/kaho_eng/items/8a7faf77222a599fb31c

npm vercel login

Vercel ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã«ã‚¯ãƒ­ãƒ¼ãƒ³ã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ãƒªãƒ³ã‚¯ã—ã¾ã™ã€‚
npm vercel link

ç’°å¢ƒå¤‰æ•°ã‚’é€£æºã—ãŸ Vercel ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰ã‚³ãƒ”ãƒ¼ã—ã¦ .env.local ã«ä¸Šæ›¸ãã§ãã¾ã™ã€‚
npm vercel env pull

---


# i18n

[WIP]

---

# å‰Šé™¤ã—ã¦ã‚‚ã„ã„ãƒ•ã‚©ãƒ«ãƒ€

src\stories

ã“ã®ãƒ•ã‚©ãƒ«ãƒ€ã¯ Storybook ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã¨ãã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§å…¥ã£ã¦ãã‚‹ã‚µãƒ³ãƒ—ãƒ«ãªã®ã§ã‚µãƒ³ãƒ—ãƒ«ã‚’è¦‹ãªãŒã‚‰æ›¸ãäººä»¥å¤–ã¯æ¶ˆã—ã¦ã—ã¾ã£ã¦ã‚‚ã„ã„ã§ã™ã€‚

â€»ã‚³ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã§é–‹ç™ºã™ã‚‹ã®ã§ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã€ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã€Story ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã™ã¹ã¦åŒä¸€ã®ãƒ•ã‚©ãƒ«ãƒ€ã«å…¥ã‚Œã¾ã™ã€‚
ç†ç”±ã¯åŠå¹´å‰ã‚‚çµŒã¦ã°ã©ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒã©ã®ãƒ•ã‚©ãƒ«ãƒ€ã«å…¥ã£ã¦ã„ã‚‹ã‹ã‚ã‹ã‚‰ãªããªã‚‹ã‹ã‚‰ã§ã™ã€‚ãªã®ã§ã‚³ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã®åŸå‰‡ã‚’å‡ºæ¥ã‚‹é™ã‚Šå®ˆã‚Šã¾ã™ã€‚
ã‚°ãƒ­ãƒ¼ãƒãƒ«åŒ–ã—ãŸã„ã‚‚ã®ã‚„å…±é€šåŒ–ã—ãŸã„ã‚‚ã®ã¯é™¤ãã€‚

---

# å‚è€ƒ URL

GitHub Qiita è¨˜äº‹
Supabase ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒ ï¼‹ ã‚µãƒ¼ãƒãƒ¼é‹ç”¨ã‚’æƒ³å®š 2023

https://qiita.com/masakinihirota/items/be94b4c74a7850a4b79c

GitHub masakinihirota/vns
https://github.com/masakinihirota/vns

Supabase VNS

https://app.supabase.com/project/gzctqdrrnnkaxwwtzbsw

Vercel VNS

https://vercel.com/masakinihirota/vns

Next.js by Vercel - The React Framework

https://nextjs.org/

Storybook

https://storybook.js.org/docs/react/get-started/install/

ReactÃ—TypeScript ã§ã¯ã˜ã‚ã‚‹ Vitest

https://zenn.dev/bs_kansai/articles/b79d97a8f921d6

Storybook(v7)ã‚’ Vitest ã§å†åˆ©ç”¨ã™ã‚‹ã¨ã

https://zenn.dev/pluto0004/articles/3bab7d07805cff

Storybook ã®ã€Œã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆã€ã§ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ãƒ†ã‚¹ãƒˆã‚’ã‚·ãƒ³ãƒ—ãƒ«ã«ç®¡ç†ã™ã‚‹ï¼ï½œ SHIFT Group æŠ€è¡“ãƒ–ãƒ­ã‚°

https://note.com/shift_tech/n/n5646b52b3092

[2023 å¹´]Next.js + eslint å‘¨ã‚Šã®è¨­å®š

https://zenn.dev/resistance_gowy/articles/91b4f62b9f48ec

ã€ç’°å¢ƒæ§‹ç¯‰ã€‘Next Ã— App Router Ã— Prettier Ã— ESLint Ã— Husky Ã— Shadcn/ui ã®ç’°å¢ƒæ§‹ç¯‰ã‚’ã—ã¦ã¿ã‚‹ - Qiita

https://qiita.com/hiroto_dnpk/items/a7ebbca3294c7befb4b7

---

# æœªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

<details><summary>æœªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«[WIP]</summary>

# vitest

ãƒ†ã‚¹ãƒˆãƒ„ãƒ¼ãƒ«

???
npm create vite@latest

React ã¨ TypeScript ã‚’é¸æŠã—ã¾ã™ã€‚

cd vitest-react
npm install
npm run dev

ã“ã“ã‹ã‚‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼Ÿ
npm install -D vitest

npm install -D jsdom @testing-library/react @testing-library/jest-dom

.eslintignore
ãƒ•ã‚¡ã‚¤ãƒ«å†…ã« vitest.config.ts ã‚’æ›¸ã

```
vite.config.ts
vitest.config.ts
.eslintrc.cjs

```

Vitest ã®è¨­å®š
vite.config.ts

```vitest.config.ts
import { defineConfig } from 'vite'

export default defineConfig({
    test: {
        include: ['src/**/*.test.tsx'],
        environment: 'jsdom',
    },
})

```

src/ä»¥ä¸‹ã®ã¿ã«è¨­å®šã—ã¦ã‚ã‚‹

## ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®ä½œæˆ

App ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«å¯¾ã—ã¦ã€ã€ŒVite + Reactã€ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã‹ã®ãƒ†ã‚¹ãƒˆã‚’æ›¸ã„ã¦ã¿ã¾ã™ã€‚

```
import '@testing-library/jest-dom';
import { render, screen } from '@testing-library/react';
import { expect, test } from 'vitest';
import App from '../App';

test('renders h1 text', () => {
    render(<App />);
    const headerElement = screen.getByText("Vite + React");
    expect(headerElement).toBeInTheDocument();
});

```

å®Ÿè¡Œ
npm vitest

ã‚«ãƒãƒ¬ãƒƒã‚¸ã®å®Ÿè¡Œ
npm vitest run --coverage

```
import { defineConfig } from 'vite'

export default defineConfig({
    test: {
        globals: true,
        include: ['src/**/*.test.tsx'],
        environment: 'jsdom',
        coverage: {
            reporter: ['html'],
            reportsDirectory: './coverage'
        },
    },
})

```

</details>

































































â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—
â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—





â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—
â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—





â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—
â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—








## ä»¥å‰ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

Next.js app router é–‹ç™ºç”¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ (Storybook Supabase shadcn/ui) - Qiita

https://qiita.com/masakinihirota/items/3ad7a1564d2b6c56d4db

Next.js App Router é–‹ç™ºç”¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã« shadcn/ui ã§ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ã‚’å®Ÿè£…ã™ã‚‹ã€‚ - Qiita

https://qiita.com/masakinihirota/items/7cf6181ba61fe9dc3802

â€»ç†ç”±ã¨ã—ã¦ã€å…¬å¼ãŒApp Dirå¯¾å¿œã®èªè¨¼ä»˜ãã‚µãƒ³ãƒ—ãƒ«ã‚’å…¬é–‹ã—ãŸãŸã‚ã§ã™ã€‚
ã“ã®ä»¥å‰ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆâ†‘ã«ã¯èªè¨¼ã¯æœªå®Ÿè£…ã§ã—ãŸã€‚
app routerã«å¯¾å¿œã—ãŸèªè¨¼æ–¹æ³•ã‚’å„ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè©¦è¡ŒéŒ¯èª¤ã—ã¦ã„ãŸæ™‚æœŸã§ã—ãŸã€‚
ç§è‡ªèº«ã‚‚ç‹¬è‡ªã®èªè¨¼ã‚ˆã‚Šã¯å…¬å¼ãŒæ¡ç”¨ã—ã¦ã„ã‚‹èªè¨¼æ–¹å¼ã‚’æ¡ç”¨ã—ã¦ä¿¡é ¼åº¦ã‚’ã‚ã’ãŸã‹ã£ãŸãŸã‚ãã®ã¾ã¾æ¡ç”¨ã—ã¾ã—ãŸã€‚


# é‚ªé­”ã™ã‚‹æ‹¡å¼µæ©Ÿèƒ½

DeepL
ã“ã®æ‹¡å¼µæ©Ÿèƒ½ã¯ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ãƒ­ã‚°ã«ä½™åˆ†ãªã‚¨ãƒ©ãƒ¼ã‚’åã





#########################

# GitHubèªè¨¼

æœ€åˆã®ã‚µãƒ³ãƒ—ãƒ«ã«ã¯ãƒ¡ãƒ¼ãƒ«èªè¨¼ãŒã¤ã„ã¦ã„ã¾ã—ãŸãŒã€
ã“ã‚Œã«GitHubèªè¨¼ã‚’è¿½åŠ ã—ã¦ãƒãƒ«ãƒèªè¨¼ã‚’å®Ÿè£…ã—ã¾ã™ã€‚



## å‚è€ƒ


4 Create an OAuth App with GitHub | egghead.io

https://egghead.io/lessons/supabase-create-an-oauth-app-with-github

Supabase GitHubã§ãƒ­ã‚°ã‚¤ãƒ³ - Oauthèªè¨¼ - Qiita

https://qiita.com/maaaashi/items/05b4226f228a31088550

Next.jsã§supabaseã‚’ä½¿ã£ã¦ã€èªè¨¼ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®æ›´æ–°ã¾ã§ã‚’ã‚„ã£ã¦ã¿ã‚‹

https://zenn.dev/hrtk/articles/3da84e46c97267



## Supabaseã¨GitHubã®è¨­å®š

ã¾ãšã¯
Supabaseã®å·¦ã‚µã‚¤ãƒ‰ãƒãƒ¼ã®Authenticationã‚’é¸æŠã—ã¾ã™ã€‚
å·¦ã‚µã‚¤ãƒ‰ãƒãƒ¼ã™ãå³å´ã« Authenticationã®ãƒªã‚¹ãƒˆãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚
ãã®ä¸­ã® Providers ã‚’é¸æŠã™ã‚‹ã¨ã€Auth Providers ã®ãƒªã‚¹ãƒˆãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ EmailãŒ Enableï¼ˆæœ‰åŠ¹åŒ–ï¼‰ã•ã‚Œã¦ã„ã¾ã™ã€‚

GitHubã‚’é–‹ãã€
GitHubã‚’é¸æŠã—ã¦ã€
GitHub enabled ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¾ã™ã€‚

ã¾ãš ä¸€ç•ªä¸‹ã® Callback URL (for OAuth) ãŒã‚ã‚Šã¾ã™ã®ã§ãƒ¡ãƒ¢ã—ã¦ãŠãã¾ã™ã€‚

ã“ã® Callback URL (for OAuth) ã¯ GitHubã§ä½¿ã„ã¾ã™ã€‚


æ¬¡ã«
Client ID
Client Secret
ã“ã®2ã¤ã¯ GitHub ã®

Developer applications

https://github.com/settings/developers

ã“ã®ãƒšãƒ¼ã‚¸ã‹ã‚‰ å³ä¸Šã«ã‚ã‚‹ New OAuth App ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦
ã“ã‚Œã‹ã‚‰ä½œæˆã™ã‚‹ã‚¢ãƒ—ãƒªã‚’ç™»éŒ²ã™ã‚‹ã“ã¨ã§è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚



```
Register a new OAuth application
Application name
[ã‚¢ãƒ—ãƒªå]

Homepage URL
[http://localhost:3000/]

Application description

Authorization callback URL
[Supabaseã®ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‹ã‚‰â†“]
[https://jd***********wg.supabase.co/auth/v1/callback]

```

ç™»éŒ²ãŒå®Œäº†ã—ãŸã‚‰

GitHubã§
Client ID
Client Secret
ã‚’ãƒ¡ãƒ¢ã—ã¦ãŠãã¾ã™ã€‚

â€»Client Secret ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã®ã¯ä¸€åº¦ã ã‘ã§ã™ã®ã§å–ã‚Šæ‰±ã„ã«æ°—ã‚’ã¤ã‘ã¦ãã ã•ã„ã€‚


Supabaseã«æˆ»ã‚Šã¾ã™ã€‚

Supabase ã® GitHubã®ã¨ã“ã‚ã«æˆ»ã£ãŸã‚‰

Client ID
Client Secret
ã‚’ç™»éŒ²ã—ã¦ Save ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¾ã™ã€‚

ã“ã‚Œã§ Supabase ã¨ GitHub ç›¸äº’ã«æƒ…å ±ã®ç™»éŒ²ãŒçµ‚ã‚ã‚Šã¾ã—ãŸã€‚

æ¬¡ã«ãƒ­ã‚°ã‚¤ãƒ³ãƒœã‚¿ãƒ³ã‚’å®Ÿè£…ã—ã¾ã™ã€‚



# GitHub ãƒ­ã‚°ã‚¤ãƒ³ ãƒœã‚¿ãƒ³ã®å®Ÿè£…







â†“ã“ã®å‹•ç”»ã‚’å‚è€ƒã«ã—ã¾ã™ã€‚


5 Authenticate Users with GitHub OAuth using Supabase and Next.js Client Components | egghead.io
https://egghead.io/lessons/supabase-authenticate-users-with-github-oauth-using-supabase-and-next-js-client-components


ã¾ãšã¯
src\app\page.tsx
ã®ãƒšãƒ¼ã‚¸è¡¨ç¤ºéƒ¨åˆ†ã‚’ãƒ­ã‚°ã‚¤ãƒ³ä»¥å¤–å‰Šé™¤ã—ã¾ã™ã€‚


```src\app\page.tsx
import { createServerComponentClient } from "@supabase/auth-helpers-nextjs"
import { cookies } from "next/headers"
import Link from "next/link"
import LogoutButton from "../components/LogoutButton"

export default async function Index() {
  const supabase = createServerComponentClient({ cookies })

  const {
    data: { user },
  } = await supabase.auth.getUser()

  return (
    <div>
      {user ? (
        <div className="flex items-center gap-4">
          Hey, {user.email}!
          <LogoutButton />
        </div>
      ) : (
        <Link
          href="/login"
          className="px-4 py-2 no-underline rounded-md bg-btn-background hover:bg-btn-background-hover"
        >
          Login
        </Link>
      )}
    </div>
  )
}

```



touch src\app\auth-button.tsx

```src\app\auth-button.tsx
"use client";

import { createClientComponentClient } from "@supabase/auth-helpers-nextjs";

export default function AuthButton() {
  const supabase = createClientComponentClient();

  const handleSignOut = async () => {
    await supabase.auth.signOut();
  };

  const handleSignIn = async () => {
    await supabase.auth.signInWithOAuth({
      provider: "github",
      options: {
        redirectTo: "http://localhost:3000/auth/callback",
      },
    });
  };

  return (
    <>
      <button onClick={handleSignIn}>Login</button>
      <button onClick={handleSignOut}>Logout</button>
    </>
  );
}

```







































----------------------------------------
----------------------------------------







â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—
â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—





â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—
â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—





â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—
â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—





â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—
â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—





â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—
â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—





â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—
â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—





â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—
â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—





â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—
â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—





â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—
â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—





â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—
â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—





â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—
â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—





â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—
â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—





â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—
â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—





â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—
â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—





â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—
â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—





â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—
â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—





â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—
â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—





â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—
â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—





â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—
â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—





â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—
â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—





