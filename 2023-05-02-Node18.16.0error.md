<!--
title:Node.js v18.16.0 npm ERR! code ECONNREFUSED
tags:Node.js
private: false
-->

Node.js v18.16.0(安定版)をインストールしたところ下記のエラーが発生しました。
解決方法がちょっと特殊だったのでメモしておきます。

# エラーログ

```エラーログ.log
npm i
npm ERR! code ECONNREFUSED
npm ERR! syscall connect
npm ERR! errno ECONNREFUSED
npm ERR! FetchError: request to https://registry.npmjs.org/@supabase%2fauth-helpers-nextjs failed, reason: connect ECONNREFUSED 2606:4700::6810:1123:443
npm ERR!     at ClientRequest.<anonymous> (C:\Users\＊＊＊＊＊\AppData\Roaming\npm\node_modules\npm\node_modules\minipass-fetch\lib\index.js:130:14)
npm ERR!     at ClientRequest.emit (node:events:513:28)
npm ERR!     at TLSSocket.socketErrorListener (node:_http_client:502:9)
npm ERR!     at TLSSocket.emit (node:events:525:35)
npm ERR!     at emitErrorNT (node:internal/streams/destroy:151:8)
npm ERR!     at emitErrorCloseNT (node:internal/streams/destroy:116:3)
npm ERR!     at process.processTicksAndRejections (node:internal/process/task_queues:82:21)
npm ERR!  FetchError: request to https://registry.npmjs.org/@supabase%2fauth-helpers-nextjs failed, reason: connect ECONNREFUSED 2606:4700::6810:1123:443
npm ERR!     at ClientRequest.<anonymous> (C:\Users\hi\AppData\Roaming\npm\node_modules\npm\node_modules\minipass-fetch\lib\index.js:130:14)

```

## 環境
Windows10
VSCode
Node.js v14.??.??

Node.js v14.??.??ではnpm iは成功していました。

## 再現手順

1. Node.js v14.??.??をインストールしていた。
1. バージョンアップするためNode.js v18.16.0をインストールを実行
1. npm i を実行
1. エラーが表示される。

## 原因
IPアドレスとドメイン名が紐づいてなかった。

## 解決方法

`C:\Windows\System32\drivers\etc\hosts`

このファイルをVSCodeで開き、下記のように追記します。

```hosts
104.16.20.35 registry.npmjs.org
104.16.20.35 registry.npmjs.org

```

`npm i`を実行すると無事にインストールできました。



## 参考

npm で ECONNREFUSEDとか言われた - Qiita

https://qiita.com/raiga0310/items/ba198156cfb5a5f8462b

※このQiita記事はMacの場合の対応方法でした。
