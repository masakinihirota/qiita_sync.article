<!--
title:   GitHub Copilot導入後、初めて使う時
tags:    githubcopilot
id:      0e58a6b921e4420a2882
private: false
-->
### アイコンの説明

GitHub Copilot コマンド パレット

![GitHub Copilotアイコン画像説明付き.PNG](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/44761/c59d6119-a693-a156-7f4b-65c57d9308d4.png)

### キーボードショートカットキー (VSCode)

| 操作 | ショートカットキー |
| ---- | ---- |
| 提案を受け入れる | TABキー |
| 提案を拒否する | Escキー |
| まとめて提案を表示させる | Ctrl+Enterキー |
| 単語単位で受け入れる | Ctrl＋右矢印キー |
| 単語単位での受け入れを元に戻す | Ctrl＋左矢印キー |
| 次の提案を見る | Alt＋] |
| 前の提案に戻る | Alt＋[ |
| インライン候補をトリガーする  [独自](#キーボードショートカットキー)  | Alt＋/ |
| Labs機能リストを表示 | Ctrl+Shift+Alt+e |
| サイドバー開閉のトグル [独自](#キーボードショートカットキー)  | Ctrl+Shift+a |

※ インライン候補をトリガーするとは提案が表示される場所ならばどこでもGitHub Copilotが動きます。
例えば、提案が表示される場所からカーソルが動かしてしまっても、カーソルを元の場所に戻してトリガーコマンドを使うと提案が表示されます。

※ インライン候補をトリガーするはデフォルトのキー設定では動きません。：Windowsで確認
自分でキーボードショートカットキーを設定する必要があります。（これは自分の環境だけかもしれません。）


# 導入後（課金後）
導入後に何をしていいのか？何が出来るのかがよくわからなかったので調べてみた。

# 環境
Windows10
GitHub Copilot (導入 1年契約or1月契約)
VSCode

# GitHub Copilotの種類

1. Copilot
1. Copilot Labs
1. Copilot Nightly
1. Copilot for Individuals
1. Copilot for Business
1. Copilot X
1. Copilot Chat
1. Copilot for Pull Requests
1. Copilot for CLI(command line interface)
1. Copilot Voice
1. Copilot for Docs


* Copilot
GitHub Copilotの**基本的な機能**です。**GPT-3**をベースに作られています。Visual Studio Code、Visual Studio、Neovim、JetBrainsの各統合開発環境（IDE）で利用できます。
* Copilot Labs
GitHub Copilotの**実験的な機能**を提供するプログラムです。このプログラムは、GitHub Copilotの最新機能を試すことができます。
* Copilot Nightly
**GitHub Copilotの最新版**を提供するプログラムです。このプログラムは、GitHub Copilotの最新機能を試すことができます。ただし、**不安定な機能**が含まれている可能性があります。
* Copilot for Individuals
料金のプラン名：**個人利用向け**のGitHub Copilotです。このプランは、個人で利用する場合に適しています。
* Copilot for Business
料金のプラン名：**ビジネス利用向け**のGitHub Copilotです。このプランは、ビジネスで利用する場合に適しています。
* Copilot X
**GPT-4**を活用した、GitHub Copilotの高度な機能を提供するプログラムです。このプログラムは、より高度なコード補完機能を提供します。日本ではまだ発表されていません。
* Copilot Chat
Copilot Xの機能の一つと思われる名前。チャットベースのコード補完機能を提供するプログラムです。このプログラムは、**チャットベースのコード補完機能**を提供します。
* Copilot for Pull Requests
Copilot Xの機能の一つと思われる名前。Pull Request作成時にコード補完機能を提供するプログラムです。このプログラムは、**Pull Request作成時にコード補完機能**を提供します。
* Copilot for CLI(command line interface)
Copilot Xの機能の一つと思われる名前。コマンドラインインターフェース（CLI）で利用できるGitHub Copilotです。このプログラムは、**CLI上でコード補完機能**を提供します。
* Copilot Voice
Copilot Xの機能の一つと思われる名前。音声入力によるコード補完機能を提供するプログラムです。このプログラムは、**音声入力によるコード補完機能**を提供します。
* Copilot for Docs
Copilot Xの機能の一つと思われる名前。ドキュメント作成時にコード補完機能を提供するプログラムです。このプログラムは、**ドキュメント作成時にコード補完機能**を提供します。

※現在のGitHub CopilotのモデルはGPT-3です。

※Copilot X 発表時に追加される機能は未定とされていますが、これらが追加されるのではないかと思われます。
* Copilot Chat
* Copilot for Pull Requests
* Copilot for CLI(command line interface)
* Copilot Voice
* Copilot for Docs
Copilot X が現在のCopilotのバージョンアップ版なのか、別の機能として販売されるのかはわかっていません。
ただ、「Copilot X の開発コンセプトが、**開発ライフサイクル全体を通してすぐに利用できるAIアシスタント**に進化させるべく取り組んでいます。」とあるのでこれらの機能を統合したものをCopilot Xとして販売するものと思われます。

# どんな事ができるのか？（英語）

https://githubnext.com/projects/code-brushes

※このサイトでは具体的な挙動が見れるので特にオススメです。
ボタンひとつで切り替えて表示されるので、**GitHub Copilotを理解するのに一番便利なサイト**だと思います。

`ORIGINAL CODE（ボタン）CODE UPDATED WITH MAKE MORE READABLE BRUSH`

中央のボタンを押すだけで切り替えられます。
左側はオリジナルコード、右側はGitHub Copilotが書き換えたコードが表示されます。

## 用語

### 提案
提案とは、GitHub Copilotが出してくるコードの事です。

### GitHub Copilot コマンド パレット
それぞれの関数名の上に出てくる約10個のCopilotアイコンのことを指します。
アイコン一つ一つにGitHub Copilotの機能が振り分けられています。

### GitHub Copilot ステータスアイコン
VSCode画面下のパネルにあるアイコンです。
（左サイドバーにあるGitHub Copilotのアイコンと同じアイコンがあるはずです。）
GitHub Copilotの機能が有効かどうかを確認することができます。

このアイコンからGitHub Copilotの機能を有効にしたり、無効にしたりすることができます。

# はじめの一歩

VSCodeで使用する。問題はここから、

最初に、これらのVSCode拡張機能を入れます。
* GitHub Copilot 拡張機能 (Nightlyと共用不可)
* GitHub Copilot Labs 拡張機能
* GitHub Copilot Nightly 拡張機能
（NightlyはGitHub Copilot拡張機能をアンイストールしないとインストール出来ません。）

※GitHub Copilot X の発表はされましたが、まだ詳細な報告はされていません。 (2023年3月28日)

上記の拡張機能を入れるとVSCodeの再起動が求められます。
次に拡張機能を利用するためGitHubにログインをするように求められます。

ログインをします。

GitHub Copilot Labsで認証をします。

## GitHub Copilotの有効化、無効化
GitHub Copilot ステータスアイコンをマウスでクリックすることで、オンオフを選択できます。
※VSCodeの下にあるステータスバーに表示されているアイコンです。

# 使い方

## GitHub Copilotの基本的な使い方

### 何かコードを書きたい

作成したい言語に適した拡張子がついた新しいファイルを用意します。
関数名を考えて書き出します。
そうすると、Copilotがコードを提案してきます。


### 例 基礎中の基礎 基本的な使い方

```Dates.js
function calculateDaysBetweenDates(begin, end) {

```

ここまで書けば提案が表示されます。

**TABキー**で決定します。

提案を拒否する場合は、
**Escキー**を押します。

以上が基本的な使い方です。

※関数名が作成したいコードの説明になっているのがポイントです。
GitHub Copilotは関数名を見て、その関数が何をするのかを理解しています。
他のファイルを含め、周囲のコードから関数や変数を正しく「推測」することができます。


## さらなるCopilotの機能

#### 他の提案を見たい時
提案が出ている場面で
**次の提案を見る: Alt＋]**
**以前の提案に戻る: Alt＋[**

これらのショートカットキーを使用します。


#### 一単語ごとに確定していきたい

**1単語ごとに提案を受け入れます:	Ctrl＋右矢印キー**

**1単語ごとに確定した提案を元に戻します:	Ctrl＋左矢印キー**

このショートカットキーは文章が提案された時に、**「単語単位」** で提案を受け入れます。

#### まとめて提案を出す
通常は１行に1つづつ、その他の次の提案はショートカットキーで一つ一つ見ていきますが、それらをまとめて表示したい時に使用します。

**まとめて提案を別ウィンドウに表示させたい: Ctrl+Enterキー**

まとめて提案を複数表示させる事が出来ます。
別ウィンドウが開きますのでその中から選びます。
どれを選ぶか決めたら、提案の上にある **Accept Solution** をクリックします。

拒否したい場合は **タブ** を閉じます。


### ある特定の場所（カーソルの場所）で提案を始めたい時

**インライン候補をトリガーするAlt＋/**
これは、GitHub Copilotに手動でコードの提案をさせるショートカットキーです。
現在の位置でGitHub Copilotを使いたい場合に使用します。

※提案にカーソルを合わせると、提案を選択するための GitHub Copilot コマンド パレットが表示されます。


### コメント欄からコードを書く

### 例 コメント書いてコードを提案してもらう

```LeapYear.ts
// うるう年の判定
function

```

↑コメントに書きたいコードの説明を書き、そしてfunctionまで書いて暫く待つとコードを提案をしてくれます。

Alt+] で次の提案を見る事が出来ます。
Alt+[ で前の提案に戻る事が出来ます。

※提案が複数ある場合

```LeapYear.ts
//うるう年の判定
function isLeapYear(year) {
    return year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);
}
console.log(isLeapYear(2020));
console.log(isLeapYear(2021));

```

↑タブキーを押していくだけで、コードを書いていくことが出来ます。
ファイルの拡張子は「.ts」(TypeScript)なので型をつけてみます。

カーソルを関数の上に持っていき、
GitHub Copilot コマンド パレットの「型を追加」ボタンを押します。
そうすると、自動的に範囲選択がされて、型をつけることが出来ます。

```LeapYear.ts
//うるう年の判定
function isLeapYear(year: number): boolean {
    return year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);
}
console.log(isLeapYear(2020));
console.log(isLeapYear(2021));

```

↑このように自動で型をつけてくれます。

関数名まで提案してくれています。
このようにGitHub Copilotをうまく使えば関数名や変数名などに悩む必要がなくなります。
適切な名前をつけるのは熟練者でも難しいですが、それを考える必要がなくなるのは大きいですね。

```LeapYear.ts
//うるう年の判定
function isLeapYear(year: number): boolean {
    return year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);
}
console.log(isLeapYear(2020));
console.log(isLeapYear(2021));

```

#### Tips

↑のように型をつけたのに、もう一度GitHub Copilotコマンドパレットの型のアイコンを押すと↓型が外れたコードになります。

```LeapYear.ts
//うるう年の判定
function isLeapYear(year) {
    return year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);
}
console.log(isLeapYear(2020));
console.log(isLeapYear(2021));

```


# GitHub Copilotのコツ

## コメントを活用します

コメントを書きましょう、コメントが充実している程そして正確な程 提案が良くなります。

型をつけましょう、型をつける事で提案が良くなります。

その他にも・・・
* データの型
* データの範囲
* データの意味
* データの関係性
* データの処理内容
* データの出力内容
全部書く必要はありませんが、できるだけ多くの情報を書くようにしましょう。
多くの情報があればあるほど提案の精度が上がっていきます。

逆に与えるデータが間違っていると、提案も間違ってしまいます。

### 例 詳細なコメントを書いてみる

コメントを充実させるとどうなるか見てみましょう。
#### FizzBuzz問題

一番シンプルに

```fizzBuzz.ts
// 関数の名前:FizzBuzz問題
fucntion

```

これでも提案はしてくれます。
しかしこれだと1行ごとに提案を見て確定させていくことになります。
（逆に考えれば、1行ごとに自分で提案を見ながら修正することが出来ます。）

↑このコメントからさらにデータを追加してみます。
（FizzBuzz問題は有名なのでコメントも正確な提案をしてくれます。）

```fizzBuzz.ts
// 関数の名前:FizzBuzz問題
// 引数: 最大値
// 返り値: なし
// 処理内容: 1から最大値までの数値をコンソールに出力する
//           ただし、3の倍数のときは数値の代わりに「Fizz」を、
//           5の倍数のときは「Buzz」を、
//           3の倍数かつ5の倍数のときは「FizzBuzz」を出力する

```
↑このようにコメントを書くと、提案が正確になります。
なのでこの状態から、

↓このように提案を出してみると関数を最後まで一気に書いてくれます。
（コメントに関数のタイトルだけを書いた時のように1行ごとに提案を受け入れることはありません）

```fizzBuzz.ts
// 関数の名前:FizzBuzz問題
// 引数: 最大値
// 返り値: なし
// 処理内容: 1から最大値までの数値をコンソールに出力する
//           ただし、3の倍数のときは数値の代わりに「Fizz」を、
//           5の倍数のときは「Buzz」を、
//           3の倍数かつ5の倍数のときは「FizzBuzz」を出力する
function fizzBuzz(max) {
    for (var i = 1; i <= max; i++) {
        var output = "";
        if (i % 3 === 0) {
            output += "Fizz";
        }
        if (i % 5 === 0) {
            output += "Buzz";
        }
        if (output === "") {
            output += i;
        }
        console.log(output);
    }
}

```

↓コメント部分を微妙に修正してみます。

```fizzBuzz.ts
// 関数の名前:FizzBuzz問題
// 引数: 最大値 100
// 返り値: なし
// 処理内容: 1から最大値までの数値をコンソールに出力する
//           ただし、7の倍数のときは数値の代わりに「Fizz」を、
//           11の倍数のときは「Buzz」を、
//           77の倍数かつ5の倍数のときは「FizzBuzz」を出力する
//           それ以外の場合は数値を出力する
function

```

↓このようにきちんとコメントを読み取り、推測して関数を書いてくれます。

```fizzBuzz.ts
// 関数の名前:FizzBuzz問題
// 引数: 最大値 100
// 返り値: なし
// 処理内容: 1から最大値までの数値をコンソールに出力する
//           ただし、7の倍数のときは数値の代わりに「Fizz」を、
//           11の倍数のときは「Buzz」を、
//           77の倍数かつ5の倍数のときは「FizzBuzz」を出力する
//           それ以外の場合は数値を出力する
function fizzBuzz(max) {
    for (var i = 1; i <= max; i++) {
        if (i % 77 === 0 && i % 5 === 0) {
            console.log('FizzBuzz');
        }
        else if (i % 7 === 0) {
            console.log('Fizz');
        }
        else if (i % 11 === 0) {
            console.log('Buzz');
        }
        else {
            console.log(i);
        }
    }
}

```

一つ前のコードに戻って`function`を入力した時点で **ctrl+Enter** を押してみましょう。
そうすると別ウィンドウが開き、複数の提案を見ることが出来ます。

※複数の提案を見ましたが、引数最大値100をデフォルト値で設定していませんでした。
なので、`function fizzBuzz(max = 100)`と手動で修正しておきます。

↓しかし、詳細な情報を与えると より正確な提案をしてくれます。

`// 引数のでデフォルト値は100`
このコメントを追記してみました。

```fizzBuzz.ts
// 関数の名前:FizzBuzz問題
// 引数: 最大値
// 引数のでデフォルト値は100
// 返り値: なし
// 処理内容: 1から最大値までの数値をコンソールに出力する
//           ただし、7の倍数のときは数値の代わりに「Fizz」を、
//           11の倍数のときは「Buzz」を、
//           77の倍数かつ5の倍数のときは「FizzBuzz」を出力する
//           それ以外の場合は数値を出力する
function fizzBuzz(max: number = 100): void {
  for (let i = 1; i <= max; i++) {
    let num = i;
    if (num % 7 === 0 && num % 5 === 0) {
      console.log("FizzBuzz");
    } else if (num % 7 === 0) {
      console.log("Fizz");
    } else if (num % 11 === 0) {
      console.log("Buzz");
    } else {
      console.log(num);
    }
  }
}

```

↑このように、引数のデフォルト値を書いてくれました。
より詳細な情報を与えれば一段上の提案をしてくれることがわかったと思います。
(型まで付いているのは複数の提案の中から選んだからです。)

### 例 複数の提案を見る

関数名を書かなくても、コメントから類推してコードを提案してくれます。

↓このようにSQL文があったとします、コメントアウトしておきます。
そして`type User`と入力した時点で **Ctrl＋Enter** を押すと、別のウィンドウに幾つかの提案が表示されます。

```users.ts
// CREATE TABLE users (
//   id INT PRIMARY KEY,
//   username VARCHAR(50) NOT NULL,
//   password VARCHAR(255) NOT NULL,
//   email VARCHAR(255) UNIQUE NOT NULL
// );
type User

```

**Accept Solution** を押すとその提案が採用されます。

<details><summary>複数の提案が提示されます。(長いので折りたたみます)</summary>

```User.ts

Synthesizing 7/10 solutions

=======
Suggestion 1

type User = {
  id: number;
  username: string;
  password: string;
  email: string;
};

// Path: posts.ts
// CREATE TABLE posts (
//   id INT PRIMARY KEY,
//   title VARCHAR(255) NOT NULL,
//   content TEXT NOT NULL,
//   created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
//   updated_at DATETIME ON UPDATE CURRENT_TIMESTAMP,
//   user_id INT NOT NULL,
//   FOREIGN KEY (user_id) REFERENCES users(id)
// );
type Post = {
  id: number;
  title: string;
  content: string;
  created_at: string;
  updated_at: string;
  user_id: number;
};

// Path: comments.ts
// CREATE TABLE comments (
//   id INT PRIMARY KEY,
//   content TEXT NOT NULL,
//   created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
//   updated_at DATETIME ON UPDATE CURRENT_TIMESTAMP,
//   post_id INT NOT NULL,
//   user_id INT NOT NULL,
//   FOREIGN KEY (post_id) REFERENCES posts(id),
//   FOREIGN KEY (user_id) REFERENCES users(id)
// );
type Comment = {
  id: number;
  content: string;
  created_at: string;
  updated_at: string;
  post_id: number;
  user_id: number;
};

// Path: likes.ts
// CREATE TABLE likes (
//   id INT PRIMARY KEY,
//   post_id INT NOT NULL,
//   user_id INT NOT NULL,
//   FOREIGN KEY (post_id) REFERENCES posts(id),
//   FOREIGN KEY (user_id) REFERENCES users(id)
// );
type Like = {
  id: number;
  post_id: number;
  user_id: number;
};

// Path: views.ts
// CREATE TABLE views (
//   id INT PRIMARY KEY,
//   post_id INT NOT NULL,
//   user_id INT NOT NULL,
//   FOREIGN KEY (post_id) REFERENCES posts(id),
//   FOREIGN KEY (user_id) REFERENCES users(id)
// );
type View = {
  id: number;
  post_id: number;
  user_id: number;
};

// Path: follows.ts
// CREATE TABLE follows (
//   id INT PRIMARY KEY,
//   user_id INT NOT NULL,
//   follower_id INT NOT NULL,
//   FOREIGN KEY (user_id) REFERENCES users(id),
//   FOREIGN KEY (follower_id) REFERENCES users(id)
// );
type Follow = {
  id: number;

=======
Suggestion 2

type User = {
  id: number;
  username: string;
  password: string;
  email: string;
};

export const selectUserByEmail = async (email: string): Promise<User> => {
  try {
    const result = await connection("users")
      .select("*")
      .where("email", "=", email);

    return result[0];
  } catch (error) {
    throw new Error(error.sqlMessage || error.message);
  }
};

=======
Suggestion 3

type User = {
  id: number;
  username: string;
  password: string;
  email: string;
};

export default User;

=======
Suggestion 4

type Users = {
  id: number;
  username: string;
  password: string;
  email: string;
};

// Path: userssssss.ts
// CREATE TABLE users (
//   id INT PRIMARY KEY,
//   username VARCHAR(50) NOT NULL,
//   password VARCHAR(255) NOT NULL,
//   email VARCHAR(255) UNIQUE NOT NULL
// );
// Path: userssssss.ts
// CREATE TABLE users (
//   id INT PRIMARY KEY,
//   username VARCHAR(50) NOT NULL,
//   password VARCHAR(255) NOT NULL,
//   email VARCHAR(255) UNIQUE NOT NULL
// );
// Path: userssssss.ts
// CREATE TABLE users (
//   id INT PRIMARY KEY,
//   username VARCHAR(50) NOT NULL,
//   password VARCHAR(255) NOT NULL,
//   email VARCHAR(255) UNIQUE NOT NULL
// );
// Path: userssssss.ts
// CREATE TABLE users (
//   id INT PRIMARY KEY,
//   username VARCHAR(50) NOT NULL,
//   password VARCHAR(255) NOT NULL,
//   email VARCHAR(255) UNIQUE NOT NULL
// );
// Path: userssssss.ts
// CREATE TABLE users (
//   id INT PRIMARY KEY,
//   username VARCHAR(50) NOT NULL,
//   password VARCHAR(255) NOT NULL,
//   email VARCHAR(255) UNIQUE NOT NULL
// );
// Path: userssssss.ts
// CREATE TABLE users (
//   id INT PRIMARY KEY,
//   username VARCHAR(50) NOT NULL,
//   password VARCHAR(255) NOT NULL,
//   email VARCHAR(255) UNIQUE NOT NULL
// );

// Path: userssssss.ts
// CREATE TABLE users (
//   id INT PRIMARY KEY,
//   username VARCHAR(50) NOT NULL,
//   password VARCHAR(255) NOT NULL,
//   email VARCHAR(255) UNIQUE NOT NULL
// );
// Path: userssssss.ts
// CREATE TABLE users (
//   id INT PRIMARY KEY,
//   username VARCHAR(50) NOT NULL,
//   password VARCHAR(255) NOT NULL,
//   email VARCHAR(255) UNIQUE NOT NULL
// );
// Path: userssssss.ts
// CREATE TABLE users (
//   id INT PRIMARY KEY,
//   username VARCHAR(50) NOT NULL,
//   password VARCHAR(255) NOT NULL,
//   email VARCHAR(255) UNIQUE NOT NULL
//

=======
Suggestion 5

type User = {
  id: number;
  username: string;
  password: string;
  email: string;
};

// Path: userssssss.ts
// CREATE TABLE recipes (
//   id INT PRIMARY KEY,
//   title VARCHAR(50) NOT NULL,
//   user_id INT NOT NULL,
//   FOREIGN KEY (user_id) REFERENCES users(id)
// );
type Recipe = {
  id: number;
  title: string;
  user_id: number;
};

// Path: userssssss.ts
// CREATE TABLE ingredients (
//   id INT PRIMARY KEY,
//   name VARCHAR(50) NOT NULL,
//   recipe_id INT NOT NULL,
//   FOREIGN KEY (recipe_id) REFERENCES recipes(id)
// );
type Ingredient = {
  id: number;
  name: string;
  recipe_id: number;
};

// Path: userssssss.ts
// CREATE TABLE steps (
//   id INT PRIMARY KEY,
//   instruction VARCHAR(255) NOT NULL,
//   recipe_id INT NOT NULL,
//   FOREIGN KEY (recipe_id) REFERENCES recipes(id)
// );
type Step = {
  id: number;
  instruction: string;
  recipe_id: number;
};

// Path: userssssss.ts
// CREATE TABLE tags (
//   id INT PRIMARY KEY,
//   name VARCHAR(50) NOT NULL
// );
type Tag = {
  id: number;
  name: string;
};

// Path: userssssss.ts
// CREATE TABLE recipe_tags (
//   id INT PRIMARY KEY,
//   recipe_id INT NOT NULL,
//   tag_id INT NOT NULL,
//   FOREIGN KEY (recipe_id) REFERENCES recipes(id),
//   FOREIGN KEY (tag_id) REFERENCES tags(id)
// );
type RecipeTag = {
  id: number;
  recipe_id: number;
  tag_id: number;
};

// Path: userssssss.ts
// CREATE TABLE comments (
//   id INT PRIMARY KEY,
//   content VARCHAR(255) NOT NULL,
//   user_id INT NOT NULL,
//   recipe_id INT NOT NULL,
//   FOREIGN KEY (user_id) REFERENCES users(id),
//   FOREIGN KEY (recipe_id) REFERENCES recipes(id)
// );
type Comment = {
  id: number;
  content: string;
  user_id: number;
  recipe_id: number;
};

// Path: userssssss.ts
// CREATE TABLE likes (
//   id INT PRIMARY KEY,
//   user_id INT

=======
Suggestion 6

type Userss = {
  id: number;
  username: string;
  password: string;
  email: string;
};

// Path: userssssss.ts
// CREATE TABLE users (
//   id INT PRIMARY KEY,
//   username VARCHAR(50) NOT NULL,
//   password VARCHAR(255) NOT NULL,
//   email VARCHAR(255) UNIQUE NOT NULL
// );
type UserssInsert = {
  username: string;
  password: string;
  email: string;
};

// Path: userssssss.ts
// CREATE TABLE users (
//   id INT PRIMARY KEY,
//   username VARCHAR(50) NOT NULL,
//   password VARCHAR(255) NOT NULL,
//   email VARCHAR(255) UNIQUE NOT NULL
// );
type UserssUpdate = {
  id: number;
  username: string;
  password: string;
  email: string;
};

// Path: userssssss.ts
// CREATE TABLE users (
//   id INT PRIMARY KEY,
//   username VARCHAR(50) NOT NULL,
//   password VARCHAR(255) NOT NULL,
//   email VARCHAR(255) UNIQUE NOT NULL
// );
type UserssDelete = {
  id: number;
};

// Path: userssssss.ts
// CREATE TABLE users (
//   id INT PRIMARY KEY,
//   username VARCHAR(50) NOT NULL,
//   password VARCHAR(255) NOT NULL,
//   email VARCHAR(255) UNIQUE NOT NULL
// );
type UserssSelect = {
  id: number;
};

// Path: userssssss.ts
// CREATE TABLE users (
//   id INT PRIMARY KEY,
//   username VARCHAR(50) NOT NULL,
//   password VARCHAR(255) NOT NULL,
//   email VARCHAR(255) UNIQUE NOT NULL
// );
type UserssSelectAll = {
  id: number;
};

// Path: userssssss.ts
// CREATE TABLE users (
//   id INT PRIMARY KEY,
//   username VARCHAR(50) NOT NULL,
//   password VARCHAR(255) NOT NULL,
//   email VARCHAR(255) UNIQUE NOT NULL
// );
export class UserssRepository {
  private readonly tableName = "users";
  private readonly connection: mysql.Connection;

  constructor(connection: mysql.Connection) {
    this.connection = connection;
  }

  // Path: userssssss.ts
  // INSERT INTO users (username, password, email) VALUES (?, ?, ?)
  async insert(userss: Users

=======
Suggestion 7

type User = {
    id: number,
    username: string,
    password: string,
    email: string
}

const users: User[] = [
    { id: 1, username: "admin", password: "123", email: "


```

</details>




# GitHub Copilot Labs

## 公式サイト

GitHub Copilot Labs

GitHub Next | GitHub Copilot Labs
https://githubnext.com/projects/copilot-labs

## GitHub Copilot Labsの機能のまとめ

GitHub Copilot公式のVSCode拡張機能です。
※他のエディタにもそれぞれあるみたいです。（未確認）
GitHub Copilotの方が、Amazon CodeWhispererよりも、便利だと感じるのはこのツールのおかげです。

## 利用方法

二通りあります。

* 関数の上などに表示されるGithub Copilot コマンドパレットのアイコンボタンを押して利用します。
* VSCodeの左サイドバーから GitHub Copilot Labsを開き、機能を選択します。

それぞれ見ていきましょう。

# コマンドパレットから利用する方法

### アイコンの説明

![GitHub Copilotアイコン画像説明付き.PNG](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/44761/c59d6119-a693-a156-7f4b-65c57d9308d4.png)

### 一覧

* IDE Brushes: Suggest test
* IDE Brushes: Make this code more readable
* IDE Brushes: Add Types to this code
* IDE Brushes: Find a bug in this code
* IDE Brushes: Make this code easier to debug
* IDE Brushes: Clean up this code
* IDE Brushes: Document the steps of this code
* IDE Brushes: Make this code more robust
* IDE Brushes: Break this code into smaller chunks
* IDE Brushes: Document this code
* IDE Brushes: Use a custom brush

### 説明

複数の機能をまとめたものです。
コードを読みやすくしたり各行ごとにコメントを追加したり出来ます。

- Suggest test (テストを提案する)
カーソルが関数上にあるときに出現します、関数の引数や戻り値の型を推測し、テストコードを提案します。

- IDE Brushes: Make this code more readable（コードを読みやすくする）
コードの可読性を高めるために、インデントや改行を追加し、コードブロックを整理することができます。

- IDE Brushes: Add Types to this code（コードに型を追加する）
変数や関数の引数、戻り値に型を追加し、静的型付けを導入することができます。

- IDE Brushes: Find a bug in this code（コード内のバグを見つける）
コードの解析を行い、可能なバグを検出することができます。

- IDE Brushes: Make this code easier to debug（コードをデバッグしやすくする）
デバッグしやすいように、デバッグ情報を出力するコードや、条件分岐を追加するコードを挿入することができます。

- IDE Brushes: Clean up this code（コードをクリーンアップする）
コードの冗長性を削除し、不要なコードを削除して、コードの品質を向上させます。

- IDE Brushes: Document the steps of this code（コードの手順をドキュメント化する）
コードの動作を説明するコメントを追加し、コードの理解を容易にすることができます。

- IDE Brushes: Make this code more robust（コードをより堅牢にする）
エラーハンドリングコードを追加し、コードの品質を向上させます。

- IDE Brushes: Break this code into smaller chunks（コードをより小さな塊に分割する）
大きな関数やクラスを小さな関数やクラスに分割することで、コードをより管理しやすくすることができます。

- IDE Brushes: Document this code（コードをドキュメント化する）
コードの目的や動作を説明するコメントを追加することで、コードの理解を容易にすることができます。

- IDE Brushes: Use a custom brush（カスタムブラシを使用する）
ユーザーが自分で定義したブラシを使用することができます。これにより、特定のプロジェクトに最適なブラシを作成することができます。

※ここでいうブラシとはGitHub Copilotの動作と結果の事です。


### Github Copilot コマンドパレットの詳細な説明

#### Suggest test （コマンドパレットの一番左）

※この関数は次の項目の「Make this code more readable」と「Add Types to this code」で修正された関数でs.

```addNumbers.ts
function addNumbers(num1: number, num2: number): number {
  // 足し算の結果を返す
  return num1 + num2
}

```

関数の{}内にカーソルを持ってきて、GitHub Copilot パレットの中から **Suggest test** をクリックします。

左サイドバーが開き **TEST GENERATION** プルダウンメニューが開きます。

Detected Functionで選択された関数がわかります。

**Suggest a new test** を押します。

↓このようにテストコードが生成されました。

```addNumbers.test.ts
describe('test auth13', function() {
    it('test auth13.addNumbers', function(done) {
        // console.log('test auth13.addNumbers');
        let result = auth13.addNumbers(10, 20);
        assert.equal(result, 30);
        done();
    })
})

```

**Run this test**ボタンを押すとテストが実行されます。
(プロジェクト or グローバルなテスト実行環境が必要です、無いとError running testエラーが出力されます。)



#### Make this code more readableの使い方

↓このよう読みにくい関数があったとします、この関数を読みやすくしてくれます。

```aaa.ts
function aaa(bbb, ccc) {
  // 足し算の結果を返す
  return bbb + ccc
}

```

関数の{}内にカーソルを持ってきて、GitHub Copilot パレットの中から **Make this code more readable** をクリックします。
（スマイルアイコン、Suggest testの左隣り）

↓今回は、このように修正されました。

```addNumbers.ts
function addNumbers(num1, num2) {
  // 足し算の結果を返す
  return num1 + num2
}

```

↑関数名はコメントを参考に命名されています。
引数も数値を2つ返すことが第三者にもわかります。

ついでに、`addNumbers.ts` とファイル名を変えておきました。（これは手動で変えました）


#### Add Types to this codeの使い方

↓この関数は、一つ上の項目のMake this code more readableの使い方で得られた関数を利用しています。

```addNumbers.ts
function addNumbers(num1: number, num2: number): number {
  // 足し算の結果を返す
  return num1 + num2
}

```

関数の{}内にカーソルを持ってきて、GitHub Copilot パレットの中から **Add Types to this code** をクリックします。
（スマイルアイコンの左隣り）


```addNumbers.ts
function addNumbers(num1: number, num2: number): number {
  // 足し算の結果を返す
  return num1 + num2
}

```

このように型が追加されました。



#### Find a bug in this codeの使い方

```sum.js
function sum(a, b) {
  return a * b;
}

```

関数の{}内にカーソルを持ってきて、GitHub Copilot パレットの中から **Find a bug in this code** をクリックします。

```sum.js
function sum(a, b) {
  return a + b;
}

```
このように修正されました。



#### Make this code easier to debugの使い方

```sum.js
function sum(a, b) {
  return a + b;
}

```
関数の{}内にカーソルを持ってきて、GitHub Copilot パレットの中から **Make this code easier to debug** をクリックします。

```sum.js
function sum(a, b) {
  console.log('sum ' + a + ' ' + b);
  return a + b;
}

```

このようにconsole.logが追加されていくので、デバッグしやすくなります。

#### Clean up this codeの使い方


```sum.js
function sum(a, b) {
  console.log('sum ' + a + ' ' + b);
  return a + b;
}

```

関数の{}内にカーソルを持ってきて、GitHub Copilot パレットの中から **Clean up this code** をクリックします。

```sum.js
function sum(a, b) {
  return a + b;
}

```
このようにconsole.logが削除されていきます。

#### Document the steps of this codeの使い方

関数の{}内にカーソルを持ってきて、GitHub Copilot パレットの中から **Document the steps of this code** をクリックします。

```sum.js
// Define a function named sum that takes two parameters named a and b.
function sum(a, b) {
  // Return the sum of a and b.
  return a + b;
}

```

このようにコメントが追加されていきます。

#### Make this code more robustの使い方

関数の{}内にカーソルを持ってきて、GitHub Copilot パレットの中から **Make this code more robust** をクリックします。

```sum.js

function sum(a, b) {
  if (typeof a !== 'number' || typeof b !== 'number') {
    throw new TypeError('Expected two numbers as arguments');
  }
  return a + b;
}

```

このように例外処理が追加されていきます。

#### Break this code into smaller chunksの使い方

```calc.js
// 関数名:掛け算と足し算
// 引数:数字を2個
// 出力:足し算の結果と掛け算の結果を同時に出力する。
// 処理1:足し算を実行する
// 処理2:掛け算を実行する
// 処理3:足し算と掛け算の結果を出力する
function

```

↑この状態から提案をしてもらいます。

```calc.js
// 関数名:掛け算と足し算
// 引数:数字を2個
// 出力:足し算の結果と掛け算の結果を同時に出力する。
// 処理1:足し算を実行する
// 処理2:掛け算を実行する
// 処理3:足し算と掛け算の結果を出力する
function calc(num1, num2) {
    var result1 = num1 + num2;
    var result2 = num1 * num2;
    console.log(result1, result2);
}

```

関数の{}内にカーソルを持ってきて、GitHub Copilot パレットの中から **Break this code into smaller chunks** をクリックします。

```calc.js
// 関数名:掛け算と足し算
// 引数:数字を2個
// 出力:足し算の結果と掛け算の結果を同時に出力する。
// 処理1:足し算を実行する
// 処理2:掛け算を実行する
// 処理3:足し算と掛け算の結果を出力する
function add(num1, num2) {
    return num1 + num2;
}
function multiply(num1, num2) {
    return num1 * num2;
}
function calc(num1, num2) {
    console.log(add(num1, num2), multiply(num1, num2));
}

```

このように関数が分割されていきます。

#### Document this codeの使い方

```sum.js
function sum(a, b) {
  return a + b;
}

```

関数の{}内にカーソルを持ってきて、GitHub Copilot パレットの中から **Document this code** をクリックします。

```sum.js
/**
 * @param {number} a
 * @param {number} b
 * @returns {number}
 */
function sum(a, b) {
  return a + b;
}

```

このようにJSDocが追加されていきます。（いろんなパターンがあります。）

他のパターン

```sum.js
// This function returns the sum of two numbers.
function sum(a, b) {
    return a + b;
  }

```


#### Use a Custom brushの使い方

この機能は、標準で提供されている機能で満足していない場合、**Use a Custom brush** という機能を使うことで、自分でカスタマイズした機能を使うことが出来ます。

### 例 Use a Custom brushの使い方 その1
↓例えば、足し算のつもりなのに掛け算の結果を返す関数があったとします。

```sum.js
function sum(a, b) {
  return a * b;
}

```

関数の{}内にカーソルを持ってきて、GitHub Copilot パレットの中から **Use a Custom brush** をクリックします。
（一番右端にあるアイコン）

入力を促されるウィンドウが開くので
「足し算をする」と入力します。（日本語でok！）

そうすると↓のように関数が修正されます。

```sum.js
function sum(a, b) {
  return a + b;
}

```


### 例 Use a Custom brushの使い方 その2

ColorButtonというコンポーネントがあったとします。
（コードにあった拡張子である必要があります。）

```tailwindcss.tsx
export const ColorButton = () => {
  return <button>色のボタン</button>
}

```

TailwindCSSのクラスを追加して暖色系に装飾してみたいとします。

関数全体を範囲選択します。
**Use a custom brush**をクリックします。（一番右端にあるアイコン）

入力を促されるウィンドウが開くので
「TailwindCSSで暖色系に装飾してください。」と入力します。（日本語でok！）

```tailwindcss.tsx
export const ColorButton = () => {
  return <button className="bg-yellow-300">キャンセル</button>
}

```
↑と、このように暖色系の className が追加されます。
className はTailwindCSSのクラス名です。

※このようにユーザーの任意の機能を独自に作成することが出来ます。
もっと細かく指示を与えれば複雑な命令も可能です。





# VSCodeの左サイドバーから GitHub Copilot Labsを開き、機能を利用する


## 実際に使用してみる

新しいファイルを用意する、拡張子を使用する言語にしておきます。
既存のファイルでも大丈夫です。

左サイドバーにあるCopilot アイコンを押します。
そうすると左サイドバーの隣にウィンドウが開きます。

* EXPLAIN コードの解説をおこなう
これは事前に用意されているコメントを使用してGitHub Copilotを利用します。

* LANGUAGE TRANSLATION  言語の変換
例：JavaScriptのコードをPythonへ変換

* BRUSHES  アイコンをクリックする事で各種機能が使用できる。
これはGitHub Copilot コマンドパレットの左サイドバー版です。

* TEST GENERATION コードに対してテストコードを作る。
一つの関数からテストコードを作成、実行が出来るようになります。

## 各機能の説明

### EXPLAIN

コードの解説を行う機能です。

↓のような関数があった場合

```sum.js
function sum(a, b) {
  return a + b
}

```

関数の部分を範囲選択します。
(範囲選択をすることで、左サイドバーに選ばれた関数が表示されます。)

VSCodeの左サイドバーにあるCopilot アイコンを押します。
**EXPLAIN** メニューを開きます。

選択した関数の下にプルダウンメニューで5つの選択肢が選べます。
(内容はファイルタイプに依存したコメントアウト記法で記述されたコメントになります。)

### 選択できるメニュー

Custom
Explain code
code does following
code does following (English)
Show example code

#### Customを選択した場合


Customを選択した場合は、自分でカスタマイズした機能を使用することが出来ます。

左サイドバーのGitHub Copilot Labsを開きます。
Explain codeを選択します。
Advancedを開きます。
Promptに自分のコメントを入力します。
コメントは正確なほど正しい結果を得られます。

↓undefinedの部分にコメントを入力します。
このコメントは、コードの解説を行うコメントになります。

Prompt

```Prompt.ts
undefined

```

Stops

```Stops.ts
*/
```

コードの解説を行うコメントを追加することで正確な結果が出力されます。

今回は、Prompt部分にコメントを書き込むことになります。

Prompt

```Prompt
引き算に書き直してください。

```
と入力してみます。（日本語でok！）

Ask Copilotを押します。
そうすると

RESULTに以下のように表示されます。

RESULT

```RESULT.ts
引き算に書き直してください。 // Language: typescript
function sub(a, b) {
  return a - b
}


割り算に書き直してください。

// Language: typescript
function div(a, b) {
  return a / b
}


掛け算に書き直してください。

// Language: typescript
function mul(a, b) {
  return a * b
}


大きい方を返す関数を書いてください。

// Language: typescript
function max(a, b) {
  return a > b ? a : b
}


小さい方を返す関数を書いてください。

// Language: typescript
function min(a, b) {
  return a < b ? a : b
}


2つの引数の和を返す関数を書いてください。

// Language: typescript
function sum(a, b) {
  return a + b
}


2つの引数の差を返す関数を書いてください。

// Language: typescript
function sub(a, b) {
  return a - b
}


2つの引数の商を返す関数を書いてください。

// Language: typescript
function div(a, b) {
  return a / b
}


2つの引数の積を返す関数を書いてください。

// Language: typescript
function mul(a, b) {
  return a * b
}


2つの引数のうち、大きい方を返す関数を書いてください。

// Language: typescript
function max(a, b) {
  return a > b ? a : b
}


2つの引数のうち、小さい方を返す関数を書いてください。

// Language: typescript
function min(a, b) {
  return a < b ? a : b
}


// Language: typescript
function sum(a, b) {
  return a + b
}


// Language: typescript
function sub(a, b) {
  return a - b
}


// Language: typescript
function div(a, b) {
  return a / b
}


// Language: typescript
function mul(a, b) {
  return a * b
}


// Language: typescript
function max(a, b) {
  return a > b ? a : b
}


// Language: typescript
function min(a, b) {
  return a < b ? a : b
}


// Language: typescript
function sum(a, b) { */

```

↑今回は、このような結果が得られました。



#### Explain codeを選択した場合

選択したコードに対して、
コードの解説を行うコメントを追加することで、コードの理解を容易にすることができます。

設定されているコメントは以下のようになっています。

Prompt

```Prompt.ts
/* Here is the explanation for the code above:
1.

```

訳
以下、上記コードの説明です。

Ask Copilotを押します。
RESULTに以下のように表示されます。

RESULT

```RESULT.ts
/* Here is the explanation for the code above:
1. The function sum is declared with two parameters: a and b.
2. The function sum returns the sum of its parameters.
3. Variables are declared with the var keyword. Here we declare the variable a and b.
4. The var keyword is used to declare variables that will be scoped to the current function.
5. The variable a is assigned the value 10.
6. The variable b is assigned the value 20.
7. The function sum is called with the arguments 10 and 20.
8. The function returns the value 30.
9. The statement is terminated with a semicolon (;). */

```

#### code does followingを選択した場合

選択したコードに対して、
コードの動作を説明するコメントを追加することで、コードの理解を容易にすることができます。

設定されているコメントは以下のようになっています。

Prompt

```Prompt.ts
/* The code above does the following:
1.

```

訳
上記のコードでは、以下のようになります。

Ask Copilotを押します。
RESULTに以下のように表示されます。

RESULT

```RESULT.ts
RESULT
/* The code above does the following:
1. Defines a function called sum that takes two arguments a and b.
2. The arguments a and b are both of type number.
3. The function returns a value of type number, which is the sum of a and b. */

```

#### code does following (English)を選択した場合

選択したコードに対して、
コードの動作を説明するコメントを追加することで、コードの理解を容易にすることができます。

設定されているコメントは以下のようになっています。

Prompt

```Prompt.ts
/* The code above does the following, explained in English:
1.

```

訳
上記のコードは、英語で説明すると次のようになります。

Ask Copilotを押します。
RESULTに以下のように表示されます。

RESULT

```RESULT.ts
RESULT
/* The code above does the following, explained in English:
1. We declare a function called sum that takes two parameters, a and b.
2. The function returns the sum of a and b. */

```

#### Show example codeを選択した場合

選択したコードに対して、実際にコードの使い方を見せてくれます。

設定されているコメントは以下のようになっています。

Prompt

```Prompt.ts
/* This is an example for calling this function:

```

訳
この関数を呼び出す場合の例です。


Ask Copilotを押します。
RESULTに以下のように表示されます。

RESULT

```RESULT.ts
RESULT
/* This is an example for calling this function: import { sum } from './sum';

console.log(sum(1, 2));
// => 3 */

```

↑のように使い方を教えてくれます。
importの仕方まで教えてくれています。

### Advancedから日本語化する

ここまで説明を読んでくれた方は、左サイドバーの **GitHub Copilot LabsのEXPLAIN** は単なるコメントだと理解してもらえたはずです。

例えば、`code does following (English)` を選択した場合のように
`in English` を付けたことですべての言語を英語で出力するよう指示しています。

そこで、ここを `in Japanese` に書き換えてみます。

※ただし固定の項目
Explain code
code does following
code does following (English)
Show example code
これらのAdvancedを変更すると、すべて **Custom** に強制移動します。
なのでこれは実質 **Custom** の利用方法になリます。

## 実際に動かしてみる

↓関数を範囲選択します。

```fizzBuzz.ts
// fizzBuzz問題を解く
// 3の倍数ならFizz、5の倍数ならBuzz、3と5の倍数ならFizzBuzzを返す
function fizzBuzz(num) {
  if (num % 3 === 0 && num % 5 === 0) {
    return "FizzBuzz"
  } else if (num % 3 === 0) {
    return "Fizz"
  } else if (num % 5 === 0) {
    return "Buzz"
  } else {
    return num
  }
}

```

Explain Codeを選び、
↓AdvancedのPromptを変更します。

Prompt

```Prompt.ts
/* Here is the explanation for the code above in Japanese:
1.

```
と `in Japanese` と追記します。

そうしてから **Ask Copilot** ボタンを押すと、

RESULT

```RESULT.ts
RESULT
/* Here is the explanation for the code above in Japanese:
1. まず、`if`文で3と5の倍数の条件を先に書いてしまうと、3の倍数も5の倍数も同時に満たす場合にFizzBuzzとなりません。
2. そこで、3と5の倍数の条件を先に書くと、3の倍数の場合は`else if`以下の処理はスキップされるので、3の倍数を判定できます。
3. この時点で5の倍数の場合は、3と5の倍数の条件を満たすため、`else if`以下の処理はスキップされます。
4. この時点で5の倍数でない場合は、3の倍数ではないため、`else`以下の処理が実行されます。 */

```

※この機能はまだ不完全で、いろいろな不具合が一番出やすいです機能です。
* 同じ行が続く
* 意味不明な説明になっている。
等の不具合をよく見かけます。たぶん、正確な情報を与えることが出来てないからだと思います。

### LANGUAGE TRANSLATION

↓このような関数があったとします。
関数全体を範囲選択します。

```fizzBuzz.ts
// fizzBuzz問題を解く
// 3の倍数ならFizz、5の倍数ならBuzz、3と5の倍数ならFizzBuzzを返す
function fizzBuzz(num) {
  if (num % 3 === 0 && num % 5 === 0) {
    return "FizzBuzz"
  } else if (num % 3 === 0) {
    return "Fizz"
  } else if (num % 5 === 0) {
    return "Buzz"
  } else {
    return num
  }
}

```

左サイドバーのGitHub Copilot Labsを開きます。

Translate code intoで変換後の言語を選択します。
(今回はPythonを選択します。)

**Ask Copilot** を押します。

```fizzBuzz.py
// fizzBuzz問題を解く
// 3の倍数ならFizz、5の倍数ならBuzz、3と5の倍数ならFizzBuzzを返す
def fizzBuzz(num):
  if num % 3 == 0 and num % 5 == 0:
    return "FizzBuzz"
  elif num % 3 == 0:
    return "Fizz"
  elif num % 5 == 0:
    return "Buzz"
  else:
    return num

```

↑このように無事 Python に変換されました。

### BRUSHES

これは関数の上に表示される **GitHub Copilot コマンドパレット** の左サイドバー版です。
機能は同等になっています。

詳しくは、[コマンドパレットから利用する方法](#コマンドパレットから利用する方法)を見てください。


### TEST GENERATION

作成したテストを実行するためにはグローバルか、開発中のアプリにテストフレームワークをインストールしておく必要があります。

#### テストコードを生成する

Suggest a new test
新しいテストの提案

Run this test
テストを実行する

### 例 テストコードを生成する

テストコードを書きたいコードを範囲選択します。
VSCodeの左サイドバー GitHUb Copilot パレットの中から **Write a test for this code** をクリックします。

左サイドバーの *TEST GENERATION*** で関数が選ばれている(Detected Function)のがわかります。

```sum.js
function sum(a, b) {
  return a + b
}

```

Suggested Testの中からテストコードが選ばれているのがわかります。
複数の関数が選ばれている場合は、範囲選択をやり直すよう促されます。

Suggest Testをクリックしてしばらく待つと、テストコードが追加されます。
右上のコピーアイコンを使ってコピーします。

```sum.test.js
describe('test sum', function() {
    it('test sum', function(done) {
        assert.equal(sum(1, 2), 3);
        done();
    })
})

```

Run Testをクリックするとテストが実行されます。
(プロジェクト or グローバルなテスト実行環境が必要です、無いとError running testエラーが出力されます。)


# キーボードショートカットキー

独自に設定したキーボードショートカットキーです。
WindowsのVSCodeの設定です。
VSCodeの左下の歯車アイコンをクリックして、設定を開きます。

## キーボードショートカットキーの設定

* インライン候補をトリガーする。

※ インライン候補をトリガーするとは提案が表示される場所ならばどこでもGitHub Copilotが動きます。
例えば、提案が表示される場所からカーソルが動かしてしまっても、カーソルを元の場所に戻してトリガーコマンドを使うと提案が表示されます。

※ インライン候補をトリガーするはデフォルトのキー設定では動きません。：Windowsで確認
自分でキーボードショートカットキーを設定する必要があります。（これは自分の環境だけかもしれません。）

* サイドバーの表示・非表示を切り替える。

Github Copilot Labsの色々な機能を使うためには、サイドバーを表示する必要があるため設定したキーボードショートカットキーです。

```keybindings.json

// 一部抜粋
{
  // インライン候補をトリガーする
  "key": "alt+/",
  "command": "editor.action.inlineSuggest.trigger",
  "when": "config.github.copilot.inlineSuggest.enable && editorTextFocus && !editorHasSelection && !inlineSuggestionsVisible"
},
{
  // サイドバーの表示・非表示を切り替える
  "key": "ctrl+shift+a",
  "command": "workbench.action.toggleSidebarVisibility"
},

```

※"key"の設定は好きなショートカットキーに変更してください。

# ネットで拾ったテクニック

## 翻訳

VさんはTwitterを使っています: 「GitHub Copilot でコメント機能を使った q: と a: 機能スゴイ。」 / Twitter

https://twitter.com/voluntas/status/1647224026492813312

### 例 翻訳をしてもらう

↓このように英語のコメントがあったとします。

```middleware.js

/**
 * Any Server Component route that uses a Supabase client must be added to this
 * middleware's `matcher` array. Without this, the Server Component may try to make a
 * request to Supabase with an expired `access_token`.
 */


```

↓翻訳したい文章の先頭にen:とつけます。
そして、新たにコメントで // ja: と追記します。そうすると・・

```middleware.js
/**
 * en:Any Server Component route that uses a Supabase client must be added to this
 * middleware's `matcher` array. Without this, the Server Component may try to make a
 * request to Supabase with an expired `access_token`.
 */

// jp:

```

jp:と 「:」記号まで付けてください。

↓このように日本語の翻訳が追加されます。

```middleware.js
/**
 * en:Any Server Component route that uses a Supabase client must be added to this
 * middleware's `matcher` array. Without this, the Server Component may try to make a
 * request to Supabase with an expired `access_token`.
 */

// jp:Supabaseクライアントを使用するすべてのServer Componentルートは、この
// jp:ミドルウェアの`matcher`配列に追加する必要があります。これがないと、Server Componentは
// jp:期限切れの`access_token`でSupabaseにリクエストしようとする可能性があります。

```

## 説明を書いてもらう

### 例 説明を書いてもらう

↓例えばこのようなコードがあったとします。

```react.tsx
import React from "react"
import { createRoot } from "react-dom/client"

import App from "./App"
import reportWebVitals from "./reportWebVitals"

const container = document.getElementById("root") as HTMLElement
const root = createRoot(container)

root.render(
  <React.StrictMode>
    <App />
  </React.StrictMode>,
)

reportWebVitals()


```

↓ファイルの先頭にこのようなコメントを追記します。

```react.tsx
// q:このコードの説明を書く
// a:

```

↓このようにソースコードの先頭にコメントを記入します。

```react.tsx
// q:このコードの説明を書く
// a:

import React from "react"
import { createRoot } from "react-dom/client"

import App from "./App"
import reportWebVitals from "./reportWebVitals"

const container = document.getElementById("root") as HTMLElement
const root = createRoot(container)

root.render(
  <React.StrictMode>
    <App />
  </React.StrictMode>,
)

reportWebVitals()

```

↓後はタブキーを押していくだけで、コードのように説明文が提案されていきます。
提案が表示されなくなるまで続けていくとこんな感じになります。

```react.tsx
// q:このコードの説明を書く
// a:Reactのルートコンポーネント
// a:StrictModeは、開発モードでのみ有効になる
// a:Appコンポーネントをレンダリングする
// a:reportWebVitalsは、パフォーマンスを計測するための関数
// a:containerは、DOMの要素を指定する
// a:rootは、containerを指定して、Reactのルートを作成する
// a:root.renderは、Reactのルートにコンポーネントをレンダリングする
// a:StrictModeは、開発モードでのみ有効になる
// a:Appコンポーネントをレンダリングする
// a:reportWebVitalsは、パフォーマンスを計測するための関数

import React from "react"
import { createRoot } from "react-dom/client"

import App from "./App"
import reportWebVitals from "./reportWebVitals"

const container = document.getElementById("root") as HTMLElement
const root = createRoot(container)

root.render(
  <React.StrictMode>
    <App />
  </React.StrictMode>,
)

reportWebVitals()

```

# GitHub.com上 で GitHub Copilot の設定をする

https://docs.github.com/en/copilot/configuring-github-copilot/configuring-github-copilot-settings-on-githubcom#enabling-or-disabling-duplication-detection


## 設定 著作権関連

※著作権関連
公開コードと一致しているかどうかのチェックをします。
ライセンス等を気にする製品を作る方は必須です。

* 任意のページの右上隅にあるプロフィール写真をクリックし、**Settings** をクリックします。
* 左側のサイドバーで、**Copilot** をクリックします。

## 設定 公開コードかどうかのチェック

**Suggestions matching public code GitHub Copilot can allow or block suggestions matching public code. See the GitHub Copilot documentation to learn more.**

許可する場合 **Allow**
公開コードと一致しても使用する。

ブロックする場合 **Block**
公開コードと一致している場合は使用しない。

新しい設定を保存するには、Saveボタンをクリックします。

## 設定 テレメトリ コードの共有の許可

自分のコードをMicrosoft および OpenAI と共有するかどうかを選択できます。

**Allow GitHub to use my code snippets for product improvements**

GitHub によるテレメトリ データの使用を許可または禁止するには、[製品の改善のために GitHub がコード スニペットを使用することを許可する] を選択または選択解除します。

新しい設定を保存するには、Saveボタンをクリックします。

# 参考記事

GitHub CopilotでAI ペア プログラマーに身をゆだねたら、委ねすぎたまま行った件。 - Qiita

https://qiita.com/kazuya-ho2/items/0ed7a4399630dcea1186

GitHub Copilot for CLI があればコマンドなんてもう覚えなくていいのでは？ - Qiita

https://qiita.com/ekusiadadus/items/af374a10b55003412e3f


copilot-explorer | Hacky repo to see what the Copilot extension sends to the server

https://thakkarparth007.github.io/copilot-explorer/posts/copilot-internals

https://docs.github.com/en/site-policy/github-terms/github-terms-for-additional-products-and-features#github-copilot

https://github.com/features/copilot/#faq-privacy-copilot-for-business

Getting started with GitHub Copilot in Visual Studio Code - GitHub Docs

https://docs.github.com/en/copilot/getting-started-with-github-copilot/getting-started-with-github-copilot-in-visual-studio-code

コード補完 - AI-Native Development Guide

https://ai-native-development.gitbook.io/docs/v/ja/basic/code-to-code

GitHub Copilot for Individuals はアンチパターンをどこまでリファクタしてくれるのか？

https://zenn.dev/bs_kansai/articles/1632bd54d30524?redirected=1

GitHub Copilot にいいコードを書いてもらう方法 - GMOインターネットグループ グループ研究開発本部（次世代システム研究室）

https://recruit.gmo.jp/engineer/jisedai/blog/how-to-hack-github-copilot/

>まとめ　GitHub Copilot と仲良くやる方法
>結論 「コメント書け！」
> * テンプレ的な import 文や config の実装は GitHub Copilot にサジェストさせると一瞬で完了。
> * 複雑なビジネスロジック実装では、まずコメント書け！するとAIはサジェスト精度が大幅に向上。
> * いいサジェストが来ないときは、コメントが悪い。書いてほしい処理を一般的な技術用語で説明すること。
> * どんなにコメントを頑張ってもまだ完璧に100点は難しい。結構イージーな文法エラーがあったりする。
> * 1人でググりながらサンプルを読んであれこれやるより、AIのサジェストを活用したほうがだいぶ早く実装が完了する。まずやりたいことをコメントで書くと AI がとりあえず実装してくれる。それをベースにググると効率が良かった。

AI-Native Development Guide（日本語版）

https://ai-native-development.gitbook.io/docs/v/ja/

# その他
日本語の文章を書く手助けもしてくれます。

コードでエラーが起きたら、現在のコードをコピーしてGitHub Copilotに貼り付けてみるといいかもしれません。

もしそれで解決しないのなら、ChatGPTに貼り付けてみるといいかもしれません。



# ライバル登場？？？（追記:2023年4月14日）

AWS版GitHub Copilotとなる「Amazon CodeWhisperer」が正式版に。個人ユーザーは無料、VSCodeに対応

https://www.publickey1.jp/blog/23/awsgithub_copilotamazon_codewhisperervscode.html

Amazon CodeWhispererとGitHub Copilotを同時に使うことはできなようです。
どちらかを選択する必要があります。

※自分はGitHub Copilotを使っているので、Amazon CodeWhispererは使っていません。

理由としては、**GitHub Copilot コマンドパレット** がある分、GitHub Copilotの方が使いやすいからです。