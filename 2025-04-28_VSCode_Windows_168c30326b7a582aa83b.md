<!--
title:   VSCodeでの3段以上のソースを移動させるテクニック (移動先の空フォルダを用意しておく)
tags:    VSCode,Windows
id:      168c30326b7a582aa83b
private: false
-->
# Windows の VSCode ファイルをまとめて移動

Next.jsでApp routerなどを使っていると、
VSCodeは importのLinkを自動で追跡してくれます。
2段だと問題なく移動できますが
3段以上だと移動に長く時間がかかったり失敗したりします。

例えば、
Next.jsのプロジェクトで`src`フォルダの無いリポジトリだったり、i18nの機能を追加したい場合の時など[locale]フォルダを間に入れたい場合

深い階層をまとめて移動させたい場合に以前はエクスプローラーを立ち上げて、そこでファイルを移動させてから、VSCodeに戻り手動でリンクを張り直していました。

* 移動テクニック
このテクニックは**移動先の空フォルダを用意**しておき、
その後末端のフォルダやファイルを2段ごとに「少しづつ」移動させるとVSCodeはリンクを自動で張り直してくれます。
1つづつファイルだけ移動させても大丈夫です。

## 例

👇️元のフォルダ構造

```
src
├── app
│   ├── (auth)
│   │   └── (admin)

```

👇️[locale]フォルダを間に入れたい
その下に空のフォルダを用意しておく

```
src
├── app
│   ├── [locale]
│   │   ├── (auth)
│   │   │   └── (admin)

```


```
src
├── app
│   ├── (auth)
│   │   ├── (admin)
│   │   │   ├── analytics  (移動前)
│   │   │   ├── dashboard  (移動前)
│   │   │   ├── settings  (移動前)
│   │   │   └── users  (移動前)
│   │   └── protected
│   │       └── page.tsx
│   ├── [locale]
│   │   ├── (auth)
│   │   │   └── (admin)
│   │   │       ├── analytics  (移動後)
│   │   │       ├── dashboard  (移動後)
│   │   │       ├── settings  (移動後)
│   │   │       └── users  (移動後)

```

👆️ (admin)フォルダ をまとめて一気に移動させても大丈夫です。
importのLinkも自動で貼り直してくれます。


### 空フォルダ構造の(強引な)作り方

特定フォルダ以下を別の場所にコピーして、ファイルだけを削除すると出来ます。

具体的には、
「Everyting」などのファイル操作ツールを使ってフォルダを指定します。
そうするとその下のフォルダとファイルの一覧が表示されるのでファイルだけ消します。

CLIのコマンドでフォルダだけコピーXCOPYとかありそうですが調べてません。

# 感想

国際化はできるだけ早くやるべきでした。

AIのMCP(ファイル操作系のMCP等)を使うことで「AIによるファイル操作」が可能になりましたので、これからはチャットで指示するだけで出来るようになります。