<!--
title:   Next.js app router é–‹ç™ºç”¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ (Storybook Supabase shadcn/ui)
tags:    AppRouter,Next.js,Supabase,shadcn,storybook
id:      3ad7a1564d2b6c56d4db
private: false
-->

# é–‹ç™ºç’°å¢ƒ

Windows 10
VSCode
Next.js 13 app router
Supabase
shadcn/ui
Storybook
Vercel

# ãƒªãƒã‚¸ãƒˆãƒªã‹ã‚‰ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

æ–°ã—ã„ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å ´æ‰€ã‚’é¸ã‚“ã§ã‚½ãƒ¼ã‚¹ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚

## ã‚½ãƒ¼ã‚¹ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰

`gh repo clone masakinihirota/next13apptemplate`

or

`git clone https://github.com/masakinihirota/next13apptemplate.git`

`cd next13apptemplate`

## npm ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
`npm i`

å‹•ä½œç¢ºèª
`npm run dev`

â€»ä»¥ä¸Šã§çµ‚äº†ã§ã™ã€‚

ã“ã‚Œã‚ˆã‚Šä¸‹ã¯ã€ã“ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ä½œæˆæ™‚ã®ãƒ¡ãƒ¢å…¼ãƒãƒ³ã‚ºã‚ªãƒ³ã«ãªã‚Šã¾ã™ã€‚

# ã“ã®è¨˜äº‹ã®è¶£æ—¨

ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã¯æ—¢å­˜ã®ãƒ„ãƒ¼ãƒ«ã‚’çµ„ã¿åˆã‚ã›ã¦ã„ã‚‹ã ã‘ãªã®ã§ä½•ã®æ©Ÿèƒ½ã‚‚ã‚ã‚Šã¾ã›ã‚“ã€‚
ã ã‹ã‚‰ã‚µãƒ³ãƒ—ãƒ«ã‚„ãƒ‡ãƒ¢ã§ã¯ãªããƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ã™ã€‚

ãŸã ã€ç¾åœ¨ã€è¤‡æ•°ã®æ©Ÿèƒ½ã‚’ã¾ã¨ã‚ã‚‹ã ã‘ã§ã‚‚å¾®å¦™ãªè¨­å®šå¤‰æ›´ãŒå¿…è¦ã§ã€ãã‚Œã«ã¯å¤šãã®èª¿æŸ»ãŒå¿…è¦ã«ãªã‚‹ãŸã‚ã“ã“ã«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¨ã—ã¦è¨˜éŒ²ã«æ®‹ã—ã¦ãŠãã¾ã™ã€‚

# é–‹ç™ºç”¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

Next.js ã¨é–¢é€£ã™ã‚‹ãƒ„ãƒ¼ãƒ«ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ Next.js ã‚¢ãƒ—ãƒªé–‹ç™ºã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¨ã—ã¦åˆ©ç”¨ã—ã¾ã™ã€‚

# ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ãƒªãƒã‚¸ãƒˆãƒª

https://github.com/masakinihirota/next13apptemplate

â†‘ ã“ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¯ â†“ ã‚’é †ã«ãŸã©ã£ã¦ã„ãã¨ â†‘ ã®ãƒªãƒã‚¸ãƒˆãƒªã¨åŒã˜ã«ãªã‚Šã¾ã™ã€‚

# é–‹ç™ºä¸­ã®ç¢ºèªï¼†ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰

Next.js

http://localhost:3000

Storybook

http://localhost:6006/

ãƒ­ãƒ¼ã‚«ãƒ«ã® Supabase

http://localhost:54323/projects

ã‚µãƒ¼ãƒãƒ¼ã® Supabase

https://app.supabase.com/projects

Vercel

https://vercel.com/dashboard

---

# ä¾¿åˆ©ã‚µã‚¤ãƒˆã€ãƒãƒ¼ãƒˆã‚·ãƒ¼ãƒˆ

Tailwind CSS Cheat Sheet

https://tailwindcomponents.com/cheatsheet/

---

# é–‹ç™ºæ™‚ã®é‡è¦ã‚³ãƒãƒ³ãƒ‰

ã‚ˆãä½¿ã†ã‚³ãƒãƒ³ãƒ‰ã‚„ä¾¿åˆ©ãƒ„ãƒ¼ãƒ«ç­‰

```
Supabase CLI æ›´æ–°
scoop update supabase

Next.jsãƒ­ãƒ¼ã‚«ãƒ«ã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•
npm run dev

storybookã‚’èµ·å‹•
npm run storybook

supabase start
supabase stop
supabase db reset
supabase status

Supabase ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
http://localhost:54323

ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒ–ãƒƒã‚¯
npm run storybook

ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆ (storybookã‚’èµ·å‹•ã•ã›ã¦)
npm run test-storybook

Vercel
npm vercel login
npm vercel link
npm vercel env pull

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ™‚ã‹ã‚‰ä¸€å®šæœŸé–“å¾Œã«åˆ¥ãƒ–ãƒ©ãƒ³ãƒã‚’ç«‹ã¦ã¦å®Ÿè¡Œ
updateå¯èƒ½ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ä¸€è¦§ã‚’å–å¾—
npm outdated

npm update

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install -g npm-check-updates
npm-check-updates

ncu

å…¨ã¦æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ãŸã„å ´åˆã¯
ncu -u



é–‹ç™ºãƒ–ãƒ©ãƒ³ãƒã®ãƒãƒ¼ã‚¸

git checkout main
git merge -
â€» - è¨˜å·ã¯ç›´å‰ã«ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆã—ãŸãƒ–ãƒ©ãƒ³ãƒã‚’æŒ‡å®šã—ã¦ãƒãƒ¼ã‚¸ã—ã¾ã™ã€‚



```

# é–‹ç™ºã®ã‚µã‚¤ã‚¯ãƒ«

é–‹ç™ºã®ã‚µã‚¤ã‚¯ãƒ«ã¨ã—ã¦ã€ä½œæ¥­ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œã‚Šã€ãã“ã§ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ãƒ†ã‚¹ãƒˆã—ã¦ã€ãã®å¾Œã«ã‚³ãƒŸãƒƒãƒˆã—ãŸã‚‰ main ãƒ–ãƒ©ãƒ³ãƒã«ç§»å‹•å¾Œãƒãƒ¼ã‚¸ã—ã¾ã™ã€‚(ã“ã‚Œã‚’ç¹°ã‚Šç¹°ã‚Šè¿”ã—ã¾ã™ã€‚)

ä½œæ¥­ãƒ–ãƒ©ãƒ³ãƒã®ä½œæˆ
git checkout -b <branch-name>

â€»ä½œæ¥­ã—ã¾ã™ã€‚

main ãƒ–ãƒ©ãƒ³ãƒã«ç§»å‹•
git checkout main

ãƒ–ãƒ©ãƒ³ãƒã®ãƒãƒ¼ã‚¸
ç›´å‰ã«ã„ãŸãƒ–ãƒ©ãƒ³ãƒã®ãƒãƒ¼ã‚¸
git merge -

ï¼ˆä¸è¦ã«ãªã£ãŸï¼‰ãƒ–ãƒ©ãƒ³ãƒã®å‰Šé™¤
git branch -d <branch-name>

---

Next.js 13 app router ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ä½œæˆ

# ãƒªãƒã‚¸ãƒˆãƒªåã‚’æ±ºã‚ã‚‹

next13apptemplate

# ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ä½¿ç”¨ã™ã‚‹ãƒ„ãƒ¼ãƒ«ã®èª¿æŸ»

Next.js ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

<details><summary>ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹äºˆå®šã®ãƒ„ãƒ¼ãƒ« (é•·ã„)</summary>

(æœª)ï¼æœªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å€™è£œ

â€» é‡è¦ãªã®ã¯å¿…è¦ã«ãªã£ãŸæ™‚ã«èª¿ã¹ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã€‚
ä¸€æ°—ã«å…¨éƒ¨å…¥ã‚Œã¦ã‚‚æ··ä¹±ã™ã‚‹ã ã‘ã§ä½¿ã„ã“ãªã›ã¾ã›ã‚“ã€‚

Next.js by Vercel - The React Framework

https://nextjs.org/

TypeScript: JavaScript With Syntax For Types.

https://www.typescriptlang.org/

Tailwind CSS - Rapidly build modern websites without ever leaving your HTML.

https://tailwindcss.com/

Find and fix problems in your JavaScript code - ESLint - Pluggable JavaScript Linter

https://eslint.org/

Prettier Â· Opinionated Code Formatter

https://prettier.io/

The Open Source Firebase Alternative | Supabase

https://supabase.com/

Storybook: Frontend workshop for UI development

https://storybook.js.org/

GitHub Japan | GitHub

https://github.co.jp/

Vercel

https://vercel.com/

(æœª) tRPC - Move Fast and Break Nothing. End-to-end typesafe APIs made easy. | tRPC

https://trpc.io/

tRPC ã¯ App router æœªå¯¾å¿œã§ã™ã€‚

[tRPC App router å¯¾å¿œçŠ¶æ³](https://github.com/trpc/trpc/issues/3297)

## ãƒ†ã‚¹ãƒˆé–¢é€£

(æœª) Vitest | A blazing fast unit test framework powered by Vite

https://vitest.dev/

ã‚µãƒ³ãƒ—ãƒ«
next.js/examples/with-vitest at canary Â· vercel/next.js Â· GitHub

https://github.com/vercel/next.js/tree/canary/examples/with-vitest

(æœª) Chromatic: Storybook deployment, review, and test

https://www.chromatic.com/

(æœª) Testing Library | Testing Library

https://testing-library.com/

(æœª) JavaScript Component Testing and E2E Testing Framework | Cypress

https://www.cypress.io/

(æœª) Fast and reliable end-to-end testing for modern web apps | Playwright

https://playwright.dev/

(æœª) Jest Â· ğŸƒ Delightful JavaScript Testing

https://jestjs.io/ja/

## i18n å›½éš›åŒ–

(æœª) react-i18next

Introduction - react-i18next documentation

https://react.i18next.com/

ã‚µãƒ³ãƒ—ãƒ«
next.js/examples/app-dir-i18n-routing at canary Â· vercel/next.js Â· GitHub

https://github.com/vercel/next.js/tree/canary/examples/app-dir-i18n-routing

# ä»–ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å€™è£œ

## UI ï¼† CSS

### Next.js ã® app router ã«å¯¾å¿œã—ã¦ã„ã‚‹ UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆé›†

shadcn/ui

https://ui.shadcn.com/

Next.js - shadcn/ui

https://ui.shadcn.com/docs/installation/next

React ã® UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãªã‚‰@shadcn/ui ãŒã¡ã‚‡ã†ã©ã„ã„

https://zenn.dev/mottox2/articles/react-shadcn-ui

(æœª) Kuma UI

https://www.kuma-ui.com/

(æœª) Mantine next example

https://v7.mantine.dev/

Can I use Mantine with Next.js app dir?
Currently, it is not recommended, we are working on new major version that will resolve all of the current issues related to server side rendering.

> Mantine ã‚’ Next.js app dir ã§ä½¿ç”¨ã§ãã¾ã™ã‹ï¼Ÿ
> ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã«é–¢ã™ã‚‹ç¾åœ¨ã®å•é¡Œã‚’ã™ã¹ã¦è§£æ±ºã™ã‚‹æ–°ã—ã„ãƒ¡ã‚¸ãƒ£ãƒ¼ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’é–‹ç™ºä¸­ã§ã™ã€‚

ã“ã® version7 ãŒé–‹ç™ºä¸­ã§ã™ã€‚

### Next.js ã® app router ã«å¯¾å¿œã—ã¦ã„ã‚‹ CSS

(æœª) vanilla-extract â€” Zero-runtime Stylesheets-in-TypeScript.

https://vanilla-extract.style/

CSSãƒ»TypeScript ã®ç›¸æ€§ãŒæŠœç¾¤ã€‚vanilla-extract ãŒæœ€é«˜ã® CSS é–‹ç™ºä½“é¨“ã‚’ãã‚ŒãŸ

https://zenn.dev/moneyforward/articles/vanilla-extract

## ãƒ‡ã‚¶ã‚¤ãƒ³

Figma

https://www.figma.com/

## é–‹ç™ºæ™‚ã®åˆ©ç”¨ãƒ„ãƒ¼ãƒ«

DB é–¢é€£
SQL ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ

DBeaver Community

https://dbeaver.io/download/

TablePlus | Modern, Native Tool for Database Management

https://tableplus.com/download

A5:SQL Mk-2 - ãƒ•ãƒªãƒ¼ã® SQL ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ/ER å›³ä½œæˆã‚½ãƒ•ãƒˆ (æ¾åŸæ­£å’Œ)

https://a5m2.mmatsubara.com/

# ãã®ä»–

(æœª) Zod | Documentation

https://zod.dev/

(æœª) Prisma | Next-generation ORM for Node.js & TypeScript

https://www.prisma.io/

</details>

# ãƒ«ãƒ¼ãƒ«

æ›¸ã„ãŸã‚³ãƒ¼ãƒ‰ã¯ src ãƒ•ã‚©ãƒ«ãƒ€ä»¥ä¸‹ã«ç§»å‹•ã™ã‚‹
src/

å…±é€šã® style ã‚³ãƒ¼ãƒ‰
src/styles

ãƒ–ãƒ©ãƒ³ãƒã¯åŸºæœ¬ 2 ç¨®é¡
main ãƒ–ãƒ©ãƒ³ãƒ å…¬é–‹ç”¨ã®ã‚³ãƒ¼ãƒ‰
å¿…è¦ã«å¿œã˜ã¦é–‹ç™ºç”¨ã®ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ(ã“ã“ã§é–‹ç™ºã‚’ã™ã‚‹)
ã“ã®ï¼’ã¤ã‚’è»¸ã«é–‹ç™ºã—ã¦ã„ã
ä¸€åŒºåˆ‡ã‚Šã¤ã„ãŸã‚‰é–‹ç™ºç”¨ã®ãƒ–ãƒ©ãƒ³ãƒã‚’ main ã«ãƒãƒ¼ã‚¸ã—ã¦ã„ã

## é–‹ç™ºæ‰‹æ³•

ã‚³ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³

ã‚³ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¨ã¯ã€
é–¢é€£ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’è¿‘ãã«é…ç½®ã™ã‚‹ã“ã¨ã§ã€
ã‚³ãƒ¼ãƒ‰ã®ç†è§£æ€§ã‚’å‘ä¸Šã•ã›ã‚‹è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ã®ä¸€ã¤ã§ã™ã€‚
ã‚³ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã‚‚ã„ã„ã¾ã™ã€‚

ã‚³ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ¡ç”¨ã™ã‚‹ã“ã¨ã§
ãƒªãƒã‚¤ãƒ³ãƒ‰åŠ¹æœãŒã‚ã‚‹
åŠå¹´å‰ã®è‡ªåˆ†ã¯åˆ¥äººç†è«–
ã‚³ãƒ¼ãƒ‰ã‚’èª­ã¿ã‚„ã™ãã™ã‚‹

ä¸€ã¤ã®ãƒ•ã‚©ãƒ«ãƒ€ã®ä¸­ã«ä¸€ã¤ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå˜ä½ã‚’ç½®ã
ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯è¤‡æ•°ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§æˆã‚Šç«‹ã£ã¦ãŠã„
ä¸€ã¤ã¯ãƒ‡ãƒ¼ã‚¿ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
ä¸€ã¤ã¯è¡¨ç¤ºã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
ã‚’ã¤ã‹ã†
ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã¨
Story ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚ä¸€ç·’ã«
ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã® root ã«ç½®ã

ã‚³ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ | makotot.dev ãƒ•ã‚¡ã‚¤ãƒ«ã®é…ç½®

https://www.makotot.dev/posts/colocation-translation-ja

ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆ
ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã¨ãƒ†ã‚¹ãƒˆã‚’ä¸€å…ƒç®¡ç†ã§ãã‚‹
ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«ã«ãƒ†ã‚¹ãƒˆã‚’è¨˜è¿°ã™ã‚‹äº‹ã«ãªã‚‹ãŸã‚ã€
ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã¨ãƒ†ã‚¹ãƒˆã‚’ä¸€å…ƒç®¡ç†ã§ãã¾ã™ã€‚

ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹æ–¹æ³•ã¯ä¸»ã« 2 ã¤ã§ã€
é€šå¸¸ã¯ãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã§ Storybook ã‚’
è¡¨ç¤ºã—ã¦å®Ÿè¡Œã—ã¾ã™ã€‚

ãƒ†ã‚¹ãƒˆãƒ©ãƒ³ãƒŠãƒ¼ã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã™ã‚‹ã“ã¨ã§ã€
CLI ã§ã®å®Ÿè¡ŒãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚

# ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

```tree
src
â”œâ”€â”€ app
â”‚   â”œâ”€â”€ layout.tsx
â”‚   â””â”€â”€ page.tsx
â”œâ”€â”€ components
â”‚   â”œâ”€â”€ ui
â”‚   â”‚   â”œâ”€â”€ alert-dialog.tsx
â”‚   â”‚   â”œâ”€â”€ button.tsx
â”‚   â”‚   â”œâ”€â”€ dropdown-menu.tsx
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ main-nav.tsx
â”‚   â”œâ”€â”€ page-header.tsx
â”‚   â””â”€â”€ ...
â”œâ”€â”€ lib
â”‚   â””â”€â”€ utils.ts
â”œâ”€â”€ styles
â”‚   â””â”€â”€ globals.css
â”œâ”€â”€ next.config.js
â”œâ”€â”€ package.json
â”œâ”€â”€ postcss.config.js
â”œâ”€â”€ tailwind.config.js
â””â”€â”€ tsconfig.json

```

å‚è€ƒ
Next.js - shadcn/ui

https://ui.shadcn.com/docs/installation/next

---

# ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ä½œæˆ

ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ä½œæˆé–‹å§‹

## Next.js ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

npx create-next-app@latest

âˆš What is your project named? ... .
âˆš Would you like to use TypeScript? ... No / Yes
âˆš Would you like to use ESLint? ... No / Yes
âˆš Would you like to use Tailwind CSS? ... No / Yes
âˆš Would you like to use `src/` directory? ... No / Yes
âˆš Would you like to use App Router? (recommended) ... No / Yes
âˆš Would you like to customize the default import alias? ... No / Yes
âˆš What import alias would you like configured? ... @/\*

â€»è¨˜äº‹ã‚’æ›¸ã„ãŸæ™‚ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ next 13.4.12

.eslintrc.json(åˆæœŸ)

```.eslintrc.json
{
  "extends": "next/core-web-vitals"
}

```

## TailwindCSS

https://nextjs.org/docs/app/building-your-application/styling/tailwind-css

src\app\globals.css
ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®é…ç½®ã‚’
src\styles\globals.css
ã¸ç§»å‹•ã—ã¾ã™ã€‚

ã‚³ãƒãƒ³ãƒ‰

New-Item -ItemType Directory -Path "src\styles"

Move-Item -Path "src\app\globals.css" -Destination "src\styles\globals.css"

globals.css ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ç”»é¢ã§å¿…è¦ã ã£ãŸ CSS éƒ¨åˆ†ã‚’å‰Šé™¤ã—ã€TailwindCSS ã§å¿…è¦ãªéƒ¨åˆ†ã ã‘ã‚’æ®‹ã—ã¾ã™ã€‚

```src\styles\globals.css
@tailwind base;
@tailwind components;
@tailwind utilities;

```

globals.css ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚“ã§ã„ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã® path ã‚’ä¿®æ­£ã—ã¾ã™ã€‚

```src\app\layout.tsx
import '@/styles/globals.css'

...

<html lang='ja'>

```

jaã¨æ—¥æœ¬èªã«ã‚‚è¨­å®šã—ã¦ãŠãã¾ã™ã€‚

# ESLint ã¨ Prettier ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

## ESLint

Next.js ã¨ Storybook ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸç›´å¾Œã® eslint ã®è¨­å®š

```.eslintrc.json
{
  "extends": [
    "next/core-web-vitals",
    "plugin:storybook/recommended"
  ]
}

```

next.js/packages/eslint-config-next/index.js at canary Â· vercel/next.js Â· GitHub

https://github.com/vercel/next.js/blob/canary/packages/eslint-config-next/index.js

ä¸Šè¨˜ã‚³ãƒ¼ãƒ‰ã‚’èª¿ã¹ã‚‹ã¨ next/core-web-vitals ã¯
next/recommended
react/recommended
react-hooks/recommended
ã‚’èª­ã¿è¾¼ã‚“ã§ã„ã‚‹ã®ã§ã€â†‘ ã“ã‚Œã‚‰ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¯ä¸è¦ã§ã™ã€‚

## VSCode ã®è¨­å®š

VSCode ã®æ‹¡å¼µæ©Ÿèƒ½ã‚’å…¥ã‚Œã¾ã™ã€‚

ESLint - Visual Studio Marketplace

https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint

Prettier - Code formatter - Visual Studio Marketplace

https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode

Headwind - Visual Studio Marketplace

https://marketplace.visualstudio.com/items?itemName=heybourn.headwind

â€»æ‹¡å¼µæ©Ÿèƒ½ Headwind ã¯TailwindCSSã® className ã‚’å…¨ã¦åŒã˜ã‚ˆã†ã«ä¸¦ã¹æ›¿ãˆã¾ã™ã€‚

ã€è‡ªå‹•æ•´å½¢ã€‘VSCode ã§ Prettier ã‚’ä½¿ã†æ–¹æ³•ã€è¨­å®šå¿…è¦ã§ã™ã€‘ | RalaCode

https://ralacode.com/blog/post/vscode-prettier/

```setting.json (è¿½è¨˜)
  // ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’prettierã§å®Ÿè¡Œ
  "editor.defaultFormatter": "esbenp.prettier-vscode",
  // è²¼ã‚Šä»˜ã‘æ™‚ã«ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
  "editor.formatOnPaste": false,
  // å…¥åŠ›ç›´å¾Œã«ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
  "editor.formatOnType": false,
  // ä¿å­˜ç›´å¾Œã«ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
  "editor.formatOnSave": true,

  "editor.codeActionsOnSave": {
    // importæ–‡ã‚’è‡ªå‹•ã§æ¢ã—ã¦æŒ¿å…¥ã™ã‚‹ã€‚
    "source.addMissingImports": true,
    // ä¿å­˜æ™‚ã«eslintã‚’å®Ÿè¡Œ
    "source.fixAll.eslint": true
  },

```
â€»è¨­å®šã‚’ã™ã‚‹äº‹ã§è¨€èªåˆ¥ã«(TypeScript, markdown, htmlç­‰)ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®è¨­å®šãŒã§ãã¾ã™ã€‚

VSCodeã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ

Default Formatterã‚’Prettierã«ã™ã‚‹è¨­å®šã€‚

```setting.json
"editor.defaultFormatter": "esbenp.prettier-vscode"

```

ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒã®åŠ¹æœã‚’ã¿ã‚‹ãŸã‚ã« src\app\page.tsx ã‚’å…¨ä½“çš„ã«æ›¸ãæ›ãˆã¾ã™ã€‚

```src\app\page.tsx
import { type NextPage } from "next"

const Home: NextPage = () => {
  return (
    <main>
      <h1 className="pt-2 p-4">VNS.BLUE</h1>
      Next.js app router é–‹ç™ºç”¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ (Storybook Supabase shadcn/ui)
    </main>
  )
}

export default Home

```

â†‘ ã“ã®ã‚³ãƒ¼ãƒ‰ã‚’ä¿å­˜ã™ã‚‹ã¨ã€ãã®ç¬é–“ã«è‡ªå‹•ã§ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆâ†“ãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚

<h1 className="pt-2 p-4">VNS.BLUE</h1>

â†‘ ã“ã®éƒ¨åˆ†ãŒè‡ªå‹•ã§ä¸¦ã¹æ›¿ãˆãŒè¡Œã‚ã‚Œã¾ã™ã€‚â†“

<h1 className="p-4 pt-2">VNS.BLUE</h1>

å‹•ä½œç¢ºèª
npm run dev














### .eslintignore ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ

.eslintignore ã‚’ä½œæˆã—ã¾ã™ã€‚

touch .eslintignore

â†“lint å¯¾è±¡ã‹ã‚‰å¤–ã—ãŸã„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¨­å®šã—ã¾ã™ã€‚

```.eslintignore
# config
.eslintrc.json
.prettierrc
next.config.js
tailwind.config.js
tsconfig.json
postcss.config.js

# build dir
build/
bin/
obj/
out/
.next/

package-lock.json

# Storybook
*.stories.ts
*.stories.tsx

```

# prettier

å…¬å¼ã‚µã‚¤ãƒˆ Install Prettier

https://prettier.io/docs/en/install.html

prettier ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

npm install -D prettier

eslint ã¨è¨­å®šãŒè¡çªã™ã‚‹ã®ã‚’é¿ã‘ã‚‹ãŸã‚ã®è¨­å®š

npm install -D eslint-config-prettier

ç©ºã®.prettierrc ã‚’ä½œæˆã—ã¦ã€Prettier ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ã“ã¨ã‚’ã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼ã‚„ãã®ä»–ã®ãƒ„ãƒ¼ãƒ«ã«çŸ¥ã‚‰ã›ã¾ã™ã€‚

touch .prettierrc

```.prettierrc

```

Prettier ã‚’ VSCode ã§ä½¿ã†ã«ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ãƒ¼ã‚’ Prettier ã«è¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

.eslintrc.json ã« prettier è¨­å®šã®è¿½åŠ ã‚’ã—ã¾ã™ã€‚

```.eslintrc.json
{
  "extends": [
    "next/core-web-vitals",
    "prettier"
  ]
}

```

package.json ã« format ã‚³ãƒãƒ³ãƒ‰ã‚’è¿½åŠ ã—ã¾ã™ã€‚

```package.json (è¿½è¨˜)
"scripts": {
  "format": "prettier --write ."
  ...

```

## .prettierrc è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®è¿½åŠ 

.prettierrc ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¨­å®šã—ã¾ã™ã€‚

```.prettierrc
{
  "tabWidth": 4,
  "useTabs": false
}

```

â€»ãƒ«ãƒ¼ãƒ«ã¯å„è‡ªã§å¥½ããªã‚ˆã†ã«è¨­å®šã—ã¦ãã ã•ã„ã€‚

â†“ ã“ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯æ¨å¥¨ã•ã‚Œãªããªã‚Šã¾ã—ãŸã€‚
eslint-plugin-prettier

æ¬¡ã«ã€.prettierignore ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¦ã€ã©ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã—ãªã„ã‹ã‚’ Prettier CLI ã¨ã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼ã«çŸ¥ã‚‰ã›ã¾ã™ã€‚

touch .prettierignore

```.prettierignore
# Ignore artifacts:
build
coverage

# dotfile
.env*

# markdown
*.md

# next.js
/.next/
/out/

# production
/build

package-lock.json

*.stories.ts
*.stories.tsx

```

## Prettier ã‚³ãƒãƒ³ãƒ‰ä¸€è¦§

â€»é€šå¸¸ã¯ VSCode å´ã‚’è¨­å®šã™ã‚Œã°ã€ä¿å­˜æ™‚ã«è‡ªå‹•ã§å®Ÿè¡Œã•ã‚Œã‚‹ã®ã§ã€ã‚³ãƒãƒ³ãƒ‰ã‚’æ‰“ã¤ã“ã¨ã¯ã»ã¨ã‚“ã©ã‚ã‚Šã¾ã›ã‚“ã€‚

å‹•ä½œç¢ºèªã®ãŸã‚ prettier ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚

å…¨ä½“ã‚’ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã—ã¾ã™ã€‚
npx prettier . --write

src ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä»¥ä¸‹ã‚’ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã—ã¾ã™ã€‚
npx prettier src/ --write

å·¨å¤§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å ´åˆã«æ™‚é–“çŸ­ç¸®ã®ãŸã‚ãƒ•ã‚©ãƒ«ãƒ€ã‚’æŒ‡å®šã—ãŸã„å ´åˆ
npx prettier [ãƒ•ã‚©ãƒ«ãƒ€å] --write

ç›´æ¥ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹å ´åˆ
npx prettier src\app\page.tsx --write

prettier ãŒå®Ÿè¡Œæ¸ˆã¿ã‹ã®ç¢ºèªï¼ˆä¸Šæ›¸ãã¯ã—ãªã„ï¼‰
npx prettier . --check



# eslint-plugin-import

Next.js é–‹ç™º ESLint ã§ import æ–‡ã®è‡ªå‹•æŒ¿å…¥ã€è‡ªå‹•å‰Šé™¤ã€è‡ªå‹•ã‚½ãƒ¼ãƒˆ - Qiita

https://qiita.com/masakinihirota/items/fae505a58892b00550a7

npm install -D eslint-plugin-unused-imports --legacy-peer-deps


```.eslintrc.json
{
  "extends": ["next/core-web-vitals", "prettier"],
  "plugins": ["unused-imports"],
  "rules": {
    "unused-imports/no-unused-imports": "error"
  }
}

```

â€» ã“ã®è¨­å®šã¯å¿…è¦ãªæœ€å°é™ã®è¨­å®šã«ã—ã¦ã‚ã‚‹ã®ã§ã€è‡ªå‹•æŒ¿å…¥ã€è‡ªå‹•å‰Šé™¤ã®ç¢ºèªç”¨ã¨ã—ã¦æœ‰åŠ¹ã§ã™ã€‚

## ç¢ºèªç”¨ã®ãƒšãƒ¼ã‚¸

import æ–‡ã®è‡ªå‹•å‰Šé™¤ã‚„è‡ªå‹•æŒ¿å…¥ãŒè©¦ã›ã¾ã™ã€‚

```src\app\page.tsx
import { type NextPage } from "next"
import Link from "next/link"

const Home: NextPage = () => {
  return (
    <main>
      <h1 className="pt-2 p-4">VNS.BLUE</h1>
      Next.js app router é–‹ç™ºç”¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ (Storybook Supabase shadcn/ui)
      <br />
      {/* â†“ã“ã®è¡Œã‚’æ¶ˆã—ãŸã‚Šå¾©å…ƒã—ãŸã‚Šã™ã‚‹ã¨importæ–‡ãŒè‡ªå‹•å‰Šé™¤ã€è‡ªå‹•æŒ¿å…¥ã•ã‚Œã‚‹ã®ãŒç¢ºèªã§ãã¾ã™ã€‚ */}
      <Link href='/'>Home</Link>
    </main>
  )
}

export default Home

```

importã®é †ç•ªã‚’è‡ªå‹•ã§ã‚½ãƒ¼ãƒˆã™ã‚‹è¨­å®šã‚’è¿½åŠ ã—ã¾ã™ã€‚

```.eslintrc.json (æœ€çµ‚å½¢)
{
  "extends": ["next/core-web-vitals", "prettier"],
  "plugins": ["unused-imports"],
  "rules": {
    // TypeScriptã§æœªä½¿ç”¨ã®å¤‰æ•°ã‚’è¨±å¯ã™ã‚‹ã‹ã©ã†ã‹ã‚’æŒ‡å®šã—ã¾ã™ã€‚ã“ã®ä¾‹ã§ã¯ã€offã«è¨­å®šã•ã‚Œã¦ã„ã‚‹ãŸã‚ã€æœªä½¿ç”¨ã®å¤‰æ•°ã‚’è¨±å¯ã—ã¾ã™ã€‚
    "@typescript-eslint/no-unused-vars": "off",
    // æœªä½¿ç”¨ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆã«é–¢ã™ã‚‹ãƒ«ãƒ¼ãƒ«ã‚’æŒ‡å®šã—ã¾ã™ã€‚ã“ã®ä¾‹ã§ã¯ã€warnã«è¨­å®šã•ã‚Œã¦ã„ã‚‹ãŸã‚ã€æœªä½¿ç”¨ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆãŒã‚ã‚‹å ´åˆã«è­¦å‘Šã‚’å‡ºã—ã¾ã™ã€‚
    "unused-imports/no-unused-imports": "warn",
    // ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆé †åºã«é–¢ã™ã‚‹ãƒ«ãƒ¼ãƒ«ã‚’æŒ‡å®šã—ã¾ã™ã€‚ã“ã®ä¾‹ã§ã¯ã€é…åˆ—ã®ä¸­ã«è¤‡æ•°ã®ã‚°ãƒ«ãƒ¼ãƒ—ãŒå®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã€‚å„ã‚°ãƒ«ãƒ¼ãƒ—ã¯ã€groupsãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã§å®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã€‚
    "import/order": [
      "warn",
      {
        "groups": [
          // builtin: Node.js ã«çµ„ã¿è¾¼ã¾ã‚Œã¦ã„ã‚‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
          // external: npm install ç­‰ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå¤–éƒ¨ã‹ã‚‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚ŒãŸãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
          // internal: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã€ãƒ‘ã‚¹ã‚’æŒ‡å®šã—ã¦ã‚¤ãƒ³ãƒãƒ¼ãƒˆã•ã‚ŒãŸã‚‚ã®
          // parent: è¦ªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« ç›¸å¯¾ãƒ‘ã‚¹ã‚’ä½¿ç”¨ã—ã¦ã‚¤ãƒ³ãƒãƒ¼ãƒˆã•ã‚ŒãŸã‚‚ã®
          // sibling: å…„å¼Ÿãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« ç›¸å¯¾ãƒ‘ã‚¹ã‚’ä½¿ç”¨ã—ã¦ã‚¤ãƒ³ãƒãƒ¼ãƒˆã•ã‚ŒãŸã‚‚ã®
          // index: ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã§ã€ç›¸å¯¾ãƒ‘ã‚¹ã‚’ä½¿ç”¨ã—ã¦ã‚¤ãƒ³ãƒãƒ¼ãƒˆã•ã‚ŒãŸã‚‚ã®
          // object: ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã§ã€ç›¸å¯¾ãƒ‘ã‚¹ã‚’ä½¿ç”¨ã—ã¦ã‚¤ãƒ³ãƒãƒ¼ãƒˆã•ã‚ŒãŸã‚‚ã®
          // type: å‹ãƒ•ã‚¡ã‚¤ãƒ«ã§ã€ç›¸å¯¾ãƒ‘ã‚¹ã‚’ä½¿ç”¨ã—ã¦ã‚¤ãƒ³ãƒãƒ¼ãƒˆã•ã‚ŒãŸã‚‚ã®
          "builtin",
          "external",
          "internal",
          ["parent", "sibling"],
          "index",
          "object",
          "type"
        ],
        // ãã‚Œãã‚Œã®groupsã¨ã®é–“ã¯1è¡Œåˆ†ç©ºã‘ã¾ã™ã€‚
        "newlines-between": "always",
        // ç‰¹å®šã®ã‚°ãƒ«ãƒ¼ãƒ—ã® import æ–‡ã‚’é™¤å¤–ã™ã‚‹ã‹ã©ã†ã‹ã‚’æŒ‡å®šã—ã¾ã™ã€‚
        "pathGroupsExcludedImportTypes": ["builtin", "external"],
        // order ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯ã€ã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆé †ã«ã—ã¾ã™ã€‚
        // caseInsensitive ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯ã€å¤§æ–‡å­—å°æ–‡å­—ã‚’ç„¡è¦–ã—ã¦ã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆé †ã«ä¸¦ã¹ã‚‹ã‹ã©ã†ã‹ã‚’æŒ‡å®šã—ã¾ã™ã€‚
        "alphabetize": { "order": "asc", "caseInsensitive": true },
        "pathGroups": [
          // pattern: ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ‘ã‚¹ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æŒ‡å®šã—ã¾ã™ã€‚ã“ã®ä¾‹ã§ã¯ã€src/ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä»¥ä¸‹ã®ã™ã¹ã¦ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚
          // group: ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ‘ã‚¹ãŒä¸€è‡´ã—ãŸå ´åˆã«ã€ã©ã®ã‚°ãƒ«ãƒ¼ãƒ—ã«å±ã™ã‚‹ã‹ã‚’æŒ‡å®šã—ã¾ã™ã€‚ã“ã®ä¾‹ã§ã¯ã€internalã‚°ãƒ«ãƒ¼ãƒ—ã«å±ã™ã‚‹ã‚ˆã†ã«æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚
          // position: ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ‘ã‚¹ãŒä¸€è‡´ã—ãŸå ´åˆã«ã€ã©ã®ä½ç½®ã«æŒ¿å…¥ã™ã‚‹ã‹ã‚’æŒ‡å®šã—ã¾ã™ã€‚ã“ã®ä¾‹ã§ã¯ã€beforeã«æŒ‡å®šã—ã¦ã„ã‚‹ãŸã‚ã€ä»–ã®ã‚°ãƒ«ãƒ¼ãƒ—ã‚ˆã‚Šã‚‚å‰ã«æŒ¿å…¥ã•ã‚Œã¾ã™ã€‚
          {
            "pattern": "src/**",
            "group": "internal",
            "position": "before"
          }
        ]
      }
    ]
  }
}

```

import æ–‡ã®è‡ªå‹•å‰Šé™¤ã‚„è‡ªå‹•æŒ¿å…¥ã¯ä¿å­˜ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚ï¼ˆVSCode å´ã§ Prettier ãŒè‡ªå‹•å®Ÿè¡Œã®è¨­å®šãŒã•ã‚Œã¦ã„ã‚‹å ´åˆï¼‰

(1 åº¦ã§å‹•ã‹ãªã„æ™‚ã¯ 2,3 å›ä¿å­˜ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ã¿ã¦ãã ã•ã„ã€‚)

JavaScript ã¨ TypeScript ã®ãã‚Œãã‚Œã® lint è¨­å®š

å„å€‹äººãã‚Œãã‚ŒãŒå¿…è¦ã«ãªã£ãŸã‚‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãã ã•ã„ã€‚

Getting Started | typescript-eslint

https://typescript-eslint.io/getting-started/

Linting with Type Information | typescript-eslint

https://typescript-eslint.io/linting/typed-linting/

Configurations | typescript-eslint

https://typescript-eslint.io/linting/configs/










## Storybook ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

â€»ç¾åœ¨ã®å•é¡Œç‚¹ã€Storybookã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã¨ã€ESLintã®è¨­å®šãŒåŠ¹ã‹ãªããªã‚‹ã€‚
Storybookã®ESLintè¨­å®šã‚’è«¦ã‚ã‚‹ã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç›´æ¥æŒ‡å®šã—ã¦ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’ã™ã‚‹ã€Storybookã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ™‚ã«ESLintã‚’é™¤å¤–ã™ã‚‹ç­‰ãŒè€ƒãˆã‚‰ã‚Œã‚‹ã€‚



npx storybook@latest init

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒå®Œäº†ã™ã‚‹ã¨ Storybook ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ãŒå§‹ã¾ã‚‹ã®ã§ä½“é¨“ã—ã¦ã¿ã¦ãã ã•ã„ã€‚

TailwindCSS ã‚’ Storybook ã§ã‚‚é©ç”¨ã•ã‚Œã‚‹ã‚ˆã†ã«è¨­å®šã—ã¾ã™ã€‚

```.storybook/preview.ts (è¿½è¨˜)
import "../src/styles/globals.css"

```


# Storybook ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ç›´å¾Œ

'aria-query' ã®å‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚
ã¨ã„ã†ã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸã®ã§å¯¾å‡¦ã—ã¾ã™ã€‚

npm install aria-query

tsconfig.jsonãƒ•ã‚¡ã‚¤ãƒ«ã«ã€
"types": ["aria-query"] ã‚’è¿½è¨˜ã—ã¾ã™ã€‚

```tsconfig.json
    "plugins": [
      {
        "name": "next"
      }
    ],
    "paths": {
      "@/*": ["./src/*"]
    },
    "types": ["aria-query"]
  },

```







































---

# shadcn/ui

Next.js - shadcn/ui

https://ui.shadcn.com/docs/installation/next

React ã® UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãªã‚‰@shadcn/ui ãŒã¡ã‚‡ã†ã©ã„ã„

https://zenn.dev/mottox2/articles/react-shadcn-ui

ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ CLI ã‹ã‚‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹æ–¹æ³•ã¨
ã‚µã‚¤ãƒˆã‹ã‚‰ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼ã™ã‚‹ã‚„ã‚Šæ–¹ãŒã‚ã‚Šã¾ã™ã€‚

shadcn/ui å…¬å¼ã®æ¨å¥¨ Next.js ã‚¢ãƒ—ãƒªã®æ§‹æˆ

```tree
src
â”œâ”€â”€ app
â”‚   â”œâ”€â”€ layout.tsx
â”‚   â””â”€â”€ page.tsx
â”œâ”€â”€ components
â”‚   â”œâ”€â”€ ui
â”‚   â”‚   â”œâ”€â”€ alert-dialog.tsx
â”‚   â”‚   â”œâ”€â”€ button.tsx
â”‚   â”‚   â”œâ”€â”€ dropdown-menu.tsx
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ main-nav.tsx
â”‚   â”œâ”€â”€ page-header.tsx
â”‚   â””â”€â”€ ...
â”œâ”€â”€ lib
â”‚   â””â”€â”€ utils.ts
â”œâ”€â”€ styles
â”‚   â””â”€â”€ globals.css
â”œâ”€â”€ next.config.js
â”œâ”€â”€ package.json
â”œâ”€â”€ postcss.config.js
â”œâ”€â”€ tailwind.config.js
â””â”€â”€ tsconfig.json

```

ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— åˆæœŸåŒ–

UI ã®ä¿å­˜ãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œã£ã¦ãŠãã¾ã™
src/components/ui

npm shadcn-ui@latest init

```
> npm shadcn-ui@latest init
âˆš Would you like to use TypeScript (recommended)? ... no / yes
âˆš Which style would you like to use? Â» New York
âˆš Which color would you like to use as base color? Â» Slate
âˆš Where is your global CSS file? ... src/styles/globals.css
âˆš Would you like to use CSS variables for colors? ... no / yes
âˆš Where is your tailwind.config.js located? ... tailwind.config.js
âˆš Configure the import alias for components: ... @/components
âˆš Configure the import alias for utils: ... @/lib/utils
âˆš Are you using React Server Components? ... no / yes
âˆš Write configuration to components.json. Proceed? ... yes

âœ” Writing components.json...
âœ” Initializing project...
âœ” Installing dependencies...

Success! Project initialization completed.

```

ãƒ˜ãƒ«ãƒ—ã‚³ãƒãƒ³ãƒ‰
npm @shadcn/ui

CLI ã‹ã‚‰ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ–¹æ³•
npm @shadcn/ui add

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’é¸æŠã—ã¾ã™ã€‚
A ã§ã™ã¹ã¦ã‚’é¸æŠã—ã¾ã™ã€‚
â€»ã™ã¹ã¦é¸æŠã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã¨ã‚¨ãƒ©ãƒ¼ã«ãªã£ãŸ

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å…ˆã‚’æŒ‡å®šã—ã¾ã™ã€‚
src/components/ui

â€»æ³¨æ„ï¼šã™ã§ã«åŒã˜ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåãŒå­˜åœ¨ã™ã‚‹ã¨ä¸Šæ›¸ãã•ã‚Œã¾ã™ã€‚

## ãŠè©¦ã—

button ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã¿ã¾ã™ã€‚

npm @shadcn/ui add

button ã‚’é¸æŠã—ã¾ã™ã€‚

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å…ˆã‚’æŒ‡å®šã—ã¾ã™ã€‚

å‹•ä½œç¢ºèªç”¨

```src\app\page.tsx
import { Button } from '@/components/ui/button'

export default function Home() {
  return (
    <main>
      <Button>Button</Button>
    </main>
  )
}

```

---

# Storybook ã®å‹•ä½œç¢ºèª

npm run storybook

Storybook
http://localhost:6006/

ã‚³ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã§é–‹ç™ºã™ã‚‹ã®ã§ã€
ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã¨
ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«(SF3)ã¨
ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’åŒä¸€ãƒ•ã‚©ãƒ«ãƒ€å†…ã«å…¥ã‚Œã¾ã™ã€‚

ç¾åœ¨ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒ stories ãƒ•ã‚©ãƒ«ãƒ€ã«å…¥ã£ã¦ã„ã¾ã™ã€‚

## Storybook ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆã®çµ„ã¿è¾¼ã¿

Play function

https://storybook.js.org/docs/react/writing-stories/play-function

npm install @storybook/testing-library @storybook/jest @storybook/addon-interactions --save-dev

Storybook ã®ã€Œã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆã€ã§ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ãƒ†ã‚¹ãƒˆã‚’ã‚·ãƒ³ãƒ—ãƒ«ã«ç®¡ç†ã™ã‚‹ï¼ï½œ SHIFT Group æŠ€è¡“ãƒ–ãƒ­ã‚°

https://note.com/shift_tech/n/n5646b52b3092

ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆã«å¯¾å¿œã—ãŸ
ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨
ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã‚’ä½œæˆã—ã¾ã™ã€‚

```Button.tsx
import React, { useState } from "react";
import { useRouter } from "next/router";
import "./button.css";

interface ButtonProps {
  testId: string;
  label: string;
  text?: string;
  href?: string;
  primary?: boolean;
  "data-testid"?: string;
}

export const Button = ({
  testId,
  label,
  text,
  href,
  primary = false,
  ...props
}: ButtonProps) => {
  const [textToggle, setTextToggle] = useState(false);
  const router = useRouter();
  const mode = primary ? "primary" : "";

  const onClick = () => {
    if (href) {
      router.push(href);
    } else {
      setTextToggle(!textToggle);
    }
  };

  return (
    <div>
      <button
        data-test-id={testId}
        type="button"
        className={["button", mode].join(" ")}
        onClick={onClick}
        {...props}
      >
        {ã€€labelã€€}
      </button>
      {textToggle && <div>{text}</div>}
    </div>
  );
};

```

```button.css
.button {
  font-family: "Nunito Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
  font-size: 20px;
  font-weight: 700;
  border: 0;
  border-radius: 3em;
  cursor: pointer;
  display: inline-block;
  line-height: 1;
  padding: 10px 20px;
  color: #333;
  background-color: transparent;
  box-shadow: rgba(0, 0, 0, 0.15) 0px 0px 0px 1px inset;
}
.primary {
  color: white;
  background-color: #1ea7fd;
}

```

```Button.stories.ts
import type { Meta, StoryObj } from "@storybook/react";
import { within, userEvent } from "@storybook/testing-library";
import { jest, expect } from "@storybook/jest";

import { Button } from "./Button";

const fn = jest.fn();

const meta: Meta<typeof Button> = {
  title: "Atoms/Button",
  component: Button,
  tags: ["autodocs"],
  parameters: {
    nextjs: {
      router: {
        push: fn,
      },
    },
  },
};

export default meta;
type Story = StoryObj<typeof Button>;

export const Default: Story = {
  args: {
    label: "Default",
    "data-testid": "button",
  },
  play: async ({ canvasElement, step }) => {
    const canvas = within(canvasElement);

    await step("ãƒœã‚¿ãƒ³ã«Labelã®æ–‡å­—åˆ—ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹", async () => {
      await expect(canvas.getByText("Default")).toBeInTheDocument();
    });
  },
};

export const Primary: Story = {
  args: {
    primary: true,
    label: "Primary",
    "data-testid": "button",
  },
  play: async ({ canvasElement, step }) => {
    const canvas = within(canvasElement);

    await step("ãƒœã‚¿ãƒ³ã®classNameå±æ€§ã«primaryãŒé©ç”¨ã•ã‚Œã¦ã„ã‚‹", async () => {
      const button = canvas.getByTestId("button");
      await expect(button.classList.contains("primary")).toBe(true);
    });
  },
};

export const Toggle: Story = {
  args: {
    label: "Toggle",
    text: "Success",
    "data-testid": "button",
  },
  play: async ({ canvasElement, step }) => {
    const canvas = within(canvasElement);

    await step("ãƒœã‚¿ãƒ³æŠ¼ä¸‹ã§textã‚’è¡¨ç¤ºã™ã‚‹", async () => {
      await userEvent.click(canvas.getByTestId("button"));
      await expect(canvas.getByText("Success")).toBeInTheDocument();
    });

    await step("å†åº¦ãƒœã‚¿ãƒ³æŠ¼ä¸‹ã§textã‚’éè¡¨ç¤ºã«ã™ã‚‹", async () => {
      await userEvent.click(canvas.getByTestId("button"));
      await expect(canvas.queryByText("Success")).toBeNull();
    });
  },
};

export const Link: Story = {
  args: {
    label: "Link",
    href: "/auth/login",
    "data-testid": "button",
  },
  play: async ({ canvasElement, step }) => {
    const canvas = within(canvasElement);

    await step("ãƒœã‚¿ãƒ³æŠ¼ä¸‹ã§hrefã§æŒ‡å®šã—ãŸç”»é¢ã«é·ç§»ã™ã‚‹", async () => {
      await userEvent.click(canvas.getByTestId("button"));
      await expect(fn.mock.lastCall).toContainEqual("/auth/login");
    });
  },
};

```

Storybook ã®ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’ç«‹ã¡ä¸Šã’ã‚‹ã¨
Atoms
Button
Default
Primary
Toggle
Link

ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

Interactions ã‚¿ãƒ–ã«ç§»å‹•ã™ã‚‹ã¨
ãƒ†ã‚¹ãƒˆãŒ PASS ã—ã¦ã„ã¾ã™ã€‚

## ã‚«ãƒãƒ¬ãƒƒã‚¸ã®è¨ˆæ¸¬

npm install -D @storybook/test-runner @storybook/addon-coverage

â€»ã‚«ãƒãƒ¬ãƒƒã‚¸ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¾Œã€storybook ã‚’å†èµ·å‹•ã•ã›ã¦ãŠã‹ãªã„ã¨ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ã€‚

scripts ã‚’è¿½åŠ ã—ã¾ã™ã€‚

```package.json
{
 "scripts": {
 ...
 "test-storybook": "test-storybook --coverage",
 }
}

```

```.storybook/main.ts

const config: StorybookConfig = {
 addons: [
 ...
 '@storybook/addon-coverage',
 ],
};

```

ã‚«ãƒãƒ¬ãƒƒã‚¸ã®è¨ˆæ¸¬ã«ã¯ storybook ã‚’èµ·å‹•ã•ã›ã¦ãŠãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
npm run storybook

ã‚«ãƒãƒ¬ãƒƒã‚¸ã®è¨ˆæ¸¬(æ–°ã—ã„ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§å®Ÿè¡Œã—ã¾ã™ã€‚)
npm run test-storybook

ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆã®å‹•ä½œç¢ºèª
ã‚«ãƒãƒ¬ãƒƒã‚¸ã®è¨ˆæ¸¬ã‚’ç¢ºèª

---

# Supabase

ã“ã® Supabase é …ç›®ã¯

Supabase ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒ ï¼‹ ã‚µãƒ¼ãƒãƒ¼é‹ç”¨ã‚’æƒ³å®š 2023 - Qiita

https://qiita.com/masakinihirota/items/be94b4c74a7850a4b79c

ã‚’å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚

ãƒ­ãƒ¼ã‚«ãƒ«ã« Supabase ã® CLI (command line interface)ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

scoop bucket add supabase https://github.com/supabase/scoop-bucket.git
scoop install supabase

ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ
scoop update supabase

Supabase CLI ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³
supabase --version

Supabase æœ¬ä½“ã¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ Supabase Auth ãƒ˜ãƒ«ãƒ‘ãƒ¼ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install supabase @supabase/supabase-js @supabase/auth-helpers-nextjs

Supabase ã®åˆæœŸåŒ–
supabase init

## ã‚µãƒ¼ãƒãƒ¼å´ã¨ã®æ¥ç¶šï¼ˆå¿…è¦ãªå ´åˆï¼‰

Supabase ã¸ã®ãƒ­ã‚°ã‚¤ãƒ³
supabase login

Supabase ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¸ã®ãƒªãƒ³ã‚¯
supabase link

## Docker ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

Supabase ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒ ï¼‹ ã‚µãƒ¼ãƒãƒ¼é‹ç”¨ã‚’æƒ³å®š 2023 - Qiita

https://qiita.com/masakinihirota/items/be94b4c74a7850a4b79c

ã‚’å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚

## ãƒ­ãƒ¼ã‚«ãƒ«ã® Supabase ã‚’å§‹ã‚ã‚‹

supabase start

```
06-18 15:49:49> supabase start
Seeding data supabase\seed.sql...me...
                                 Started supabase local development setup.

         API URL: http://localhost:54321
     GraphQL URL: http://localhost:54321/graphql/v1
          DB URL: postgresql://postgres:postgres@localhost:54322/postgres
      Studio URL: http://localhost:54323
    Inbucket URL: http://localhost:54324
      JWT secret: super-secret-jwt-token-with-at-least-32-characters-long
        anon key: eyJhb**********************************n_I0
service_role key: eyJhbGci*******************************pN81IU

```

ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
supabase status

ãƒ­ãƒ¼ã‚«ãƒ«ã® Supabase(Docker)ã‚’æ­¢ã‚ã‚‹
supabase stop

## Supabase ã‚’åˆ©ç”¨ã—ãŸãƒ­ãƒ¼ã‚«ãƒ«ã§ã®é–‹ç™º

Supabase ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒ ï¼‹ ã‚µãƒ¼ãƒãƒ¼é‹ç”¨ã‚’æƒ³å®š 2023 - Qiita

https://qiita.com/masakinihirota/items/be94b4c74a7850a4b79c

ã‚’å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚

## Supabase ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®åŸºç¤

src\utils\supabase.ts ã¨ã„ã†æ–°ã—ã„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã€ä»¥ä¸‹ã®å†…å®¹ã‚’è¿½åŠ ã—ã¾ã™ã€‚

```src\utils\supabase.ts

import { createClient } from '@supabase/supabase-js'

export default createClient(
 process.env.NEXT_PUBLIC_SUPABASE_URL!,
 process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!
)

```

ã“ã‚Œã‚’å‘¼ã³å‡ºã™ã“ã¨ã§ Supabase ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒä½œæˆã§ãã¾ã™ã€‚

---

# ã‚µãƒ¼ãƒ“ã‚¹ã¨ã®é€£æºã‚³ãƒãƒ³ãƒ‰

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ GitHub ã§å…¬é–‹ã—ã¦ã€ãã‚Œã‚’ Vercel ã‹ã‚‰é€£æºã•ã›ã¾ã™ã€‚

å–å¾—ã—ãŸç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ãŒã‚ã‚‹ã®ãªã‚‰ãƒ‰ãƒ¡ã‚¤ãƒ³ç™»éŒ²ã‚‚ã§ãã¾ã™ã€‚

vercel é–¢é€£
Next.jsÃ—SupabaseÃ—Vercel é€£æºã«ã¤ã„ã¦ - Qiita

https://qiita.com/kaho_eng/items/8a7faf77222a599fb31c

npm vercel login

Vercel ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã«ã‚¯ãƒ­ãƒ¼ãƒ³ã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ãƒªãƒ³ã‚¯ã—ã¾ã™ã€‚
npm vercel link

ç’°å¢ƒå¤‰æ•°ã‚’é€£æºã—ãŸ Vercel ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰ã‚³ãƒ”ãƒ¼ã—ã¦ .env.local ã«ä¸Šæ›¸ãã§ãã¾ã™ã€‚
npm vercel env pull

---

# Dark Mode

[WIP]

ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ã®è¨­å®š

Theming - shadcn/ui

https://ui.shadcn.com/docs/theming

Dark Mode - shadcn/ui

https://ui.shadcn.com/docs/dark-mode

Radix Ã— Tailwind ãª shadcn/ui ãŒã„ã„æ„Ÿã˜ - Qiita

https://qiita.com/hajimism/items/e7bbe3711b43a8579224

Tailwind CSS ã‚’ä½¿ã£ãŸ ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰å®Ÿè£…ã®åŠ¹ç‡çš„ãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒ

https://zenn.dev/deer/articles/d3b104ac97711d

Tailwind CSS ã®ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œã‚¬ã‚¤ãƒ‰ - snappify.com

https://snappify.com/view/8d426d44-f485-4c62-9bc8-8efe23f558ea

## ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ã®è¨­å®š

Dark Mode - shadcn/ui

https://ui.shadcn.com/docs/dark-mode

ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®è¿½åŠ 
npm install next-themes lucide-react

shadcn/ui ã® UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è¿½åŠ 
npm dlx shadcn-ui@latest add dropdown-menu

```globals.css
â€» globals.css ã¯ shadcn/ui ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ™‚ã«è¨­å®šã•ã‚ŒãŸã®ã‚’ãã®ã¾ã¾åˆ©ç”¨ã—ã¾ã™ã€‚

```

```tailwind.config.js
â€» tailwind.config.js ã¯ shadcn/ui ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ™‚ã«è¨­å®šã•ã‚ŒãŸã®ã‚’ãã®ã¾ã¾åˆ©ç”¨ã—ã¾ã™ã€‚

```

theme provider ã‚’ä½œæˆã—ã¾ã™ã€‚

```components/theme-provider.tsx
"use client"

import * as React from "react"
import { ThemeProvider as NextThemesProvider } from "next-themes"
import { type ThemeProviderProps } from "next-themes/dist/types"

export function ThemeProvider({ children, ...props }: ThemeProviderProps) {
  return <NextThemesProvider {...props}>{children}</NextThemesProvider>
}

```

root layout ã‚’ãƒ©ãƒƒãƒ—ã—ã¾ã™ã€‚

```app/layout.tsx
import "@/styles/globals.css";
import { Inter } from "next/font/google";
import React from "react";

import { ThemeProvider } from "@/components/theme-provider";

import type { Metadata } from "next";

const inter = Inter({ subsets: ["latin"] });

export const metadata: Metadata = {
  title: "Create Next App",
  description: "Generated by create next app",
};

export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <>
      <html lang="ja" suppressHydrationWarning>
        <body className={inter.className}>
          <ThemeProvider attribute="class" defaultTheme="system" enableSystem>
            {children}
          </ThemeProvider>
        </body>
      </html>
    </>
  );
}

```

ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿ã‚’è¿½åŠ ã—ã¾ã™ã€‚

ãƒ©ã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰ã¨ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ãƒˆã‚°ãƒ«ã‚’ã‚µã‚¤ãƒˆã«è¨­ç½®ã—ã¾ã™ã€‚

```
"use client"

import * as React from "react"
import { Moon, Sun } from "lucide-react"
import { useTheme } from "next-themes"

import { Button } from "@/components/ui/button"
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuTrigger,
} from "@/components/ui/dropdown-menu"

export function ModeToggle() {
  const { setTheme } = useTheme()

  return (
    <DropdownMenu>
      <DropdownMenuTrigger asChild>
        <Button variant="outline" size="icon">
          <Sun className="h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0" />
          <Moon className="absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100" />
          <span className="sr-only">Toggle theme</span>
        </Button>
      </DropdownMenuTrigger>
      <DropdownMenuContent align="end">
        <DropdownMenuItem onClick={() => setTheme("light")}>
          Light
        </DropdownMenuItem>
        <DropdownMenuItem onClick={() => setTheme("dark")}>
          Dark
        </DropdownMenuItem>
        <DropdownMenuItem onClick={() => setTheme("system")}>
          System
        </DropdownMenuItem>
      </DropdownMenuContent>
    </DropdownMenu>
  )
}

```

Tailwind CSS ã‚’ä½¿ã£ãŸ ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰å®Ÿè£…ã®åŠ¹ç‡çš„ãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒ

https://zenn.dev/deer/articles/d3b104ac97711d

globals.css ã® CSS å¤‰æ•°ã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ã§ã€ãƒ†ãƒ¼ãƒã”ã¨ã®é…è‰²ã‚’ä¸€å…ƒç®¡ç†ã§ãã¾ã™ã€‚

ã•ã‚‰ã«ã€text-muted-foreground/50 ç­‰ã®é€éèª¿æ•´ã‚„ sm:text-muted-foreground ãªã©ã®è£…é£¾å­ã‚‚ä½¿ç”¨å¯èƒ½ã«ãªã‚Šã¾ã™ã€‚

ã¾ãŸã€ã‚«ã‚¹ã‚¿ãƒ ã‚«ãƒ©ãƒ¼ã¨ã—ã¦ç™»éŒ²ã•ã‚Œã‚‹ãŸã‚ã€Tailwind CSS Intellisense ã§è‰²ã®æŒ‡å®šã®ç«¶åˆã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆã—ãŸã‚Šã€è‰²ã®å€™è£œã¨ã—ã¦ãƒ©ã‚¤ãƒ³ãƒŠãƒƒãƒ—ã—ã¦ãã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

æ³¨æ„ç‚¹ã¨ã—ã¦ã€text-gray/50 ãªã©ã®ã‚ˆã†ã«è‰²ã®é€éåº¦ã‚’èª¿æ•´å¯èƒ½ã«ã™ã‚‹ãŸã‚ã«ã€è‰²ã¯ã‚«ãƒ©ãƒ¼ãƒãƒ£ãƒãƒ«ã®ã¿ã§å®šç¾©ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

RGB ã‚„ HSL ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã«å¿œã˜ã¦ã€tailwind.config.js å´ã§ã‚«ã‚¹ã‚¿ãƒ ã‚«ãƒ©ãƒ¼ã¨ç´ã¥ã‘ã‚‹éš›ã®è¨˜è¿°ãŒå¤‰ã‚ã‚‹ç‚¹ã«ã‚‚æ³¨æ„ã—ã¾ã—ã‚‡ã†ã€‚

## Next.js ã§ã®ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ç’°å¢ƒè¨­å®š

Next.js ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ™‚ã« Tailwind CSS ã‚’ Yes é¸æŠã—ã¾ã™ã€‚

Dark Mode - Tailwind CSS

https://tailwindcss.com/docs/dark-mode#toggling-dark-mode-manually

```tailwind.config.js
  darkMode: ["class"],

```

next-themes - npm

https://www.npmjs.com/package/next-themes

npm install next-themes

next-themes ã® Provider ã‚’è¿½åŠ 

pacocoursey/next-themes: Perfect Next.js dark mode in 2 lines of code. Support System preference and any other theme with no flashing

https://github.com/pacocoursey/next-themes#with-app

## ãƒ†ãƒ¼ãƒè¨­å®šã«ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚¯ãƒ©ã‚¹ã‚’ä½¿ç”¨ã™ã‚‹ã«ã¯ã€components.json ãƒ•ã‚¡ã‚¤ãƒ«ã§ tailwind.cssVariables ã‚’ false ã«è¨­å®šã—ã¾ã™ã€‚

```components.json
{
  "$schema": "https://ui.shadcn.com/schema.json",
  "style": "new-york",
  "rsc": true,
  "tsx": true,
  "tailwind": {
    "config": "tailwind.config.js",
    "css": "src/styles/globals.css",
    "baseColor": "slate",
    "cssVariables": false
  },
  "aliases": {
    "components": "@/components",
    "utils": "@/lib/utils"
  }
}

```

---

# i18n

[WIP]

---

# å‰Šé™¤ã—ã¦ã‚‚ã„ã„ãƒ•ã‚©ãƒ«ãƒ€

src\stories

ã“ã®ãƒ•ã‚©ãƒ«ãƒ€ã¯ Storybook ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã¨ãã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§å…¥ã£ã¦ãã‚‹ã‚µãƒ³ãƒ—ãƒ«ãªã®ã§ã‚µãƒ³ãƒ—ãƒ«ã‚’è¦‹ãªãŒã‚‰æ›¸ãäººä»¥å¤–ã¯æ¶ˆã—ã¦ã—ã¾ã£ã¦ã‚‚ã„ã„ã§ã™ã€‚

â€»ã‚³ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã§é–‹ç™ºã™ã‚‹ã®ã§ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã€ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã€Story ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã™ã¹ã¦åŒä¸€ã®ãƒ•ã‚©ãƒ«ãƒ€ã«å…¥ã‚Œã¾ã™ã€‚
ç†ç”±ã¯åŠå¹´å‰ã‚‚çµŒã¦ã°ã©ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒã©ã®ãƒ•ã‚©ãƒ«ãƒ€ã«å…¥ã£ã¦ã„ã‚‹ã‹ã‚ã‹ã‚‰ãªããªã‚‹ã‹ã‚‰ã§ã™ã€‚ãªã®ã§ã‚³ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã®åŸå‰‡ã‚’å‡ºæ¥ã‚‹é™ã‚Šå®ˆã‚Šã¾ã™ã€‚
ã‚°ãƒ­ãƒ¼ãƒãƒ«åŒ–ã—ãŸã„ã‚‚ã®ã‚„å…±é€šåŒ–ã—ãŸã„ã‚‚ã®ã¯é™¤ãã€‚

---

# å‚è€ƒ URL

GitHub Qiita è¨˜äº‹
Supabase ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒ ï¼‹ ã‚µãƒ¼ãƒãƒ¼é‹ç”¨ã‚’æƒ³å®š 2023

https://qiita.com/masakinihirota/items/be94b4c74a7850a4b79c

GitHub masakinihirota/vns
https://github.com/masakinihirota/vns

Supabase VNS

https://app.supabase.com/project/gzctqdrrnnkaxwwtzbsw

Vercel VNS

https://vercel.com/masakinihirota/vns

Next.js by Vercel - The React Framework

https://nextjs.org/

Storybook

https://storybook.js.org/docs/react/get-started/install/

ReactÃ—TypeScript ã§ã¯ã˜ã‚ã‚‹ Vitest

https://zenn.dev/bs_kansai/articles/b79d97a8f921d6

Storybook(v7)ã‚’ Vitest ã§å†åˆ©ç”¨ã™ã‚‹ã¨ã

https://zenn.dev/pluto0004/articles/3bab7d07805cff

Storybook ã®ã€Œã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆã€ã§ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ãƒ†ã‚¹ãƒˆã‚’ã‚·ãƒ³ãƒ—ãƒ«ã«ç®¡ç†ã™ã‚‹ï¼ï½œ SHIFT Group æŠ€è¡“ãƒ–ãƒ­ã‚°

https://note.com/shift_tech/n/n5646b52b3092

[2023 å¹´]Next.js + eslint å‘¨ã‚Šã®è¨­å®š

https://zenn.dev/resistance_gowy/articles/91b4f62b9f48ec

ã€ç’°å¢ƒæ§‹ç¯‰ã€‘Next Ã— App Router Ã— Prettier Ã— ESLint Ã— Husky Ã— Shadcn/ui ã®ç’°å¢ƒæ§‹ç¯‰ã‚’ã—ã¦ã¿ã‚‹ - Qiita

https://qiita.com/hiroto_dnpk/items/a7ebbca3294c7befb4b7

---

# æœªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

<details><summary>æœªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«[WIP]</summary>

# vitest

ãƒ†ã‚¹ãƒˆãƒ„ãƒ¼ãƒ«

???
npm create vite@latest

React ã¨ TypeScript ã‚’é¸æŠã—ã¾ã™ã€‚

cd vitest-react
npm install
npm run dev

ã“ã“ã‹ã‚‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼Ÿ
npm install -D vitest

npm install -D jsdom @testing-library/react @testing-library/jest-dom

.eslintignore
ãƒ•ã‚¡ã‚¤ãƒ«å†…ã« vitest.config.ts ã‚’æ›¸ã

```
vite.config.ts
vitest.config.ts
.eslintrc.cjs

```

Vitest ã®è¨­å®š
vite.config.ts

```vitest.config.ts
import { defineConfig } from 'vite'

export default defineConfig({
    test: {
        include: ['src/**/*.test.tsx'],
        environment: 'jsdom',
    },
})

```

src/ä»¥ä¸‹ã®ã¿ã«è¨­å®šã—ã¦ã‚ã‚‹

## ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®ä½œæˆ

App ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«å¯¾ã—ã¦ã€ã€ŒVite + Reactã€ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã‹ã®ãƒ†ã‚¹ãƒˆã‚’æ›¸ã„ã¦ã¿ã¾ã™ã€‚

```
import '@testing-library/jest-dom';
import { render, screen } from '@testing-library/react';
import { expect, test } from 'vitest';
import App from '../App';

test('renders h1 text', () => {
    render(<App />);
    const headerElement = screen.getByText("Vite + React");
    expect(headerElement).toBeInTheDocument();
});

```

å®Ÿè¡Œ
npm vitest

ã‚«ãƒãƒ¬ãƒƒã‚¸ã®å®Ÿè¡Œ
npm vitest run --coverage

```
import { defineConfig } from 'vite'

export default defineConfig({
    test: {
        globals: true,
        include: ['src/**/*.test.tsx'],
        environment: 'jsdom',
        coverage: {
            reporter: ['html'],
            reportsDirectory: './coverage'
        },
    },
})

```

</details>



TypeScript ã§ ESLint ã‚’ä½¿ã†å ´åˆã®è¨­å®š
npm i -D @typescript-eslint/parser
npm i -D @typescript-eslint/eslint-plugin
