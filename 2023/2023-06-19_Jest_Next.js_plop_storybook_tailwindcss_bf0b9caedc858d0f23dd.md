<!--
title:   ã‚³ãƒ¼ãƒ‰ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼å…¥é–€ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®è‡ªå‹•ç”Ÿæˆãƒ„ãƒ¼ãƒ«plopã‚’ä½¿ç”¨ã—ãŸãƒãƒ³ã‚ºã‚ªãƒ³ (Next.js app router Storybook TailwindCSS Jestã®è¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’åŒæ™‚ã«ä½œã‚‹)
tags:    Jest,Next.js,plop,storybook,tailwindcss
id:      bf0b9caedc858d0f23dd
private: false
-->

# ä»Šå›ã®ãƒªãƒã‚¸ãƒˆãƒª

masakinihirota/plop
https://github.com/masakinihirota/plop


ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```
gh repo clone masakinihirota/plop
npm i
npm i -g plop
plop
npm run storybook

```


# ç’°å¢ƒ&tool

Windows10
VSCode
GitHub Copilot
GitHub Copilot chat

Next.js
Storybook
TailwindCSS
Jest
plop

# ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ã¾ã¨ã‚ã¦ä¸€ç®‡æ‰€ã«å‡ºåŠ›ã™ã‚‹ã¨ã„ã†è€ƒãˆæ–¹

Next.js ã‚’ä½¿ç”¨ã—ã¦ Storybook ã‚’é–‹ç™ºã™ã‚‹å ´åˆã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚³ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ¡ç”¨ã—ã¦é–‹ç™ºã—ã¾ã™ã€‚

ãƒšãƒ¼ã‚¸ã‚’ã‚³ãƒ³ãƒãƒ¼ãƒ³ã¨ã„ã†ãƒ–ãƒ­ãƒƒã‚¯ã«åˆ†ã‘ã€Storybook ã‚’ä½¿ã„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå˜ä½ã§ç®¡ç†ã—ã¾ã™ã€‚

å„ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ¯ã«ï¼‘ã¤ã®ãƒ•ã‚©ãƒ«ãƒ€ã«å…¥ã‚Œã¦ç®¡ç†ã‚’ã—ã¾ã™ã€‚
ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ•ã‚¡ã‚¤ãƒ«
ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«
ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«

â€»ãƒ„ãƒ¼ãƒ«ã§ typescript ã‚’ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå˜ä½ã§ãƒ—ãƒ­ãƒ†ã‚¯ãƒˆã‚’ã™ã‚‹ãƒ„ãƒ¼ãƒ«
â€»vitest ã® In-source testing ã§ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã¨ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’åŒã˜ãƒ•ã‚¡ã‚¤ãƒ«å†…ã«æ›¸ãã€‚

plop ã¯ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è¿½åŠ ã™ã‚‹ãŸã³ã«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ç”¨ã—ã¦ç”Ÿæˆã—ã¾ã™ã€‚

# ãƒãƒ³ã‚ºã‚ªãƒ³ã®äº‹å‰æº–å‚™ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

ãƒªãƒã‚¸ãƒˆãƒªã‚’ä½¿ç”¨ã›ãšã«ï¼ã‹ã‚‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã€‚

ã™ã§ã«ã‚¢ãƒ—ãƒªã‚’ä½œæˆã—ã¦ã„ã‚‹å ´åˆã¯ãã¡ã‚‰ã‚’åˆ©ç”¨ã—ã¦ãã ã•ã„ã€‚
plop ã¯ã‚¢ãƒ—ãƒªæœ¬ä½“ã«ç›´æ¥å½±éŸ¿ã‚’ä¸ãˆã¾ã›ã‚“ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ ã—ã¦ã„ãã ã‘ã§ã™ã€ãŸã¨ãˆæ—¢å­˜ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¨åŒã˜æ–‡å­—åˆ—ã‚’å…¥åŠ›ã—ã¦ã‚‚ä¸Šæ›¸ãã«ãªã‚‹å‰ã«åœæ­¢ã—ã¾ã™ã€‚

Next.js
Storybook
TailwindCSS
Jest
ãŒä½¿ãˆã‚‹ã‚ˆã†ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãŠãã¾ã™ã€‚

Next.js ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npx create-next-app@latest

Storybook ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npx storybook@latest init

Jest ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install --save-dev jest
npm install --save-dev @types/jest
npm install --save-dev @testing-library/jest-dom

testing-library ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install --save-dev @testing-library/react

ã“ã‚Œã§äº‹å‰æº–å‚™ã¯çµ‚ã‚ã‚Šã¾ã—ãŸã€ã“ã‚Œã‹ã‚‰ plop ã«é–¢ã™ã‚‹ã“ã¨ã ã‘ã«é›†ä¸­ã—ã¾ã™ã€‚



## plop ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

ã‚°ãƒ­ãƒ¼ãƒãƒ«ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹æ–¹æ³•
npm install -g plop

â€»ä»Šå›ã¯ã‚°ãƒ­ãƒ¼ãƒãƒ«ã« plop ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ãã¾ã™ã€‚
ãã‚Œã‚‚
src/components ã®ç›´ä¸‹ã«å…¨ã¦ã‚’è‡ªå‹•ç”Ÿæˆã™ã‚‹ã‚ˆã†ã«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’æ›¸ã„ã¦ã„ãã¾ã™ã€‚

ç†ç”±ã¯ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¯ã«è¨­å®šã‚’ã™ã‚‹å¿…è¦ãŒãªããªã‚‹ã“ã¨ã€
ã‚³ãƒãƒ³ãƒ‰ãŒçŸ­ããªã‚‹ã“ã¨ã€‚ã® 2 ã¤ã§ã™ã€‚

ã‚³ãƒãƒ³ãƒ‰ã‚‚ plop ã§å‹•ã‹ã™ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚

## è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ

touch plopfile.mjs

plopfile.mjs ã« template ãƒ•ã‚¡ã‚¤ãƒ«ã®è¨­å®šã‚’ã—ã¾ã™ã€‚

templateFile: "templates/component/component.tsx.hbs"

package.json ãƒ•ã‚¡ã‚¤ãƒ« ãŒã‚ã‚‹å ´æ‰€ã‚’ root ã¨ã—ã¦ã€
ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ãã®ä¸‹ã®ãƒ‘ã‚¹ã«ç§»å‹•ã—ã¦ã¦ã‚‚ã€root ã‚’åŸºæº–ã«ã—ã¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è‡ªå‹•ç”Ÿæˆã—ã¦ãã‚Œã¾ã™ã€‚



# plop ã®å®ˆã‚‹ã¹ããƒ«ãƒ¼ãƒ«

root ã¯ package.json ãŒã‚ã‚‹å ´æ‰€ãŒåŸºæº–ã«ãªã‚Šã¾ã™ã€‚
package.json ã¨åŒã˜ä½ç½®ã« plopfile.mjs ã‚’ç½®ãã¾ã™ã€‚

plopfile.mjs ã«ãƒ«ãƒ¼ãƒ«ã‚’æ›¸ãã€
templates ãƒ•ã‚©ãƒ«ãƒ€ã«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç½®ãã¾ã™ã€‚



# plop ãƒãƒ³ã‚ºã‚ªãƒ³

## ç›®çš„

plop ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ã„ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’åˆ©ç”¨ã—ã¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’è‡ªå‹•ç”Ÿæˆã—ã¾ã™ã€‚

å ´æ‰€ã¯
src/components/\*
ã«å‡ºåŠ›ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚

Storybook ã‚‚
src/components/\*
ä»¥ä¸‹ã®ã¿è¦‹ã‚‹ã‚ˆã†ã«è¨­å®šã—ã¾ã™ã€‚

## æœ¬ç·¨

### globals.css ã®ç§»å‹•

globals.css ã‚’ TailwindCSS ã®è¨­å®šã ã‘ã«ã—ã¾ã™ã€‚

```src\app\globals.css
@tailwind base;
@tailwind components;
@tailwind utilities;

```

â†‘ ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
/src/app/globals.css
ã‚’
/src/styles/globals.css
ã«ç§»å‹•ã•ã›ã¾ã™ã€‚

ã“ã‚Œã¯è‡ªåˆ†ãŒã“ã“ã«ãŠã„ãŸã»ã†ãŒç®¡ç†ã—ã‚„ã™ã„ã¨æ€ã£ãŸãŸã‚ã§ã™ã€‚



### stories ãƒ•ã‚©ãƒ«ãƒ€ã‚’ç§»å‹•

stories ãƒ•ã‚©ãƒ«ãƒ€ã‚’
src\components\stories
ã«ç§»å‹•ã—ã¾ã™ã€‚

â€»Storybook é–¢é€£ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã™ã¹ã¦ src\components\ã®ä¸‹ã«ç½®ãã€ã“ã®ä¸€ç®‡æ‰€ã§ Stories ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç®¡ç†ã™ã‚‹ãŸã‚ã§ã™ã€ä¸è¦ãªã‚‰æ¶ˆã—ã¦ã‚‚å¤§ä¸ˆå¤«ã§ã™ã€‚



### Storybook ã®è¨­å®š

Storybook ã®è¨­å®šã‚’ components ã®ã¿ã«é™å®šã—ã¾ã™ã€‚

ã“ã®ã‚ˆã†ã«è¨­å®šã—ã¾ã™ã€‚

`stories: ["../src/components/**/*.mdx", "../src/components/**/*.stories.@(js|jsx|ts|tsx)"],`

```.storybook\main.ts
import type { StorybookConfig } from "@storybook/nextjs"
const config: StorybookConfig = {
  stories: ["../src/components/**/*.mdx", "../src/components/**/*.stories.@(js|jsx|ts|tsx)"],
  addons: ["@storybook/addon-links", "@storybook/addon-essentials", "@storybook/addon-interactions"],
  framework: {
    name: "@storybook/nextjs",
    options: {},
  },
  docs: {
    autodocs: "tag",
  },
}
export default config

```



Storybook ã§ã‚‚ TailwindCSS ãŒä½¿ãˆã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚

`import "../src/styles/globals.css"`
ã‚’ â†“ ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«è¿½åŠ ã—ã¾ã™ã€‚

```.storybook\preview.ts
import type { Preview } from "@storybook/react"
import "../src/styles/globals.css"

const preview: Preview = {
  parameters: {
    actions: { argTypesRegex: "^on[A-Z].*" },
    controls: {
      matchers: {
        color: /(background|color)$/i,
        date: /Date$/,
      },
    },
  },
}

export default preview

```



## plop ã®è¨­å®š

plop ã¯å…¨ä½“ã¨ã—ã¦ 2ç¨®é¡ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒå¿…è¦ã¨ãªã‚Šã¾ã™ã€‚
ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆï¼ plopfile.mjsï¼‰ã¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã® 2ç¨®é¡ã§ã™ã€‚



### ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ



```plopfile.mjs
/* eslint-disable import/no-anonymous-default-export */
// ESLintã®ãƒ«ãƒ¼ãƒ«ã‚’ç„¡åŠ¹ã«ã™ã‚‹ãŸã‚ã®ã‚³ãƒ¡ãƒ³ãƒˆã§ã™ã€‚import/no-anonymous-default-exportã¨ã„ã†ãƒ«ãƒ¼ãƒ«ã¯ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãŒç„¡åé–¢æ•°ã§ã‚ã‚‹å ´åˆã«è­¦å‘Šã‚’å‡ºã™ãƒ«ãƒ¼ãƒ«ã§ã™ã€‚ã“ã®ãƒ«ãƒ¼ãƒ«ã‚’ç„¡åŠ¹ã«ã™ã‚‹ã“ã¨ã§ã€ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã§ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãŒç„¡åé–¢æ•°ã§ã‚ã£ã¦ã‚‚ã€è­¦å‘ŠãŒå‡ºãªããªã‚Šã¾ã™ã€‚

const pad00 = (num) => String(num).padStart(2, "0")

const date = new Date()
const year = date.getFullYear()
const month = pad00(date.getMonth() + 1)
const day = pad00(date.getDate())
const hms = `${pad00(date.getHours())}:00:00`
const datePrefix = `${year}-${month}-${day}`

const categories = ["Other", "Tech", "BlogOps"]

export default function (
  // JSDocã‚³ãƒ¡ãƒ³ãƒˆã‚’ä½¿ç”¨ã—ã¦ã€import('plop').NodePlopAPIã¨ã„ã†å‹ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã¯ã€plopã¨ã„ã†ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒæä¾›ã™ã‚‹NodePlopAPIã¨ã„ã†å‹ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚ã“ã®å‹ã¯ã€plopfile.mjsã§ä½¿ç”¨ã•ã‚Œã‚‹plopã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å‹ã‚’å®šç¾©ã—ã¦ã„ã¾ã™ã€‚
  /** @type {import('plop').NodePlopAPI} */
  plop,
) {
  plop.setGenerator("component", {
    description: "Create a new component",
    prompts: [
      {
        type: "input",
        name: "path",
        message: "ã©ã“ã«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ç½®ãã¾ã™ã‹ï¼Ÿ(ä¾‹: src/components/)",
      },
      {
        type: "input",
        name: "name",
        message: "ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®åå‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„",
      },
    ],
    actions: [
      {
        type: "add",
        path: "src/components/{{path}}/{{pascalCase name}}/index.tsx",
        templateFile: "templates/component/component.tsx.hbs",
      },
      {
        type: "add",
        path: "src/components/{{path}}/{{pascalCase name}}/{{pascalCase name}}.test.tsx",
        templateFile: "templates/component/component.test.tsx.hbs",
      },
      {
        type: "add",
        path: "src/components/{{path}}/{{pascalCase name}}/{{pascalCase name}}.stories.tsx",
        templateFile: "templates/component/component.stories.tsx.hbs",
      },
    ],
  })
}

```



## plop ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ

ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®ç½®ãå ´æ‰€

mkdir templates\component

ã“ã®ãƒ•ã‚©ãƒ«ãƒ€ã®ä¸­ã«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç½®ãã¾ã™ã€‚



### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ

touch templates\component\component.tsx.hbs

```templates\component\component.tsx.hbs
import { FC } from 'react';

type Props = {};

export const {{pascalCase name}}: FC<Props> = (props) => {
  return (
    <div className="">
      <h1>{{pascalCase name}} Component</h1>
    </div>
  );
};

```



### ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ

touch templates\component\component.test.tsx.hbs

```templates\component\component.test.tsx.hbs
import { render, screen } from "@testing-library/react";
import { {{pascalCase name}} } from ".";

test('renders {{pascalCase name}} component', () => {
  render(<{{pascalCase name}} />);

  const titleElement = screen.getByRole( "heading", { level: 1, name: /{{pascalCase name}} Component/i });

  expect(titleElement).toBeInTheDocument();
});

```



### Storybookã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ

touch templates\component\component.stories.tsx.hbs

```templates\component\component.stories.tsx.hbs
import type { Meta, StoryObj } from "@storybook/react";
import { {{pascalCase name}} } from '.';

type T = typeof {{pascalCase name}}

export default {
  component: {{pascalCase name}},
} satisfies Meta<T>;

export const Default: StoryObj<T> = {};

```



## plop ã®å‹•ä½œç¢ºèª

plop ã‚’ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸå ´åˆ

plop

ã“ã®ã‚ˆã†ã«ãƒ•ã‚©ãƒ«ãƒ€åã‚„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåã‚’çœç•¥ã—ã¦ã‚‚ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã«è³ªå•ã—ã¦ãã‚Œã¾ã™ã€‚
â€»è³ªå•ã«ç­”ãˆãªãŒã‚‰ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’è‡ªå‹•ç”Ÿæˆã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚

1ã¤ã®ã‚³ãƒãƒ³ãƒ‰ã§ãƒ•ã‚©ãƒ«ãƒ€åã¨ãƒ•ã‚¡ã‚¤ãƒ«åã‚’ã¾ã¨ã‚ã¦æŒ‡å®šã™ã‚‹ã“ã¨ã‚‚å‡ºæ¥ã¾ã™ã€‚

plop ãƒ•ã‚©ãƒ«ãƒ€å ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå



### å®Ÿéš›ã®ä½¿ç”¨ä¾‹

â†“ å®Œæˆã™ã‚‹ã¨ã“ã®ã‚ˆã†ã«å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚
ä¾‹

```
06-19 23:10:51> plop aaa/bbb
? ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®åå‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ ccc
âœ”  ++ \src\components\aaa\bbb\Ccc\index.tsx
âœ”  ++ \src\components\aaa\bbb\Ccc\Ccc.test.tsx
âœ”  ++ \src\components\aaa\bbb\Ccc\Ccc.stories.tsx



```

```
06-19 23:11:02> plop eee/fff jjj
âœ”  ++ \src\components\eee\fff\Jjj\index.tsx
âœ”  ++ \src\components\eee\fff\Jjj\Jjj.test.tsx
âœ”  ++ \src\components\eee\fff\Jjj\Jjj.stories.tsx



```

â€»ãƒ•ã‚©ãƒ«ãƒ€åã¨ãƒ•ã‚¡ã‚¤ãƒ«åã‚’ CLI ã‹ã‚‰ 1 è¡Œã§å…¥åŠ›ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
aaa/bbbã€eee/fff ãŒæŒ‡å®šãƒ•ã‚©ãƒ«ãƒ€å
jjj ãŒæŒ‡å®šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå

ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåã‚’æŒ‡åã—ãªã„ã¨ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã«
ã€Œã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®åå‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€ã¨èã„ã¦ãã¾ã™ã€‚

â€»è‡ªå‹•ç”Ÿæˆã•ã‚ŒãŸãƒ•ã‚©ãƒ«ãƒ€ã‚„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤ã™ã‚‹å ´åˆ
ãƒ•ã‚©ãƒ«ãƒ€ã”ã¨ã¾ã¨ã‚ã¦å‰Šé™¤ã™ã‚‹ã ã‘ã§å¤§ä¸ˆå¤«ã§ã™ã€‚

npm run storybook
Storybook ã‚’èµ·å‹•ã—ã¦å‹•ä½œã‚’ç¢ºèªã—ã¾ã™ã€‚

ã‚ã¨ã¯é©å½“ã«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¦ä½¿ã£ã¦ã¿ã¾ã™ã€‚

â†“ ã“ã‚“ãªæ„Ÿã˜ã§ã™ã€‚

![plop001.PNG](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/44761/da89fe4e-0b58-bc56-ce0d-4a76d0db7b33.png)

ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã ã‘ãªã®ã§ Storybook ã®ä¸­èº«ã¯ã‚¼ãƒ­ã§ã™ã€‚
å³ä¸Šã«è­¦å‘ŠãŒå‡ºã¦ã„ã¾ã™ã€‚

ç¢ºèªãŒçµ‚äº†ã—ãŸã‚‰ä»¥ä¸Šã§ãƒãƒ³ã‚ºã‚ªãƒ³ã¯çµ‚äº†ã§ã™ã€‚



# ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®æ›¸ãæ–¹

templates\component\component.tsx.hbs

ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã¯
.hbs ã¨è¨€ã†æ‹¡å¼µå­ã§æ›¸ãã¾ã™ã€‚

ãƒ‘ã‚¹
{{path}}

ãƒ‘ã‚¹ã‚«ãƒ«ã‚±ãƒ¼ã‚¹
{{pascalCase name}}
CurrentUserItem ã®ã‚ˆã†ã«æ›¸ãã¾ã™ã€‚
è¦ç´ èª( current user item )ã®æœ€åˆã‚’å¤§æ–‡å­—ã§æ›¸ãå§‹ã‚ã¾ã™ã€‚

ã‚±ãƒãƒ–ã‚±ãƒ¼ã‚¹
{{ kebabCase name}}
current-user-item ã®ã‚ˆã†ã«æ›¸ãã¾ã™ã€‚
ãƒã‚¤ãƒ•ãƒ³ ã§è¦ç´ èª( current user item )ã‚’é€£çµã—ã¾ã™ã€‚



# What's plopï¼Ÿ

plop ã¯ã€ã‚³ãƒ¼ãƒ‰ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ã® 1 ã¤ã§ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ç”¨ã—ã¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è‡ªå‹•ç”Ÿæˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

plop ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€é–‹ç™ºè€…ã¯æ‰‹å‹•ã§ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã™ã‚‹æ‰‹é–“ã‚’çœãã“ã¨ãŒã§ãã¾ã™ã€‚

ã“ã‚Œã¯å…¸å‹çš„ãªã€å¾Œã§æ¥½ã‚’ã™ã‚‹ãŸã‚ã«å°å…¥ã«è‹¦åŠ´ã™ã‚‹ã‚¿ã‚¤ãƒ—ã®ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚
AI æ™‚ä»£ã«ãªã£ã¦ GitHub Copilot ãŒã‚ã‚Œã°ä¸è¦ã‹ã‚‚ã£ã¦æ€ã£ã¦ã„ã¾ã™ã€‚
â€»GitHub Copilot ã¨ GitHub Copilot chat ã¯ä¾¿åˆ©ã§ã™ã®ã§å¸ƒæ•™ã—ãŸã„ã§ã™ã­ã€‚

hygen ã‚ˆã‚Šã‚‚ plop ãŒé¸ã°ã‚Œã‚‹ã®ã¯
ESMï¼ˆimport/exportï¼‰ãŒä½¿ãˆã‚‹ã‹ã‚‰ï¼Ÿï¼Ÿï¼Ÿ
ã“ã®ç†ç”±ãŒã‚ˆãã‚ã‹ã‚‰ãªã„ã€‚
hygen ã‚’ä½¿ã£ãŸã“ã¨ãŒãªã„ã€æ¯”è¼ƒã¯ã§ããªã„ã®ã§è©•ä¾¡ã¯ã—ãªã„ã€‚



## VSCode ã®æ‹¡å¼µæ©Ÿèƒ½

File Templates - Visual Studio Marketplace
https://marketplace.visualstudio.com/items?itemName=SamKirkland.plop-templates

ã“ã® VSCode ã®æ‹¡å¼µæ©Ÿèƒ½ã¯ã€å³ã‚¯ãƒªãƒƒã‚¯ã‹ã‚‰ plop ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½¿ã£ã¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è‡ªå‹•ç”Ÿæˆã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚ä»Šã®ã¨ã“ã‚ãƒã‚¦ã‚¹ã‹ã‚‰ã§ã‚‚è‡ªå‹•ç”Ÿæˆã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã ã‘ã§ã™ã€‚

ã“ã®æ‹¡å¼µæ©Ÿèƒ½ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã€ã‚°ãƒ­ãƒ¼ãƒãƒ«ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚ŒãŸ plop ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚’æƒ³å®šã—ã¦ã„ã¾ã™ã€‚

npm install -g plop

ãƒ­ãƒ¼ã‚«ãƒ«ã® plop ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã¯ã€package.json ã®ã€Œscriptsã€ãƒ¬ã‚³ãƒ¼ãƒ‰ã«ã€Œadd-form-templateã€ï¼šã€Œplopã€ã‚’è¿½åŠ ã—ã¾ã™ã€‚

```
"scripts": {
	"add-from-template": "plop"
}

```



# æ‹¡å¼µå­.hrb ã£ã¦ãªã«ï¼Ÿ

.hbs ã¯ JavaScript ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¨ãƒ³ã‚¸ãƒ³ Handlebars ã§ä½¿ã‚ã‚Œã¦ã„ãŸæ‹¡å¼µå­ã§ã™ã€‚



## Handlebars ã¨ã¯ï¼Ÿ

Handlebars ã¨ã¯ã„ã‚ã‚†ã‚‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¨ãƒ³ã‚¸ãƒ³ã§ã€
JavaScript ã®å€¤ã‚’å‚ç…§ã—ã¦ HTML ã‚’ç”Ÿæˆã—ã¾ã™ã€‚

å…¬å¼
Handlebars
https://handlebarsjs.com/
Handlebars ã¨ plop ã¯ç›´æ¥é–¢ä¿‚ãªã•ãã†ã§ã™ã€
éå»ã®éºç”£ï¼ˆï¼æ‹¡å¼µå­ï¼‰ã‚’ãã®ã¾ã¾ä½¿ã£ã¦ã„ã‚‹æ„Ÿã˜ã§ã™ã‹ã­ã€‚



# ãã®ä»–

AI é–‹ç™ºã¨ã¯
ChatGPT ã‚„ GitHub Copilot chat ã‚’åˆ©ç”¨ã—ã¦é–‹ç™ºã™ã‚‹æ‰‹æ³•

ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚³ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ - Qiita
https://qiita.com/masakinihirota/items/27f961dfa6871aad0550
ã‚³ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã‚‚å‘¼ã°ã‚Œã¦ã„ã‚‹ã€‚
ã‚¢ãƒˆãƒŸãƒƒã‚¯ãƒ‡ã‚¶ã‚¤ãƒ³ã¨ã¯æ°´ã¨æ²¹ã€‚

ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚³ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ä¸€ã¤ã«ã¾ã¨ã‚ã¦ãŠãæ‰‹æ³•ã€‚
å†åˆ©ç”¨ã—ã«ãã„ãŒã€ä¸€ç®‡æ‰€ã«ã¾ã¨ã¾ã£ã¦ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç®¡ç†ã™ã‚‹ã®ã§ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ€§ã¯é«˜ã„ã€å°è¦æ¨¡é–‹ç™ºå‘ã‘ã€‚
Next.js 13 ã® Sever Action ã®ç™ºè¡¨ã«ã‚ˆã‚Šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå˜ä½ã§ fetchï¼ˆãƒ‡ãƒ¼ã‚¿å–å¾—ï¼‰ãŒå‡ºæ¥ã‚‹ã‚ˆã†ã«ãªã‚Šã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å‡ç¸®æ€§ã¯é«˜ã¾ã£ã¦ã„ãã¨æ€ã‚ã‚Œã‚‹ã€‚

ã‚¢ãƒˆãƒŸãƒƒã‚¯ãƒ‡ã‚¶ã‚¤ãƒ³ã¯ãƒ‘ãƒ¼ãƒ„ã”ã¨ã«åˆ‡ã‚Šåˆ†ã‘ã¦ç®¡ç†ã™ã‚‹æ‰‹æ³•ã€‚
å†åˆ©ç”¨ã—ã‚„ã™ã„ã€ã©ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚‹ã‹ã™ãã«åˆ†ã‹ã‚‰ãšãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ€§ã¯ä½ã„ã€å¤§è¦æ¨¡é–‹ç™ºå‘ã‘ã€‚



# å‚è€ƒã‚µã‚¤ãƒˆ

## é–¢é€£ URL

Visual Studio Code - Code Editing. Redefined
https://code.visualstudio.com/

Next.js by Vercel - The React Framework
https://nextjs.org/

Storybook: Frontend workshop for UI development
https://storybook.js.org/

Tailwind CSS - Rapidly build modern websites without ever leaving your HTML.
https://tailwindcss.com/

Jest Â· ğŸƒ Delightful JavaScript Testing
https://jestjs.io/ja/

Consistency Made Simple : PLOP
https://plopjs.com/



## ãã®ä»–

mymactive/my-code-generator-templates: Templates of code generator
https://github.com/mymactive/my-code-generator-templates

ã€PLOP CLIã€‘æ–°ã—ã„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‹ã‚‰ç”Ÿæˆã™ã‚‹ CLI
https://zenn.dev/anozon/articles/gatsby-plop-newpost

Features | Guide | Vitest
https://vitest.dev/guide/features.html#in-source-testing
In-source testing
ã‚³ãƒ¼ãƒ‰ã¨ãƒ†ã‚¹ãƒˆã‚’åŒå±…ã•ã›ã‚‹æ©Ÿèƒ½ã€‚
AI é–‹ç™ºã¨ç›¸æ€§ãŒè‰¯ã„ã¨æ€ã‚ã‚Œã‚‹ã€‚

PLOP ã§ Component ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é››å½¢ã‹ã‚‰ç”Ÿæˆã—ã‚ˆã†
https://zenn.dev/shwld/articles/c26345ed8e781b



# è¨˜äº‹ã‚’æ›¸ãçµ‚ã‚ã£ã¦ï¼ˆé§„æ–‡ï¼‰

ä¸è¦ã«ãªã£ãŸã®ã§æœ€ä¸‹éƒ¨ã«ç§»å‹•ã—ã¾ã—ãŸã€‚



# ã“ã®è¨˜äº‹ã‚’èª­ã‚€å‰ã« 2023 å¹´ 6 æœˆ 20 æ—¥ç¾åœ¨

ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‹ã‚‰ã‚³ãƒ¼ãƒ‰ã‚’è‡ªå‹•ç”Ÿæˆã™ã‚‹ã®ã¯ã¯ã‚‹ã‹æ˜”ã‹ã‚‰æ˜Ÿã®æ•°ã»ã©ã‚ã‚Šã¾ã™ãŒã€React ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã€Storybook ã®ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«ã€Jest ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã€ãã—ã¦ VSCode ã«å¯¾å¿œã—ãŸã‚‚ã®ã ã¨ã€
hygen
plop
ã® 2 æŠã ã¨æ€ã£ã¦ã„ãŸã®ã§ã™ãŒã€
ç¾åœ¨ã®é¸æŠè‚¢ã¯ 3 ã¤ç›® â†“ ãŒã‚ã‚‹ã‚ˆã†ã§ã™ã€ãã®ã“ã¨ã‚’ã¡ã‚‡ã†ã©ã“ã®è¨˜äº‹ã‚’æ›¸ãçµ‚ãˆãŸå¾ŒçŸ¥ã‚Šã¾ã—ãŸã€‚



## scaffdog

scaffdog ã® VS Code æ‹¡å¼µæ©Ÿèƒ½ã‚’ãƒªãƒªãƒ¼ã‚¹ã—ãŸ - wadackel.me

https://blog.wadackel.me/2023/scaffdog-vscode/

scaffdog - Visual Studio Marketplace

https://marketplace.visualstudio.com/items?itemName=scaffdog.scaffdog-vscode

ã“ã®æ‹¡å¼µæ©Ÿèƒ½ã‚’ä½¿ã†ã¨ã€ã‚ˆã‚Šä¾¿åˆ©ã ã¨ã„ã†ã®ã§ã™ã€‚
ã•ã¦ã©ã†ãªã‚“ã§ã—ã‚‡ã†ï¼Ÿ



## ãã®å¾Œãƒ»ãƒ»ãƒ»ã¡ã‚‡ã£ã¨èª¿ã¹ã¦ã¿ã¦

å…¬å¼ã‚„ä¸‹è¨˜ã®è¨˜äº‹ã‚’èª­ã‚“ã§ã¿ã¦ã€ä¼¼ãŸã‚ˆã†ãªã“ã¨ã‚’ã‚„ã£ã¦ã„ã‚‹ã¨ã€ç¾åœ¨ã®è‡ªåˆ†ã®ä½¿ã„æ–¹ã¯ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å ´æ‰€ã§ 3 ã¤ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã‚‹ã“ã¨ãªã®ã§ãƒ„ãƒ¼ãƒ«ã‚’å¤‰æ›´ã™ã‚‹ã»ã©ã§ã¯ãªã„ã‹ãªã¨ã€‚scaffdog ã® VSCode ã®æ‹¡å¼µæ©Ÿèƒ½ã®ä¾¿åˆ©ã•ã¯ã©ã“ã§ã‚‚ GUI ã§æ“ä½œã§ãã‚‹ã“ã¨ãªã®ã ã‚ã†ã‹ï¼Ÿ
ãƒãƒ¼ãƒ ã§é‹ç”¨ã—ãŸã‚Šã—ãªã‘ã‚Œã°å¿…è¦ãªã„ã®ã‹ãªãã¨ã€‚

scaffdog ã§ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è‡ªå‹•ç”Ÿæˆã™ã‚‹ - Qiita

https://qiita.com/y-natani/items/b8034b2d7c7fbafe63bf




