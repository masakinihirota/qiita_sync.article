<!--
title:   GitHub Copilot: 毎回指示しているのをプロンプトファイル化する方法。これで毎回コマンド入力１回だけで実行・完結できるようにする。
tags:    githubcopilot,プロンプト
id:      7c9691507efb46fa43a0
private: false
-->
## 目的

同じ指示を繰り返すのは面倒なので、プロンプトファイルを作り、１コマンドで実行できるようにします。

## 設定

まずはプロンプトファイルを作ります。

👇️`ctrl + shift + p` でコマンドパレットを表示させます。

![githubcopilot004.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/44761/fac4004a-df74-437e-82bf-2fc2f68c1383.png)

👆️「チャット: プロンプト ファイルの構成…」 を選択します。
`Chat Configure Prompt Files`

インクリメンタルサーチなので
`Ch pr`
ぐらいに短くても選択肢に出てきます。

![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/44761/1005c6de-047a-4891-829f-083611fab5eb.png)

👆️「＋新しいプロンプトファイル」を選択します。

編集したい場合は、既存のプロンプトファイルを選択します。

![スクリーンショット 2025-08-22 150928.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/44761/997c8c21-7d95-4a48-a39e-6090c5708bd2.png)

👆️一番下の、「ユーザーデータフォルダ」を選択します。

これは保存場所を選択します。
あらゆるプロジェクトで使用したいならば
現在のリポジトリやプロジェクトで使用したい場合は、それを選びます。

ユーザーデータフォルダには、
`C:\Users\[ユーザー]\AppData\Roaming\Code\User\prompts\[プロンプトファイル名].prompt.md`
このように保存されます。



![スクリーンショット 2025-08-22 151054.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/44761/9ec895ae-e34f-4b8b-bb7d-451358548827.png)

新しく作るプロンプトファイルの名前を入力します。

毎回繰り返して指示するので短いほうがいいです。
片手で入力できるキーワードなど

このプロンプトファイルの実行は「/」＋キーワード なので右手でだけで入力できるようにしています。

例
/lii
など

![githubcopilot002.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/44761/741423b1-9dc0-43b9-99f2-d744e72e925f.png)

※ mode: agent
ここのmodeは `ask`や`agent`、`edit`を指定できます。





```[プロンプトファイル名].prompt.md
---
description: "説明文を入力"
model: GPT-4.1
tools: ['codebase', 'usages', 'think', 'problems', 'terminalSelection', 'terminalLastCommand', 'fetch', 'githubRepo', 'editFiles', 'search', 'runCommands', 'serena', 'context7', 'sequentialthinking']
mode: agent
---

## 目的

[このプロンプトファイルの目的を書く]

## 手順

1. **[指示のお題]**

[繰り返す指示内容]

7. **全ての問題が解決するまで繰り返す**

8. **完了報告**
   - 全ての*****解消されたことを報告する。

## 注意事項
- 修正は最小限かつ正確に行う。
- 既存の動作やテストを壊さないように注意する。
- 修正内容はコミットメッセージ指示書に従い記録する。

```

※ model: GPT-4.1 などのモデルは使用したいモデルを書きます。


※1-8の繰り返す手順、指示内容部分、注意事項等は、GitHub Copilotに作成してもらい、微調整は人の手でします。


![githubcopilot003.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/44761/b0d1e30c-4c0a-411d-b0d6-f4052a77682b.png)

※toolsのところは 「ツールの構成…」ボタンが表示され、使用できるMCPのtoolsを選択できます。

使用できるMCPのtoolsはすでにインストール済みなのが選べます。



これでプロンプトファイルが作成できました。



## 実行

![スクリーンショット 2025-08-22 153755.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/44761/1cc8f523-96fe-4c9c-b4e9-e29c102f7cc8.png)

GitHub Copilotを開き、


「/」+ 設定したプロンプトファイル名を入力して

例
`/lii`

で２回決定キーを押せば実行されます。

1回目は追加指示を入力するタイミングです。

以上で終了です。


-----

※GitHub Copilotを開くのもキーボードショートカットに👇️登録済み

```keybindings.json
	////////////////////////////////////////////////////////////////
	// GitHub Copilot chat
	// ctrl+shift+xで開閉する。
	////////////////////////////////////////////////////////////////
	{
		// GitHub Copilot chat をセカンダリーサイドバーに開きます。
		// カーソルが入力場所へフォーカスします。
		"key": "ctrl+shift+x",
		"command": "workbench.panel.chat",
		"when": "workbench.panel.chat.view.copilot.active"
	},
	{
		// GitHub Copilot chat デフォルトの設定を無効化
		"key": "ctrl+alt+i",
		"command": "-workbench.panel.chat",
		"when": "workbench.panel.chat.view.copilot.active"
	},
```